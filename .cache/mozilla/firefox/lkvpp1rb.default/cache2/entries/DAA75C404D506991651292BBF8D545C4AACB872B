/*global DateTimeShortcuts, SelectFilter*/
/**
 * Django admin inlines
 *
 * Based on jQuery Formset 1.1
 * @author Stanislaus Madueke (stan DOT madueke AT gmail DOT com)
 * @requires jQuery 1.2.6 or later
 *
 * Copyright (c) 2009, Stanislaus Madueke
 * All rights reserved.
 *
 * Spiced up with Code from Zain Memon's GSoC project 2009
 * and modified for Django by Jannis Leidel, Travis Swicegood and Julien Phalip.
 *
 * Licensed under the New BSD License
 * See: https://opensource.org/licenses/bsd-license.php
 */
(function($) {
    'use strict';
    $.fn.formset = function(opts) {
        var options = $.extend({}, $.fn.formset.defaults, opts);
        var $this = $(this);
        var $parent = $this.parent();
        var updateElementIndex = function(el, prefix, ndx) {
            var id_regex = new RegExp("(" + prefix + "-(\\d+|__prefix__))");
            var replacement = prefix + "-" + ndx;
            if ($(el).prop("for")) {
                $(el).prop("for", $(el).prop("for").replace(id_regex, replacement));
            }
            if (el.id) {
                el.id = el.id.replace(id_regex, replacement);
            }
            if (el.name) {
                el.name = el.name.replace(id_regex, replacement);
            }
        };
        var totalForms = $("#id_" + options.prefix + "-TOTAL_FORMS").prop("autocomplete", "off");
        var nextIndex = parseInt(totalForms.val(), 10);
        var maxForms = $("#id_" + options.prefix + "-MAX_NUM_FORMS").prop("autocomplete", "off");
        // only show the add button if we are allowed to add more items,
        // note that max_num = None translates to a blank string.
        var showAddButton = maxForms.val() === '' || (maxForms.val() - totalForms.val()) > 0;
        $this.each(function(i) {
            $(this).not("." + options.emptyCssClass).addClass(options.formCssClass);
        });
        if ($this.length && showAddButton) {
            var addButton = options.addButton;
            if (addButton === null) {
                if ($this.prop("tagName") === "TR") {
                    // If forms are laid out as table rows, insert the
                    // "add" button in a new table row:
                    var numCols = this.eq(-1).children().length;
                    $parent.append('<tr class="' + options.addCssClass + '"><td colspan="' + numCols + '"><a href="#">' + options.addText + "</a></tr>");
                    addButton = $parent.find("tr:last a");
                } else {
                    // Otherwise, insert it immediately after the last form:
                    $this.filter(":last").after('<div class="' + options.addCssClass + '"><a href="#">' + options.addText + "</a></div>");
                    addButton = $this.filter(":last").next().find("a");
                }
            }
            addButton.on('click', function(e) {
                e.preventDefault();
                var template = $("#" + options.prefix + "-empty");
                var row = template.clone(true);
                row.removeClass(options.emptyCssClass)
                .addClass(options.formCssClass)
                .attr("id", options.prefix + "-" + nextIndex);
                if (row.is("tr")) {
                    // If the forms are laid out in table rows, insert
                    // the remove button into the last table cell:
                    row.children(":last").append('<div><a class="' + options.deleteCssClass + '" href="#">' + options.deleteText + "</a></div>");
                } else if (row.is("ul") || row.is("ol")) {
                    // If they're laid out as an ordered/unordered list,
                    // insert an <li> after the last list item:
                    row.append('<li><a class="' + options.deleteCssClass + '" href="#">' + options.deleteText + "</a></li>");
                } else {
                    // Otherwise, just insert the remove button as the
                    // last child element of the form's container:
                    row.children(":first").append('<span><a class="' + options.deleteCssClass + '" href="#">' + options.deleteText + "</a></span>");
                }
                row.find("*").each(function() {
                    updateElementIndex(this, options.prefix, totalForms.val());
                });
                // Insert the new form when it has been fully edited
                row.insertBefore($(template));
                // Update number of total forms
                $(totalForms).val(parseInt(totalForms.val(), 10) + 1);
                nextIndex += 1;
                // Hide add button in case we've hit the max, except we want to add infinitely
                if ((maxForms.val() !== '') && (maxForms.val() - totalForms.val()) <= 0) {
                    addButton.parent().hide();
                }
                // The delete button of each row triggers a bunch of other things
                row.find("a." + options.deleteCssClass).on('click', function(e1) {
                    e1.preventDefault();
                    // Remove the parent form containing this button:
                    row.remove();
                    nextIndex -= 1;
                    // If a post-delete callback was provided, call it with the deleted form:
                    if (options.removed) {
                        options.removed(row);
                    }
                    $(document).trigger('formset:removed', [row, options.prefix]);
                    // Update the TOTAL_FORMS form count.
                    var forms = $("." + options.formCssClass);
                    $("#id_" + options.prefix + "-TOTAL_FORMS").val(forms.length);
                    // Show add button again once we drop below max
                    if ((maxForms.val() === '') || (maxForms.val() - forms.length) > 0) {
                        addButton.parent().show();
                    }
                    // Also, update names and ids for all remaining form controls
                    // so they remain in sequence:
                    var i, formCount;
                    var updateElementCallback = function() {
                        updateElementIndex(this, options.prefix, i);
                    };
                    for (i = 0, formCount = forms.length; i < formCount; i++) {
                        updateElementIndex($(forms).get(i), options.prefix, i);
                        $(forms.get(i)).find("*").each(updateElementCallback);
                    }
                });
                // If a post-add callback was supplied, call it with the added form:
                if (options.added) {
                    options.added(row);
                }
                $(document).trigger('formset:added', [row, options.prefix]);
            });
        }
        return this;
    };

    /* Setup plugin defaults */
    $.fn.formset.defaults = {
        prefix: "form",          // The form prefix for your django formset
        addText: "add another",      // Text for the add link
        deleteText: "remove",      // Text for the delete link
        addCssClass: "add-row",      // CSS class applied to the add link
        deleteCssClass: "delete-row",  // CSS class applied to the delete link
        emptyCssClass: "empty-row",    // CSS class applied to the empty row
        formCssClass: "dynamic-form",  // CSS class applied to each form in a formset
        added: null,          // Function called each time a new form is added
        removed: null,          // Function called each time a form is deleted
        addButton: null       // Existing add button to use
    };


    // Tabular inlines ---------------------------------------------------------
    $.fn.tabularFormset = function(selector, options) {
        var $rows = $(this);
        var alternatingRows = function(row) {
            $(selector).not(".add-row").removeClass("row1 row2")
            .filter(":even").addClass("row1").end()
            .filter(":odd").addClass("row2");
        };

        var reinitDateTimeShortCuts = function() {
            // Reinitialize the calendar and clock widgets by force
            if (typeof DateTimeShortcuts !== "undefined") {
                $(".datetimeshortcuts").remove();
                DateTimeShortcuts.init();
            }
        };

        var updateSelectFilter = function() {
            // If any SelectFilter widgets are a part of the new form,
            // instantiate a new SelectFilter instance for it.
            if (typeof SelectFilter !== 'undefined') {
                $('.selectfilter').each(function(index, value) {
                    var namearr = value.name.split('-');
                    SelectFilter.init(value.id, namearr[namearr.length - 1], false);
                });
                $('.selectfilterstacked').each(function(index, value) {
                    var namearr = value.name.split('-');
                    SelectFilter.init(value.id, namearr[namearr.length - 1], true);
                });
            }
        };

        var initPrepopulatedFields = function(row) {
            row.find('.prepopulated_field').each(function() {
                var field = $(this),
                    input = field.find('input, select, textarea'),
                    dependency_list = input.data('dependency_list') || [],
                    dependencies = [];
                $.each(dependency_list, function(i, field_name) {
                    dependencies.push('#' + row.find('.field-' + field_name).find('input, select, textarea').attr('id'));
                });
                if (dependencies.length) {
                    input.prepopulate(dependencies, input.attr('maxlength'));
                }
            });
        };

        $rows.formset({
            prefix: options.prefix,
            addText: options.addText,
            formCssClass: "dynamic-" + options.prefix,
            deleteCssClass: "inline-deletelink",
            deleteText: options.deleteText,
            emptyCssClass: "empty-form",
            removed: alternatingRows,
            added: function(row) {
                initPrepopulatedFields(row);
                reinitDateTimeShortCuts();
                updateSelectFilter();
                alternatingRows(row);
            },
            addButton: options.addButton
        });

        return $rows;
    };

    // Stacked inlines ---------------------------------------------------------
    $.fn.stackedFormset = function(selector, options) {
        var $rows = $(this);
        var updateInlineLabel = function(row) {
            $(selector).find(".inline_label").each(function(i) {
                var count = i + 1;
                $(this).html($(this).html().replace(/(#\d+)/g, "#" + count));
            });
        };

        var reinitDateTimeShortCuts = function() {
            // Reinitialize the calendar and clock widgets by force, yuck.
            if (typeof DateTimeShortcuts !== "undefined") {
                $(".datetimeshortcuts").remove();
                DateTimeShortcuts.init();
            }
        };

        var updateSelectFilter = function() {
            // If any SelectFilter widgets were added, instantiate a new instance.
            if (typeof SelectFilter !== "undefined") {
                $(".selectfilter").each(function(index, value) {
                    var namearr = value.name.split('-');
                    SelectFilter.init(value.id, namearr[namearr.length - 1], false);
                });
                $(".selectfilterstacked").each(function(index, value) {
                    var namearr = value.name.split('-');
                    SelectFilter.init(value.id, namearr[namearr.length - 1], true);
                });
            }
        };

        var initPrepopulatedFields = function(row) {
            row.find('.prepopulated_field').each(function() {
                var field = $(this),
                    input = field.find('input, select, textarea'),
                    dependency_list = input.data('dependency_list') || [],
                    dependencies = [];
                $.each(dependency_list, function(i, field_name) {
                    dependencies.push('#' + row.find('.form-row .field-' + field_name).find('input, select, textarea').attr('id'));
                });
                if (dependencies.length) {
                    input.prepopulate(dependencies, input.attr('maxlength'));
                }
            });
        };

        $rows.formset({
            prefix: options.prefix,
            addText: options.addText,
            formCssClass: "dynamic-" + options.prefix,
            deleteCssClass: "inline-deletelink",
            deleteText: options.deleteText,
            emptyCssClass: "empty-form",
            removed: updateInlineLabel,
            added: function(row) {
                initPrepopulatedFields(row);
                reinitDateTimeShortCuts();
                updateSelectFilter();
                updateInlineLabel(row);
            },
            addButton: options.addButton
        });

        return $rows;
    };

    $(document).ready(function() {
        $(".js-inline-admin-formset").each(function() {
            var data = $(this).data(),
                inlineOptions = data.inlineFormset,
                selector;
            switch(data.inlineType) {
            case "stacked":
                selector = inlineOptions.name + "-group .inline-related";
                $(selector).stackedFormset(selector, inlineOptions.options);
                break;
            case "tabular":
                selector = inlineOptions.name + "-group .tabular.inline-related tbody:first > tr";
                $(selector).tabularFormset(selector, inlineOptions.options);
                break;
            }
        });
    });
})(django.jQuery);
         20190128165852                                                Ú5      / * g l o b a l   D a t e T i m e S h o r t c u t s ,   S e l e c t F i l t e r * / 
 / * * 
   *   D j a n g o   a d m i n   i n l i n e s 
   * 
   *   B a s e d   o n   j Q u e r y   F o r m s e t   1 . 1 
   *   @ a u t h o r   S t a n i s l a u s   M a d u e k e   ( s t a n   D O T   m a d u e k e   A T   g m a i l   D O T   c o m ) 
   *   @ r e q u i r e s   j Q u e r y   1 . 2 . 6   o r   l a t e r 
   * 
   *   C o p y r i g h t   ( c )   2 0 0 9 ,   S t a n i s l a u s   M a d u e k e 
   *   A l l   r i g h t s   r e s e r v e d . 
   * 
   *   S p i c e d   u p   w i t h   C o d e   f r o m   Z a i n   M e m o n ' s   G S o C   p r o j e c t   2 0 0 9 
   *   a n d   m o d i f i e d   f o r   D j a n g o   b y   J a n n i s   L e i d e l ,   T r a v i s   S w i c e g o o d   a n d   J u l i e n   P h a l i p . 
   * 
   *   L i c e n s e d   u n d e r   t h e   N e w   B S D   L i c e n s e 
   *   S e e :   h t t p s : / / o p e n s o u r c e . o r g / l i c e n s e s / b s d - l i c e n s e . p h p 
   * / 
 ( f u n c t i o n ( $ )   { 
         ' u s e   s t r i c t ' ; 
         $ . f n . f o r m s e t   =   f u n c t i o n ( o p t s )   { 
                 v a r   o p t i o n s   =   $ . e x t e n d ( { } ,   $ . f n . f o r m s e t . d e f a u l t s ,   o p t s ) ; 
                 v a r   $ t h i s   =   $ ( t h i s ) ; 
                 v a r   $ p a r e n t   =   $ t h i s . p a r e n t ( ) ; 
                 v a r   u p d a t e E l e m e n t I n d e x   =   f u n c t i o n ( e l ,   p r e f i x ,   n d x )   { 
                         v a r   i d _ r e g e x   =   n e w   R e g E x p ( " ( "   +   p r e f i x   +   " - ( \ \ d + | _ _ p r e f i x _ _ ) ) " ) ; 
                         v a r   r e p l a c e m e n t   =   p r e f i x   +   " - "   +   n d x ; 
                         i f   ( $ ( e l ) . p r o p ( " f o r " ) )   { 
                                 $ ( e l ) . p r o p ( " f o r " ,   $ ( e l ) . p r o p ( " f o r " ) . r e p l a c e ( i d _ r e g e x ,   r e p l a c e m e n t ) ) ; 
                         } 
                         i f   ( e l . i d )   { 
                                 e l . i d   =   e l . i d . r e p l a c e ( i d _ r e g e x ,   r e p l a c e m e n t ) ; 
                         } 
                         i f   ( e l . n a m e )   { 
                                 e l . n a m e   =   e l . n a m e . r e p l a c e ( i d _ r e g e x ,   r e p l a c e m e n t ) ; 
                         } 
                 } ; 
                 v a r   t o t a l F o r m s   =   $ ( " # i d _ "   +   o p t i o n s . p r e f i x   +   " - T O T A L _ F O R M S " ) . p r o p ( " a u t o c o m p l e t e " ,   " o f f " ) ; 
                 v a r   n e x t I n d e x   =   p a r s e I n t ( t o t a l F o r m s . v a l ( ) ,   1 0 ) ; 
                 v a r   m a x F o r m s   =   $ ( " # i d _ "   +   o p t i o n s . p r e f i x   +   " - M A X _ N U M _ F O R M S " ) . p r o p ( " a u t o c o m p l e t e " ,   " o f f " ) ; 
                 / /   o n l y   s h o w   t h e   a d d   b u t t o n   i f   w e   a r e   a l l o w e d   t o   a d d   m o r e   i t e m s , 
                 / /   n o t e   t h a t   m a x _ n u m   =   N o n e   t r a n s l a t e s   t o   a   b l a n k   s t r i n g . 
                 v a r   s h o w A d d B u t t o n   =   m a x F o r m s . v a l ( )   = = =   ' '   | |   ( m a x F o r m s . v a l ( )   -   t o t a l F o r m s . v a l ( ) )   >   0 ; 
                 $ t h i s . e a c h ( f u n c t i o n ( i )   { 
                         $ ( t h i s ) . n o t ( " . "   +   o p t i o n s . e m p t y C s s C l a s s ) . a d d C l a s s ( o p t i o n s . f o r m C s s C l a s s ) ; 
                 } ) ; 
                 i f   ( $ t h i s . l e n g t h   & &   s h o w A d d B u t t o n )   { 
                         v a r   a d d B u t t o n   =   o p t i o n s . a d d B u t t o n ; 
                         i f   ( a d d B u t t o n   = = =   n u l l )   { 
                                 i f   ( $ t h i s . p r o p ( " t a g N a m e " )   = = =   " T R " )   { 
                                         / /   I f   f o r m s   a r e   l a i d   o u t   a s   t a b l e   r o w s ,   i n s e r t   t h e 
                                         / /   " a d d "   b u t t o n   i n   a   n e w   t a b l e   r o w : 
                                         v a r   n u m C o l s   =   t h i s . e q ( - 1 ) . c h i l d r e n ( ) . l e n g t h ; 
                                         $ p a r e n t . a p p e n d ( ' < t r   c l a s s = " '   +   o p t i o n s . a d d C s s C l a s s   +   ' " > < t d   c o l s p a n = " '   +   n u m C o l s   +   ' " > < a   h r e f = " # " > '   +   o p t i o n s . a d d T e x t   +   " < / a > < / t r > " ) ; 
                                         a d d B u t t o n   =   $ p a r e n t . f i n d ( " t r : l a s t   a " ) ; 
                                 }   e l s e   { 
                                         / /   O t h e r w i s e ,   i n s e r t   i t   i m m e d i a t e l y   a f t e r   t h e   l a s t   f o r m : 
                                         $ t h i s . f i l t e r ( " : l a s t " ) . a f t e r ( ' < d i v   c l a s s = " '   +   o p t i o n s . a d d C s s C l a s s   +   ' " > < a   h r e f = " # " > '   +   o p t i o n s . a d d T e x t   +   " < / a > < / d i v > " ) ; 
                                         a d d B u t t o n   =   $ t h i s . f i l t e r ( " : l a s t " ) . n e x t ( ) . f i n d ( " a " ) ; 
                                 } 
                         } 
                         a d d B u t t o n . o n ( ' c l i c k ' ,   f u n c t i o n ( e )   { 
                                 e . p r e v e n t D e f a u l t ( ) ; 
                                 v a r   t e m p l a t e   =   $ ( " # "   +   o p t i o n s . p r e f i x   +   " - e m p t y " ) ; 
                                 v a r   r o w   =   t e m p l a t e . c l o n e ( t r u e ) ; 
                                 r o w . r e m o v e C l a s s ( o p t i o n s . e m p t y C s s C l a s s ) 
                                 . a d d C l a s s ( o p t i o n s . f o r m C s s C l a s s ) 
                                 . a t t r ( " i d " ,   o p t i o n s . p r e f i x   +   " - "   +   n e x t I n d e x ) ; 
                                 i f   ( r o w . i s ( " t r " ) )   { 
                                         / /   I f   t h e   f o r m s   a r e   l a i d   o u t   i n   t a b l e   r o w s ,   i n s e r t 
                                         / /   t h e   r e m o v e   b u t t o n   i n t o   t h e   l a s t   t a b l e   c e l l : 
                                         r o w . c h i l d r e n ( " : l a s t " ) . a p p e n d ( ' < d i v > < a   c l a s s = " '   +   o p t i o n s . d e l e t e C s s C l a s s   +   ' "   h r e f = " # " > '   +   o p t i o n s . d e l e t e T e x t   +   " < / a > < / d i v > " ) ; 
                                 }   e l s e   i f   ( r o w . i s ( " u l " )   | |   r o w . i s ( " o l " ) )   { 
                                         / /   I f   t h e y ' r e   l a i d   o u t   a s   a n   o r d e r e d / u n o r d e r e d   l i s t , 
                                         / /   i n s e r t   a n   < l i >   a f t e r   t h e   l a s t   l i s t   i t e m : 
                                         r o w . a p p e n d ( ' < l i > < a   c l a s s = " '   +   o p t i o n s . d e l e t e C s s C l a s s   +   ' "   h r e f = " # " > '   +   o p t i o n s . d e l e t e T e x t   +   " < / a > < / l i > " ) ; 
                                 }   e l s e   { 
                                         / /   O t h e r w i s e ,   j u s t   i n s e r t   t h e   r e m o v e   b u t t o n   a s   t h e 
                                         / /   l a s t   c h i l d   e l e m e n t   o f   t h e   f o r m ' s   c o n t a i n e r : 
                                         r o w . c h i l d r e n ( " : f i r s t " ) . a p p e n d ( ' < s p a n > < a   c l a s s = " '   +   o p t i o n s . d e l e t e C s s C l a s s   +   ' "   h r e f = " # " > '   +   o p t i o n s . d e l e t e T e x t   +   " < / a > < / s p a n > " ) ; 
                                 } 
                                 r o w . f i n d ( " * " ) . e a c h ( f u n c t i o n ( )   { 
                                         u p d a t e E l e m e n t I n d e x ( t h i s ,   o p t i o n s . p r e f i x ,   t o t a l F o r m s . v a l ( ) ) ; 
                                 } ) ; 
                                 / /   I n s e r t   t h e   n e w   f o r m   w h e n   i t   h a s   b e e n   f u l l y   e d i t e d 
                                 r o w . i n s e r t B e f o r e ( $ ( t e m p l a t e ) ) ; 
                                 / /   U p d a t e   n u m b e r   o f   t o t a l   f o r m s 
                                 $ ( t o t a l F o r m s ) . v a l ( p a r s e I n t ( t o t a l F o r m s . v a l ( ) ,   1 0 )   +   1 ) ; 
                                 n e x t I n d e x   + =   1 ; 
                                 / /   H i d e   a d d   b u t t o n   i n   c a s e   w e ' v e   h i t   t h e   m a x ,   e x c e p t   w e   w a n t   t o   a d d   i n f i n i t e l y 
                                 i f   ( ( m a x F o r m s . v a l ( )   ! = =   ' ' )   & &   ( m a x F o r m s . v a l ( )   -   t o t a l F o r m s . v a l ( ) )   < =   0 )   { 
                                         a d d B u t t o n . p a r e n t ( ) . h i d e ( ) ; 
                                 } 
                                 / /   T h e   d e l e t e   b u t t o n   o f   e a c h   r o w   t r i g g e r s   a   b u n c h   o f   o t h e r   t h i n g s 
                                 r o w . f i n d ( " a . "   +   o p t i o n s . d e l e t e C s s C l a s s ) . o n ( ' c l i c k ' ,   f u n c t i o n ( e 1 )   { 
                                         e 1 . p r e v e n t D e f a u l t ( ) ; 
                                         / /   R e m o v e   t h e   p a r e n t   f o r m   c o n t a i n i n g   t h i s   b u t t o n : 
                                         r o w . r e m o v e ( ) ; 
                                         n e x t I n d e x   - =   1 ; 
                                         / /   I f   a   p o s t - d e l e t e   c a l l b a c k   w a s   p r o v i d e d ,   c a l l   i t   w i t h   t h e   d e l e t e d   f o r m : 
                                         i f   ( o p t i o n s . r e m o v e d )   { 
                                                 o p t i o n s . r e m o v e d ( r o w ) ; 
                                         } 
                                         $ ( d o c u m e n t ) . t r i g g e r ( ' f o r m s e t : r e m o v e d ' ,   [ r o w ,   o p t i o n s . p r e f i x ] ) ; 
                                         / /   U p d a t e   t h e   T O T A L _ F O R M S   f o r m   c o u n t . 
                                         v a r   f o r m s   =   $ ( " . "   +   o p t i o n s . f o r m C s s C l a s s ) ; 
                                         $ ( " # i d _ "   +   o p t i o n s . p r e f i x   +   " - T O T A L _ F O R M S " ) . v a l ( f o r m s . l e n g t h ) ; 
                                         / /   S h o w   a d d   b u t t o n   a g a i n   o n c e   w e   d r o p   b e l o w   m a x 
                                         i f   ( ( m a x F o r m s . v a l ( )   = = =   ' ' )   | |   ( m a x F o r m s . v a l ( )   -   f o r m s . l e n g t h )   >   0 )   { 
                                                 a d d B u t t o n . p a r e n t ( ) . s h o w ( ) ; 
                                         } 
                                         / /   A l s o ,   u p d a t e   n a m e s   a n d   i d s   f o r   a l l   r e m a i n i n g   f o r m   c o n t r o l s 
                                         / /   s o   t h e y   r e m a i n   i n   s e q u e n c e : 
                                         v a r   i ,   f o r m C o u n t ; 
                                         v a r   u p d a t e E l e m e n t C a l l b a c k   =   f u n c t i o n ( )   { 
                                                 u p d a t e E l e m e n t I n d e x ( t h i s ,   o p t i o n s . p r e f i x ,   i ) ; 
                                         } ; 
                                         f o r   ( i   =   0 ,   f o r m C o u n t   =   f o r m s . l e n g t h ;   i   <   f o r m C o u n t ;   i + + )   { 
                                                 u p d a t e E l e m e n t I n d e x ( $ ( f o r m s ) . g e t ( i ) ,   o p t i o n s . p r e f i x ,   i ) ; 
                                                 $ ( f o r m s . g e t ( i ) ) . f i n d ( " * " ) . e a c h ( u p d a t e E l e m e n t C a l l b a c k ) ; 
                                         } 
                                 } ) ; 
                                 / /   I f   a   p o s t - a d d   c a l l b a c k   w a s   s u p p l i e d ,   c a l l   i t   w i t h   t h e   a d d e d   f o r m : 
                                 i f   ( o p t i o n s . a d d e d )   { 
                                         o p t i o n s . a d d e d ( r o w ) ; 
                                 } 
                                 $ ( d o c u m e n t ) . t r i g g e r ( ' f o r m s e t : a d d e d ' ,   [ r o w ,   o p t i o n s . p r e f i x ] ) ; 
                         } ) ; 
                 } 
                 r e t u r n   t h i s ; 
         } ; 
 
         / *   S e t u p   p l u g i n   d e f a u l t s   * / 
         $ . f n . f o r m s e t . d e f a u l t s   =   { 
                 p r e f i x :   " f o r m " ,                     / /   T h e   f o r m   p r e f i x   f o r   y o u r   d j a n g o   f o r m s e t 
                 a d d T e x t :   " a d d   a n o t h e r " ,             / /   T e x t   f o r   t h e   a d d   l i n k 
                 d e l e t e T e x t :   " r e m o v e " ,             / /   T e x t   f o r   t h e   d e l e t e   l i n k 
                 a d d C s s C l a s s :   " a d d - r o w " ,             / /   C S S   c l a s s   a p p l i e d   t o   t h e   a d d   l i n k 
                 d e l e t e C s s C l a s s :   " d e l e t e - r o w " ,     / /   C S S   c l a s s   a p p l i e d   t o   t h e   d e l e t e   l i n k 
                 e m p t y C s s C l a s s :   " e m p t y - r o w " ,         / /   C S S   c l a s s   a p p l i e d   t o   t h e   e m p t y   r o w 
                 f o r m C s s C l a s s :   " d y n a m i c - f o r m " ,     / /   C S S   c l a s s   a p p l i e d   t o   e a c h   f o r m   i n   a   f o r m s e t 
                 a d d e d :   n u l l ,                     / /   F u n c t i o n   c a l l e d   e a c h   t i m e   a   n e w   f o r m   i s   a d d e d 
                 r e m o v e d :   n u l l ,                     / /   F u n c t i o n   c a l l e d   e a c h   t i m e   a   f o r m   i s   d e l e t e d 
                 a d d B u t t o n :   n u l l               / /   E x i s t i n g   a d d   b u t t o n   t o   u s e 
         } ; 
 
 
         / /   T a b u l a r   i n l i n e s   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
         $ . f n . t a b u l a r F o r m s e t   =   f u n c t i o n ( s e l e c t o r ,   o p t i o n s )   { 
                 v a r   $ r o w s   =   $ ( t h i s ) ; 
                 v a r   a l t e r n a t i n g R o w s   =   f u n c t i o n ( r o w )   { 
                         $ ( s e l e c t o r ) . n o t ( " . a d d - r o w " ) . r e m o v e C l a s s ( " r o w 1   r o w 2 " ) 
                         . f i l t e r ( " : e v e n " ) . a d d C l a s s ( " r o w 1 " ) . e n d ( ) 
                         . f i l t e r ( " : o d d " ) . a d d C l a s s ( " r o w 2 " ) ; 
                 } ; 
 
                 v a r   r e i n i t D a t e T i m e S h o r t C u t s   =   f u n c t i o n ( )   { 
                         / /   R e i n i t i a l i z e   t h e   c a l e n d a r   a n d   c l o c k   w i d g e t s   b y   f o r c e 
                         i f   ( t y p e o f   D a t e T i m e S h o r t c u t s   ! = =   " u n d e f i n e d " )   { 
                                 $ ( " . d a t e t i m e s h o r t c u t s " ) . r e m o v e ( ) ; 
                                 D a t e T i m e S h o r t c u t s . i n i t ( ) ; 
                         } 
                 } ; 
 
                 v a r   u p d a t e S e l e c t F i l t e r   =   f u n c t i o n ( )   { 
                         / /   I f   a n y   S e l e c t F i l t e r   w i d g e t s   a r e   a   p a r t   o f   t h e   n e w   f o r m , 
                         / /   i n s t a n t i a t e   a   n e w   S e l e c t F i l t e r   i n s t a n c e   f o r   i t . 
                         i f   ( t y p e o f   S e l e c t F i l t e r   ! = =   ' u n d e f i n e d ' )   { 
                                 $ ( ' . s e l e c t f i l t e r ' ) . e a c h ( f u n c t i o n ( i n d e x ,   v a l u e )   { 
                                         v a r   n a m e a r r   =   v a l u e . n a m e . s p l i t ( ' - ' ) ; 
                                         S e l e c t F i l t e r . i n i t ( v a l u e . i d ,   n a m e a r r [ n a m e a r r . l e n g t h   -   1 ] ,   f a l s e ) ; 
                                 } ) ; 
                                 $ ( ' . s e l e c t f i l t e r s t a c k e d ' ) . e a c h ( f u n c t i o n ( i n d e x ,   v a l u e )   { 
                                         v a r   n a m e a r r   =   v a l u e . n a m e . s p l i t ( ' - ' ) ; 
                                         S e l e c t F i l t e r . i n i t ( v a l u e . i d ,   n a m e a r r [ n a m e a r r . l e n g t h   -   1 ] ,   t r u e ) ; 
                                 } ) ; 
                         } 
                 } ; 
 
                 v a r   i n i t P r e p o p u l a t e d F i e l d s   =   f u n c t i o n ( r o w )   { 
                         r o w . f i n d ( ' . p r e p o p u l a t e d _ f i e l d ' ) . e a c h ( f u n c t i o n ( )   { 
                                 v a r   f i e l d   =   $ ( t h i s ) , 
                                         i n p u t   =   f i e l d . f i n d ( ' i n p u t ,   s e l e c t ,   t e x t a r e a ' ) , 
                                         d e p e n d e n c y _ l i s t   =   i n p u t . d a t a ( ' d e p e n d e n c y _ l i s t ' )   | |   [ ] , 
                                         d e p e n d e n c i e s   =   [ ] ; 
                                 $ . e a c h ( d e p e n d e n c y _ l i s t ,   f u n c t i o n ( i ,   f i e l d _ n a m e )   { 
                                         d e p e n d e n c i e s . p u s h ( ' # '   +   r o w . f i n d ( ' . f i e l d - '   +   f i e l d _ n a m e ) . f i n d ( ' i n p u t ,   s e l e c t ,   t e x t a r e a ' ) . a t t r ( ' i d ' ) ) ; 
                                 } ) ; 
                                 i f   ( d e p e n d e n c i e s . l e n g t h )   { 
                                         i n p u t . p r e p o p u l a t e ( d e p e n d e n c i e s ,   i n p u t . a t t r ( ' m a x l e n g t h ' ) ) ; 
                                 } 
                         } ) ; 
                 } ; 
 
                 $ r o w s . f o r m s e t ( { 
                         p r e f i x :   o p t i o n s . p r e f i x , 
                         a d d T e x t :   o p t i o n s . a d d T e x t , 
                         f o r m C s s C l a s s :   " d y n a m i c - "   +   o p t i o n s . p r e f i x , 
                         d e l e t e C s s C l a s s :   " i n l i n e - d e l e t e l i n k " , 
                         d e l e t e T e x t :   o p t i o n s . d e l e t e T e x t , 
                         e m p t y C s s C l a s s :   " e m p t y - f o r m " , 
                         r e m o v e d :   a l t e r n a t i n g R o w s , 
                         a d d e d :   f u n c t i o n ( r o w )   { 
                                 i n i t P r e p o p u l a t e d F i e l d s ( r o w ) ; 
                                 r e i n i t D a t e T i m e S h o r t C u t s ( ) ; 
                                 u p d a t e S e l e c t F i l t e r ( ) ; 
                                 a l t e r n a t i n g R o w s ( r o w ) ; 
                         } , 
                         a d d B u t t o n :   o p t i o n s . a d d B u t t o n 
                 } ) ; 
 
                 r e t u r n   $ r o w s ; 
         } ; 
 
         / /   S t a c k e d   i n l i n e s   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
         $ . f n . s t a c k e d F o r m s e t   =   f u n c t i o n ( s e l e c t o r ,   o p t i o n s )   { 
                 v a r   $ r o w s   =   $ ( t h i s ) ; 
                 v a r   u p d a t e I n l i n e L a b e l   =   f u n c t i o n ( r o w )   { 
                         $ ( s e l e c t o r ) . f i n d ( " . i n l i n e _ l a b e l " ) . e a c h ( f u n c t i o n ( i )   { 
                                 v a r   c o u n t   =   i   +   1 ; 
                                 $ ( t h i s ) . h t m l ( $ ( t h i s ) . h t m l ( ) . r e p l a c e ( / ( # \ d + ) / g ,   " # "   +   c o u n t ) ) ; 
                         } ) ; 
                 } ; 
 
                 v a r   r e i n i t D a t e T i m e S h o r t C u t s   =   f u n c t i o n ( )   { 
                         / /   R e i n i t i a l i z e   t h e   c a l e n d a r   a n d   c l o c k   w i d g e t s   b y   f o r c e ,   y u c k . 
                         i f   ( t y p e o f   D a t e T i m e S h o r t c u t s   ! = =   " u n d e f i n e d " )   { 
                                 $ ( " . d a t e t i m e s h o r t c u t s " ) . r e m o v e ( ) ; 
                                 D a t e T i m e S h o r t c u t s . i n i t ( ) ; 
                         } 
                 } ; 
 
                 v a r   u p d a t e S e l e c t F i l t e r   =   f u n c t i o n ( )   { 
                         / /   I f   a n y   S e l e c t F i l t e r   w i d g e t s   w e r e   a d d e d ,   i n s t a n t i a t e   a   n e w   i n s t a n c e . 
                         i f   ( t y p e o f   S e l e c t F i l t e r   ! = =   " u n d e f i n e d " )   { 
                                 $ ( " . s e l e c t f i l t e r " ) . e a c h ( f u n c t i o n ( i n d e x ,   v a l u e )   { 
                                         v a r   n a m e a r r   =   v a l u e . n a m e . s p l i t ( ' - ' ) ; 
                                         S e l e c t F i l t e r . i n i t ( v a l u e . i d ,   n a m e a r r [ n a m e a r r . l e n g t h   -   1 ] ,   f a l s e ) ; 
                                 } ) ; 
                                 $ ( " . s e l e c t f i l t e r s t a c k e d " ) . e a c h ( f u n c t i o n ( i n d e x ,   v a l u e )   { 
                                         v a r   n a m e a r r   =   v a l u e . n a m e . s p l i t ( ' - ' ) ; 
                                         S e l e c t F i l t e r . i n i t ( v a l u e . i d ,   n a m e a r r [ n a m e a r r . l e n g t h   -   1 ] ,   t r u e ) ; 
                                 } ) ; 
                         } 
                 } ; 
 
                 v a r   i n i t P r e p o p u l a t e d F i e l d s   =   f u n c t i o n ( r o w )   { 
                         r o w . f i n d ( ' . p r e p o p u l a t e d _ f i e l d ' ) . e a c h ( f u n c t i o n ( )   { 
                                 v a r   f i e l d   =   $ ( t h i s ) , 
                                         i n p u t   =   f i e l d . f i n d ( ' i n p u t ,   s e l e c t ,   t e x t a r e a ' ) , 
                                         d e p e n d e n c y _ l i s t   =   i n p u t . d a t a ( ' d e p e n d e n c y _ l i s t ' )   | |   [ ] , 
                                         d e p e n d e n c i e s   =   [ ] ; 
                                 $ . e a c h ( d e p e n d e n c y _ l i s t ,   f u n c t i o n ( i ,   f i e l d _ n a m e )   { 
                                         d e p e n d e n c i e s . p u s h ( ' # '   +   r o w . f i n d ( ' . f o r m - r o w   . f i e l d - '   +   f i e l d _ n a m e ) . f i n d ( ' i n p u t ,   s e l e c t ,   t e x t a r e a ' ) . a t t r ( ' i d ' ) ) ; 
                                 } ) ; 
                                 i f   ( d e p e n d e n c i e s . l e n g t h )   { 
                                         i n p u t . p r e p o p u l a t e ( d e p e n d e n c i e s ,   i n p u t . a t t r ( ' m a x l e n g t h ' ) ) ; 
                                 } 
                         } ) ; 
                 } ; 
 
                 $ r o w s . f o r m s e t ( { 
                         p r e f i x :   o p t i o n s . p r e f i x , 
                         a d d T e x t :   o p t i o n s . a d d T e x t , 
                         f o r m C s s C l a s s :   " d y n a m i c - "   +   o p t i o n s . p r e f i x , 
                         d e l e t e C s s C l a s s :   " i n l i n e - d e l e t e l i n k " , 
                         d e l e t e T e x t :   o p t i o n s . d e l e t e T e x t , 
                         e m p t y C s s C l a s s :   " e m p t y - f o r m " , 
                         r e m o v e d :   u p d a t e I n l i n e L a b e l , 
                         a d d e d :   f u n c t i o n ( r o w )   { 
                                 i n i t P r e p o p u l a t e d F i e l d s ( r o w ) ; 
                                 r e i n i t D a t e T i m e S h o r t C u t s ( ) ; 
                                 u p d a t e S e l e c t F i l t e r ( ) ; 
                                 u p d a t e I n l i n e L a b e l ( r o w ) ; 
                         } , 
                         a d d B u t t o n :   o p t i o n s . a d d B u t t o n 
                 } ) ; 
 
                 r e t u r n   $ r o w s ; 
         } ; 
 
         $ ( d o c u m e n t ) . r e a d y ( f u n c t i o n ( )   { 
                 $ ( " . j s - i n l i n e - a d m i n - f o r m s e t " ) . e a c h ( f u n c t i o n ( )   { 
                         v a r   d a t a   =   $ ( t h i s ) . d a t a ( ) , 
                                 i n l i n e O p t i o n s   =   d a t a . i n l i n e F o r m s e t , 
                                 s e l e c t o r ; 
                         s w i t c h ( d a t a . i n l i n e T y p e )   { 
                         c a s e   " s t a c k e d " : 
                                 s e l e c t o r   =   i n l i n e O p t i o n s . n a m e   +   " - g r o u p   . i n l i n e - r e l a t e d " ; 
                                 $ ( s e l e c t o r ) . s t a c k e d F o r m s e t ( s e l e c t o r ,   i n l i n e O p t i o n s . o p t i o n s ) ; 
                                 b r e a k ; 
                         c a s e   " t a b u l a r " : 
                                 s e l e c t o r   =   i n l i n e O p t i o n s . n a m e   +   " - g r o u p   . t a b u l a r . i n l i n e - r e l a t e d   t b o d y : f i r s t   >   t r " ; 
                                 $ ( s e l e c t o r ) . t a b u l a r F o r m s e t ( s e l e c t o r ,   i n l i n e O p t i o n s . o p t i o n s ) ; 
                                 b r e a k ; 
                         } 
                 } ) ; 
         } ) ; 
 } ) ( d j a n g o . j Q u e r y ) ; 
    1       http://127.0.0.1:8000/static/admin/js/inlines.js     Ú5      Ú5                    Ç    ö    5   Á Qô®òÆÄ * ®ò¨Ä +    django   jQueryá!´!ˇˇˇˇ            ´+íHç!´!       C  —         S                                   Ü   ‡5    ‡5                    Gà   5    Ç    0   Qà   5    5   [   =   ]   =   ]   =   ]   =   ]	   =
   ]   =   ]   =   ]   @]   @]   @]   0   Qà   5    Ç   0   Qà   5    Ç   0   Qà   ö   : ∏   
Ç   Á Qô°†ò’®Ä  Öò‘†ò †ò †ò †ò †ò †ò †ò †ò¶ò¶òÃ®Ä  îò’®Ä  ◊ò’®Ä ò⁄ò¨Ä *    fn   formset	   form   prefix   add another   addText   remove   deleteText   add-row   addCssClass   delete-row   deleteCssClass   empty-row   emptyCssClass   dynamic-form   formCssClass   added   removed   addButton   defaults   tabularFormset   stackedFormset   document   readyå!´!ˇˇˇˇ      $       ´+íHç!´!     	      $.fn.formsetc  »     (   ù                         K            C  é  ;  é            
       πW  Qà  ∏    
[    à  5   5   5   T  : â   Qà  V  : W   QV   ∏   
:  W  QÇ   â   Qà  =   à   5   =   : ∏   
=	   =
   : â   Qö   ù   à   ∏   
:  ◊
: â   Qà  =   à   5   =   : ∏   
=	   =
   : â   Qà   ∏   
:  =   HD(   ÊQà   ∏   
:  à   ∏   
:  >ÊW  QV   ∏   
Ç   Á QV   Ÿ   E   ÊQV  ÊX  Êà   5   â   Qà   @H   ÊV   ∏   
=   : =   Hâ   ÊV  ∏   
◊ˇ: ∏   
:  Ÿ   W  QV  ∏   
=   à   5   =   V  =   à   5   =   Á QV  ∏   
=   : â   Q}   ÊV   ∏   
=    : ∏!   
="   à   5   =   à   5   =#   Á QV   ∏   
=    : ∏$   
:  ∏   
=%   : â   QÊà   ∏&   
='   Ç   Á QÊV  ô¶òËò
…†ò ò»†òÀò
»†òÀ®%ò‹ò‘ò,…†ò÷òùˇˇˇ˜…†ò‹ò‘ò.…®*òÃò‹òœòÃ†ò‘®.ò’¶ò–†ò¶ò–ò…Æ4òÕò
 òÕ†òˇ¢ò–òœ†®9òˇö§ò–ò òœò ®=ò€®Ä  Åò§ò    extend   fn   formset   defaults   parent	   #id_   prefix   -TOTAL_FORMS	   prop   autocomplete   off   parseInt   val   -MAX_NUM_FORMS   	   each   length   addButton   tagName   TR   eq   children   append   <tr class="   addCssClass   "><td colspan="   "><a href="#">   addText   </a></tr>	   find   tr:last a   filter   :last   after   <div class="   </a></div>	   next   a   on   clickå!´!ˇˇˇˇ   	   opts   options   $this   $parent%   updateElementIndex   totalForms   nextIndex   maxForms   showAddButton   addButton   numCols   .this      ´+íHé!´!            ç!´!       %   updateElementIndexB ˘  Ì  Ò  Ì     )   @        5ûç!´!          $.fn.formset/<c  C                                   
           Ô  S  Á  S  +                πW   Qà  V   : ∏    
=   à   5   : ∏   
à   5   Á Qô¶ò‰ò‘ò!§ò    not   .   emptyCssClass   addClass   formCssClasså!´!ˇˇˇˇ      i   .this       ´+íHöò;¯        5ûç!´!          $.fn.formset/<b &  g    g  =   *   p          row   B  `  ∆  X  ∆  Q   +           5û    B m  V  e  V  ^   L   P          i   B  ﬂ  >  ◊  >  r   8           5û  5û 5ûöò;¯ 5ûé!´!    
   é!´!   prefixã!´!é!´!   addTextã!´!é!´!   deleteTextã!´!é!´!   addCssClassã!´!é!´!   deleteCssClassã!´!é!´!   emptyCssClassã!´!é!´!   formCssClassã!´!é!´!   addedã!´!é!´!   removedã!´!é!´!   addButtonã!´!    ç!´!    	   '   $.fn.tabularFormsetc  Õ         e                         
          Ç  *  d(  "  d(  î                 πW  Qà  V  : W   QÇ    â   QÇ   â   QÇ   â   QÇ   â   QV   ∏    
[   T 5   ]   T 5   ]   =   T 5   ]   =   ]   T 5   ]   =   ]	   à   ]
   Ç   ]   T 5   ]   Á QV   ô¶ò ò»†òÀ®Ä  úòÀ®Ä  §òÀ®Ä  ≥òÀ®Ä  ¬ò–†òÕ†òÕ†ò”†ò †òÕ†ò †ò †ò ®Ä  –òÕ®Ä  ¬ò¨Ä  ”ò§ò    formset   prefix   addText   dynamic-   formCssClass#   inline-deletelink   deleteCssClass   deleteText   empty-form   emptyCssClass   removed   added   addButtonå!´!ˇˇˇˇ      selector   options   $rows   alternatingRows/   reinitDateTimeShortCuts%   updateSelectFilter-   initPrepopulatedFields   .this      ´+íHç!´!           alternatingRowsB É  7  {  7  ñ   &           5ûç!´!       /   reinitDateTimeShortCutsB  h  `   `  `   ú   .            5û ç!´!       %   updateSelectFilterB  å   1#  Ñ   1#  §   )             B ~!  ."  v!  ."  ®   0           5û    B h"  #  `"  #  ¨   7           5û  5ûç!´!       -   initPrepopulatedFieldsB a#  ı%  Y#  ı%  ≥   -              row    B  ¢#  È%  ö#  È%  ¥   9   2          dependencies    B ±$  N%  ©$  N%  π   0           5û  5û 5ûç!´!          addedB X'  (  P'  (                 5ûé!´!    	   é!´!   prefixã!´!é!´!   addTextã!´!é!´!   formCssClassã!´!é!´!   deleteCssClassã!´!é!´!   deleteTextã!´!é!´!   emptyCssClassã!´!é!´!   removedã!´!é!´!   addedã!´!é!´!   addButtonã!´!    öò;¯ 5û ç!´!       '   $.fn.stackedFormsetb ⁄(  3  “(  3  ◊   "   b          selector #   updateInlineLabel /   reinitDateTimeShortCuts %   updateSelectFilter -   initPrepopulatedFields    B 5)  *  -)  *  Ÿ   (             B x)  ¸)  p)  ¸)  ⁄   ;           5û  5û   B  9*  8+  1*  8+  ‡   .            5û   B  d+  ÷-  \+  ÷-  Ë   )             B #,  ”,  ,  ”,  Î   0           5û    B -  º-  -  º-  Ô   7           5û  5û   B .  §0  ˛-  §0  ˆ   -              row    B  G.  ò0  ?.  ò0  ˜   9   2          dependencies    B V/  ˝/  N/  ˝/  ¸   0           5û  5û 5û   B 	2  ƒ2  2  ƒ2               5û  5ûç!´!       C                                                   83  ‹5  03  ‹5                   à   =    : ∏   
Ç    Á Qô†ò⁄ò¨Ä )ò 1   .js-inline-admin-formset	   eachå!´!ˇˇˇˇ              ´+íHç!´!         C   Ÿ         E                                      p3  ‘5  h3  ‘5    3             πW  Qà   V  : ∏    
:  W   QV   5   W  QV   5   x=   Hy   Ê=   HyJ   ÊzÉ   ÊV  5   =   W  Qà   V  : ∏   
V  V  5   Á QD   ÊV  5   =	   W  Qà   V  : ∏
   
V  V  5   Á Q   Êô¶ò ò ò»†òŒ†ò†ò…pÄ  û»xÕx Ã††ò‘†ò·ò§ò`¶†ò‘†ò·ò§ò`¶†ò 	   data   inlineFormset   inlineType   stacked   tabular	   name-   -group .inline-related   stackedFormset   options_   -group .tabular.inline-related tbody:first > tr   tabularFormsetå!´!ˇˇˇˇ   	   data   inlineOptions   selector   .this         ´+íHöò;¯"        5û öò;¯ 5ûöò;¯ 5ûöò;¯ü^R3Í      \ei÷\ed$@è≤\el   1    :http://127.0.0.1:8000/static/admin/js/inlines.js necko:classified 1 strongly-framed 1 request-method GET response-head HTTP/1.1 200 OK
Date: Thu, 14 Feb 2019 12:46:24 GMT
Server: WSGIServer/0.2 CPython/3.6.8
Content-Type: application/javascript
Content-Length: 13810
Last-Modified: Thu, 14 Feb 2019 06:23:31 GMT
 original-response-headers Date: Thu, 14 Feb 2019 12:46:24 GMT
Server: WSGIServer/0.2 CPython/3.6.8
Content-Type: application/javascript
Content-Length: 13810
Last-Modified: Thu, 14 Feb 2019 06:23:31 GMT
 uncompressed-len 0 net-response-time-onstart 114 net-response-time-onstop 115 alt-data 1;13810,javascript/moz-bytecode-20190128165852 alt-data-from-child 1   ªÚ