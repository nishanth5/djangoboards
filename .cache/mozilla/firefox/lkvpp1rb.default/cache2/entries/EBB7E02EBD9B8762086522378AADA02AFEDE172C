/*
 *	INTRO
 *	login.js handles all functions related to user login state (e.g. login handlers, social auth triggers and callbacks, and password
 *	recovery handlers)
 *
 *	TRIGGER USER LOGIN:
 *	(1) For email/password login use handleSmLogin(elem) or just use ".jSMLoginBtn" or "#jSMLoginBtn" on the button since those
 *		are already bound with j$(document).on('click')
 *		elem: (selector string or jQuery object) element within the login form (usually the submit button)
 *	(2) For social channel login use TVAPP.login[j$(this).attr('data-channel')]({click_event:event})
 *		This call is bound to a click event on an element with the 'data-channel' attribute.
 *		*MUST be based on a click event to avoid pop-up blockers for the auth pop-up window*
 *
 */

TVAPP.login = {
	facebook: function(data) {
		// define variables
		data = data || {};
		var defaults = { method: 'api', permissions: TVAPP.property.facebook_permissions, rerequest:false },
			settings = j$.extend({},defaults,data),
			FBperms = {};
			permArray = settings.permissions.split(','),
			granted = true;
			
		// handle API version of login
		if(settings.method == "api") {
			if(FB) {
				FB.getLoginStatus(function(result) {
					// user already authenticated
					if(result.status=='connected') {
						// check for requested permission
						FB.api('/me/permissions',function(response) {
							// convert facebook response into usable object
							j$.each(response.data, function(i,perm) {
								FBperms[perm.permission] = perm.status == 'granted' ? 1 : 0;
							});
							// compare each requested permission with the permission response object
							j$.each(permArray, function(i,permRequest) {
								if (FBperms[j$.trim(permRequest)]===1) { // if permission already granted
									// do nothing
								} else if (FBperms[j$.trim(permRequest)]===0) { // if permission already denied
									granted=false;
									settings.rerequest=true;
								} else { // if permission not present
									granted=false;
								}
							});
							// if all permissions already granted
							if (granted) {
								// update user data
								updateUser(result.authResponse, settings.success);
								return true;
							// if permission not all granted
							} else {
								doLogin(settings);
							}
						});
					// user not already authenticated (or not logged in to facebook)
					} else {
						doLogin(settings);
		 			}
				});
			} else {
				TVAPP.facebook_loading();
			}
		// default to TV window pop-up auth
		} else {
			TVAPP.openWindow(settings.click_event);
		}


		function doLogin(settings) { // login using FB API
			var options = {
				scope:settings.permissions, 
				return_scopes:true
			};
			if(settings.rerequest) j$.extend(options,{auth_type:'rerequest'});
			FB.login(function(response) {
				if (response.authResponse) {
					var requested=settings.permissions.split(",");
					var missing = [];
					j$.each(requested, function(i,perm) {
						if(response.authResponse.grantedScopes.indexOf(j$.trim(perm)) == -1) {
							missing.push(perm);
						}
					});
					//--> TODO handle denied permissions when required
					updateUser(response.authResponse,settings.success);
				} else {
					if(settings.failure) settings.failure();
				}
 			}, options);
		}

		function updateUser(authResponse, success) { // update user data
			j$.ajax({
					type: 'POST',
					url: TVAPP.guid('/ajax/auth/facebook/access'),
					data: authResponse,
					success: function(result) {
						TVAPP.oAuthReturnHandler("facebook");
						if(success) success(); // activate callback
					},
				error: function(xhr, textStatus, error) {
					TVAPP.masterErrorHandler(xhr, textStatus, error, null);
				}
			});				
		}


	},
	linkedin: function(data) {
		// define variables
		var data = data || {};
			defaults = { method: 'default' },
			settings = j$.extend({},defaults,data);
		// handle API version of login
		if(settings.method == "api") {
			j$.log('API Method');
			if (IN.User.isAuthorized()) {
				j$.log('ALREADY AUTHORIZED');
//-->			// UPDATE ACCESS TOKEN & USER OBJECT
			} else {
				IN.User.authorize(function() {
//-->  				// UPDATE ACCESS TOKEN & USER OBJECT
					j$.log('SUCCESSFUL CALLBACK');
					TVAPP.oAuthReturnHandler("linkedin");
					if(settings.success) settings.success(); // activate callback
				});
			}
		// default to TV window pop-up auth
		} else {
			TVAPP.openWindow(settings.click_event);
		}
	},
	twitter: function(data) {
		// define variables
		var data = data || {};
		// twitter has no API, must use TV window pop-up auth
		TVAPP.openWindow(data.click_event);
	},
	weibo: function(data) {
		// define variables
		var data = data || {};
		// use TV window pop-up auth
		TVAPP.openWindow(data.click_event);
	},

	// this function will determine how/when to close the modal depending on the user's path through the sign-in/sign-up process
	bindRegister: function(data) {
		data = data || {};
		// run this function on the 'userInfoUpdated' event
		j$(document).unbind(".register").bind("userInfoUpdated.register.modal", function() {
			// if user is 'unregistered, they must have signed in via social network that was not tethered to an account
			if(TVAPP.user.getRegStatus() == "unregistered") {
				// progress to the 'finish' modal
				j$.log('Social Login Complete - Not Registered');
				if(data.mode == "register") TVAPP.modal.returnState.length=0;
				TVAPP.modal.open("register_modal_finish", {}, data);
			// if user is registered, close the modal only if they were in the registration flow and have no defined nextAction
			} else if(TVAPP.modal.state != 'closed' && !TVAPP.modal.nextAction && data.mode == "register") {
				j$.log('Login/Register Complete');
				TVAPP.modal.close(true);
				j$(document).unbind(".register");
			// if user is registered but was not in registration flow simply remove this binding
			} else {
				j$(document).unbind(".register");
			}
		});
	}

};

(function(j$) {
	var theForm;
	var first_time = true;

	var showLoader = function(form) {
		if(form.hasClass('modal_login_form')) {
			TVAPP.modal.loadingStart({replace: j$('.modal_content')});
		} else if (form.attr("id") == "reg_sm_login" || form.attr("id") == "bt_login_form") {
			j$(".loading", form).css({"display": "block"})
				.spin({
					lines: 13, // The number of lines to draw
					length: 2, // The length of each line
					width: 3, // The line thickness
					radius: 7, // The radius of the inner circle
					corners: 1, // Corner roundness (0..1)
					rotate: 0, // The rotation offset
					direction: 1, // 1: clockwise, -1: counterclockwise
					color: '#333', // #rgb or #rrggbb
					speed: 1, // Rounds per second
					trail: 91, // Afterglow percentage
					shadow: false, // Whether to render a shadow
					hwaccel: false, // Whether to use hardware acceleration
					className: 'spinner', // The CSS class to assign to the spinner
					zIndex: 2e9, // The z-index (defaults to 2000000000)
					top: 'auto', // Top position relative to parent in px
					left: 'auto' // Left position relative to parent in px
				});

			j$(".action_btns", form).css({"display": "none"});
		} else if ( form.attr("id") == "form_login" || form.attr("id")== "content_sm_login"){
			j$(".loading", form).show()
				.spin({
					lines: 13, // The number of lines to draw
					length: 2, // The length of each line
					width: 3, // The line thickness
					radius: 7, // The radius of the inner circle
					corners: 1, // Corner roundness (0..1)
					rotate: 0, // The rotation offset
					direction: 1, // 1: clockwise, -1: counterclockwise
					color: '#333', // #rgb or #rrggbb
					speed: 1, // Rounds per second
					trail: 91, // Afterglow percentage
					shadow: false, // Whether to render a shadow
					hwaccel: false, // Whether to use hardware acceleration
					className: 'spinner', // The CSS class to assign to the spinner
					zIndex: 2e9, // The z-index (defaults to 2000000000)
					top: 'auto', // Top position relative to parent in px
					left: '0' // Left position relative to parent in px
				});
			j$(".action_btns", form).hide();
		} else {
			j$(".loading", form).show()
				.spin({
					lines: 13, // The number of lines to draw
					length: 2, // The length of each line
					width: 3, // The line thickness
					radius: 7, // The radius of the inner circle
					corners: 1, // Corner roundness (0..1)
					rotate: 0, // The rotation offset
					direction: 1, // 1: clockwise, -1: counterclockwise
					color: '#333', // #rgb or #rrggbb
					speed: 1, // Rounds per second
					trail: 91, // Afterglow percentage
					shadow: false, // Whether to render a shadow
					hwaccel: false, // Whether to use hardware acceleration
					className: 'spinner', // The CSS class to assign to the spinner
					zIndex: 2e9, // The z-index (defaults to 2000000000)
					top: 'auto', // Top position relative to parent in px
					left: 'auto' // Left position relative to parent in px
				});
			j$(".action_btns", form).hide();
		}
	};

	var hideLoader = function(form) {
		if(form.hasClass('modal_login_form')) {
			TVAPP.modal.loadingStop({replace: j$('.modal_content')});
		} else {
			j$("#overlay").insertBefore(".search_bubble");
			j$(".loading", form).removeClass("login_loader").hide();
			j$(".jTrayContent").css("overflow","hidden");
			j$(".action_btns", form).show().css({"display": "block"});
			j$("#overlay").removeClass("under_login_panel").hide();
		}
	};

	// For Login submission (not used anywhere?)
	var vloginProcess = function(result) {
		j$.log("loginProcess, result from server was " + JSON.stringify( result ));
		if (result.Status == "OK") {
		 	document.cookie=TVAPP.property.cookie_prefix+'_SESSION_ID='+result.UserMessage+'; path=/;';

		 	j$(document).trigger("trackPage", { url: "ga/ajax/login/Success"});

		 	if (result.Result && result.Result.redirect) {
		 		//window.location = result.Result.redirect_url;
				j$(document).trigger("channelAuthorized", { "channel" : "selectminds" } );
		 	} else {
		 		// if we weren't reloading the page:
				j$(document).trigger("channelAuthorized", { "channel" : "selectminds" } );
		 	}
			if (TVAPP.nextAction) {TVAPP.nextAction();}
		} else {
			//j$('#user_password_login').val(sha1Hash(j$('#user_password_login').val()));
			j$('#user_password_login').val(j$('#user_password_login').val());
			j$('#user_email').val(j$('#user_email_login').val());
			j$('#user_password').val(j$('#user_password_login').val());
			j$(document).trigger("finishRegistration");
		}
	};


	var handleSmLogin = function(elem) {

		var jLoginForm = j$(elem).parents("form:first");

		var user_email = j$("input[name='User.email']", jLoginForm);

		if(j$(user_email).val() == "smadmin") {
			j$(user_email).val(j$(user_email).val() + "@test.selectminds.com");
		}
		else if(j$(user_email).val() == "tvapps") {
			j$(user_email).val(j$(user_email).val() + "@selectminds.com");
		}

		var word = j$("input[name='User.usr_auth.password']", jLoginForm).val();
		j$("input[name='password']", jLoginForm).val( word );
		j$("input[name='sha1_password']", jLoginForm).val( sha1Hash(word) );
		j$("input[name='email']", jLoginForm).val( j$("input[name='User.email']", jLoginForm).val() );

		jLoginForm.validate({
			rules: {
				"User.email" : {required:true, email:true},
				"User.usr_auth.password": "required"
			},
			messages: {
				"User.email" : TVAPP.smDict('FieldError.InvalidEmail'),
				"User.usr_auth.password": TVAPP.smDict('FieldError.NoPassword')
			},
			invalidHandler: function(form, validator) {
				if (j$("input[name='User.usr_auth.password']").val()=="") {
					j$("input.fakePwText").addClass("error");
				}
			},
			errorElement:"div"
		});

		if (jLoginForm.valid()) {
			showLoader(jLoginForm);
			TVAPP.changeToXXX(j$("input[name='User.usr_auth.password']", jLoginForm));
			var callback_functions = '&callback_success=loginSuccess&callback_error=loginError&callback_form_id=' + j$(jLoginForm).attr("id");
			j$.ajax({
			    type: 'POST',
				url: TVAPP.guid(j$(jLoginForm).attr('action')),
				data: j$(jLoginForm).serialize() + callback_functions,
				dataType: 'jsonp',
				jsonp : "callback"
			});
		}
		return false;
	};


	var handleChannelAuthorized = function(e, data) {
		if (TVAPP.user.getRegStatus() == "unregistered") {
			TVAPP.inRegistrationProcess = true;
		}
	};

	TVAPP.oAuthReturnHandler = function(channel) {
		j$(document).trigger("trackPage", { url: "/ga/ajax/auth/"+channel+"/Success"});
		j$(document).trigger("channelAuthorized", {"channel":channel});
	};
	TVAPP.handleChannelAuthCancelled = function(channel) {
		j$.log('channelAuthCancelled: '+channel);
		j$(document).trigger('channelAuthCancelled', {"channel":channel});
	};
	TVAPP.handleChannelAuthConflict = function(channel) {
		j$.log('channelAuthConflict: '+channel);
		j$(document).trigger('channelAuthConflict', {"channel":channel});
	};

	// header clickover form
	j$(document).on("click", ".jSMLoginBtn, #jSMLoginBtn", function(event) { handleSmLogin(this); return false; });

	// header clickover form
	j$(document).on("click","#jForgotSubmit,.jForgotSubmit", function(e) {
		e.preventDefault();
		var jForgotForm = j$(this).parents("form:first");
		var word = j$("input[name='User.usr_auth.password']", jForgotForm).val();
		var currForm = jForgotForm.validate(
			{
				rules: {
					"User.email" : {required:true, email:true}
				},
				messages: {
					"User.email" : TVAPP.smDict("FieldError.InvalidEmail")
				},
				errorElement:"div"
			}
		);
		if (j$(jForgotForm).valid()) {
			showLoader(jForgotForm);

			j$.ajax({
				type: 'POST',
				url: TVAPP.guid(jForgotForm.attr('action')),
				data: jForgotForm.serialize(),
				success: function(result) {
					hideLoader(jForgotForm);
					j$("body").modal({
						"text":result.UserMessage,
						"onClose": function() {
							j$('input[name="User.email"]', jForgotForm).val('');
							j$('#jPasswordCancel' , jForgotForm).trigger('click');
						}
					});
				},
				dataType: 'json',
				error: function(xhr, textStatus, error) {
					hideLoader(jForgotForm);
					if(xhr.status==400) {
						var result = JSON.parse(xhr.responseText);
						if (result.Errors['GENERIC_ERROR_STRING']) {
							j$("body").modal({"text":result.Errors['GENERIC_ERROR_STRING']});
						}
					} else {
						TVAPP.masterErrorHandler(xhr, textStatus, error, null);
					}
				}
			});
		}
	});

	// header clickover form
	j$(document).on('keydown', '#jPanelPasswordForm input[type="text"]', function(e) {
		if (e.which == 13) {
			j$(this).blur();
			j$("#jForgotSubmit").trigger("click");
		}
	});

	// header clickover form
	j$(document).on('keydown', '#jPanelLoginForm input[type="text"],#jPanelLoginForm input[type="password"]', function(e) {
		if (e.which == 13) {
			j$(this).blur();
			handleSmLogin(this);
		}
	});

	// forced login modal and forgot password modal
	j$(document).on('keydown', '#forgot_password_form input[type="text"],#forgot_password_form input[type="password"]', function(e) {
		if (e.which == 13) {
			j$(this).blur();
			j$(".jForgotSubmit").trigger("click");
		}
	});

	// login timeout
	j$('.jContentSMLogin input[type="text"],.jContentSMLogin input[type="password"]').bind("keydown", function(e) {
		if (e.which == 13) {
			j$(this).blur();
			handleSmLogin(this);
		}
	});

	// login timout
	j$(".jRegisterBtn").click(function() {
		j$(document).trigger("registerClicked");
		return false;
	});

	// Only works for modal version (because it is the only path that hooks in)
	var handleLoginModal = function(e,data) {
		data = data || {};
		TVAPP.login.bindRegister(data);
		TVAPP.modal.open("login_modal", {}, data);
	};

	var handleLoginModalInitialize = function(e,data) {
		var modal = j$('#cboxLoadedContent');
		// center the channels vertically (desktop only)
		if(!j$('body').hasClass('mobile')){
			j$('.jChannelSection',modal).css("margin-top", function() {
				return (j$('.signin_wrapper', modal).height()-j$('.jChannelSection',modal).height())/2;
			});
			j$('.email_signin',modal).css("margin-top", function() {
				return (j$('.signin_wrapper', modal).height()-j$('.email_signin',modal).outerHeight())/2;
			});
			// need to explicitly set the height for scaling the "OR"
			j$('.signin_wrapper', modal).height(j$('.signin_wrapper', modal).height()); // gave in and added to css
		}

		j$(".jChannelSection a").each(function() {
			j$(this).click(function(event) {
				event.preventDefault();
				if (!j$(this).hasClass("disabled")) {
					TVAPP.login[j$(this).attr('data-channel')](j$.extend({},data,{click_event: event}));
				}
			});
			if (j$(this).hasClass("custom_tooltip") && !j$(this).hasClass("disabled")) {
				j$(this).tooltip({
					placement:'right',
					title: TVAPP.smDict('SocialNetwork.TooltipText.'+j$(this).attr('id'))
				});
			}
		});

		j$('input[type="text"], input[type="password"]', modal).bind("keydown", function(e) {
			if (e.which == 13) {
				j$(this).blur();
				handleSmLogin(this);
			}
		});
/*
		j$(".jSMLoginBtn", modal).click(function(event) {
			// Call to login handler already bound via "on()" in login.js
		});
*/
		j$(".jForgotPassword",modal).click(function(e) {
			e.preventDefault();
			j$(document).trigger('forgotPassword', {saveState:true});
		});

	};
	var handleForceLogin = function(e,data) {
		data = data || {};
		TVAPP.modal.open("forced_login_modal", {}, j$.extend(data,{saveState: true}));
	};

	var handleForceLoginInitialize = function(e,data) {
		var modal = j$('#cboxLoadedContent');
		// center the channels vertically (desktop only)
		if(!j$('body').hasClass('mobile')){
			j$('.jChannelSection',modal).css("margin-top", function() {
				return (j$('.signin_wrapper', modal).height()-j$('.jChannelSection',modal).height())/2;
			});
			j$('.email_signin',modal).css("margin-top", function() {
				return (j$('.signin_wrapper', modal).height()-j$('.email_signin',modal).outerHeight())/2;
			});
			// need to explicitly set the height for scaling the "OR"
			j$('.signin_wrapper', modal).height(j$('.signin_wrapper', modal).height()); // gave in and added to css
		}

		j$(".jChannelSection a").each(function() {
			j$(this).click(function(event) {
				event.preventDefault();
				if (!j$(this).hasClass("disabled")) {
					TVAPP.login[j$(this).attr('data-channel')]({click_event: event});
				}
			});
			if (j$(this).hasClass("custom_tooltip") && !j$(this).hasClass("disabled")) {
				j$(this).tooltip({
					placement:'right',
					title: TVAPP.smDict('SocialNetwork.TooltipText.'+j$(this).attr('id'))
				});
			}
		});
		j$('input[type="text"], input[type="password"]', modal).bind("keydown", function(e) {
			if (e.which == 13) {
				j$(this).blur();
				handleSmLogin(this);
			}
		});
/*
		j$(".jSMLoginBtn", modal).click(function(event) {
			// Call to login handler already bound via "on()" in login.js
		});
*/
		j$(".jForgotPassword",modal).click(function(e) {
			e.preventDefault();
			j$(document).trigger('forgotPassword', {saveState:true});
		});

		if(j$('#force_forgot_password_form')) {
			handleForgotPasswordInitialize();
		}

	};

	var handleForgotPassword = function(e,data) {
		data = data || {};
		TVAPP.modal.open("forgot_password_modal", {}, data);
	};

	var handleForgotPasswordInitialize = function(e,data) {
		var modal = j$('#cboxLoadedContent');
		j$("#jForgotPasswordSubmit",modal).click(function(e) {
			e.preventDefault();
			var jForgotForm = j$(this).parents("form:first");
			var currForm = jForgotForm.validate(
				{
					rules: {
						"User.email" : {required:true, email:true}
					},
					messages: {
						"User.email" : TVAPP.smDict("FieldError.InvalidEmail")
					},
					errorElement:"div"
				}
			);
			if (j$(jForgotForm).valid()) {
				TVAPP.modal.loadingStart({replace: j$('.modal_content')});
				j$.ajax({
					type: 'POST',
					url: TVAPP.guid(jForgotForm.attr('action')),
					data: jForgotForm.serialize(),
					success: function(result) {
						j$("body").modal({
							"text":result.UserMessage,
							"onClose": function() {
								TVAPP.modal.close();
							}
						});
					},
					dataType: 'json',
					error: function(xhr, textStatus, error) {
						if(xhr.status==400) {
							var result = JSON.parse(xhr.responseText);
							if (result.Errors['GENERIC_ERROR_STRING']) {
								j$("body").modal({"text":result.Errors['GENERIC_ERROR_STRING']});
							}
						} else {
							TVAPP.masterErrorHandler(xhr, textStatus, error, null);
						}
					},
					complete: function() {
						TVAPP.modal.loadingStop({replace: j$('.modal_content')});
					}
				});
			}
		});

	};

	j$(document).bind("channelAuthorized", handleChannelAuthorized);
	j$(document).bind("loginModal", handleLoginModal);
	j$(document).bind("login_modal_init", handleLoginModalInitialize);
	j$(document).bind("forceLogin", handleForceLogin);
	j$(document).bind("forced_login_modal_init", handleForceLoginInitialize);
	j$(document).bind("forgotPassword", handleForgotPassword);
	j$(document).bind("forgot_password_modal_init", handleForgotPasswordInitialize);

})(jQuery);


	function isCsrfSafeMethod(method) {
	   // these HTTP methods do not require CSRF protection
		var result = (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method)) || (/^(get|head|options|trace)$/.test(method));
		return result;
	}
// For Login submission
function loginSuccess(result) {
	//j$.log("loginProcess, result from server was " + JSON.stringify( result ));
	if (result.Status == "OK") {
	 	document.cookie=TVAPP.property.cookie_prefix+'_SESSION_ID='+result.UserMessage+'; path=/;';
	 	
	 	j$('#tsstoken').val(result.Result.token);
	 	
	 		j$.ajaxSetup({
	 			beforeSend : function(jqXHR, settings) {
	 					  	if (!isCsrfSafeMethod(settings.type) && !this.crossDomain) {
	 					  	jqXHR.setRequestHeader('tss-token', j$('#tsstoken').val());
	 					  	 }
	 						}
	 		});

	 	j$(document).trigger("trackPage", { url: "ga/ajax/login/Success"});

	 	if (result.Result && result.Result.redirect) {
	 		//window.location = result.Result.redirect_url;
			j$(document).trigger("channelAuthorized", { "channel" : "selectminds" } );
	 	} else {
	 		// if we weren't reloading the page:
			j$(document).trigger("channelAuthorized", { "channel" : "selectminds" } );
	 	}
	 	if (TVAPP.nextAction) {TVAPP.nextAction();}
	} else {
		//j$('#user_password_login').val(sha1Hash(j$('#user_password_login').val()));
		j$('#user_password_login').val(j$('#user_password_login').val());
		j$('#user_email').val(j$('#user_email_login').val());
		j$('#user_password').val(j$('#user_password_login').val());
	}
}

var hideLoaderJsonP = function(form) {
	if(form.hasClass('modal_login_form')) {
		TVAPP.modal.loadingStop({replace: j$('.modal_content')});
	} else {
		j$("#overlay").insertBefore(".search_bubble");
		j$(".loading", form).removeClass("login_loader").hide();
		j$(".jTrayContent").css("overflow","hidden");
		j$(".action_btns", form).show().css({"display": "block"});
		j$("#overlay").removeClass("under_login_panel").hide();
	}
};


// For Login errors
function loginError(result) {

	var jLoginForm = j$("#" + result.CallbackFormId);

	hideLoaderJsonP(jLoginForm);

	var xhr_sim = {"status":result.ActualErrorCode,"responseText":JSON.stringify( result )}

	TVAPP.masterErrorHandler(xhr_sim, "", result.Errors.GENERIC_ERROR_STRING, null, {'onClose': function(){}});
	j$("input[name='User.usr_auth.password']", jLoginForm).val("").blur();
	//j$("input[name='User.email']", jLoginForm).val("").blur();
}
         20190128165852y      	   F                                      T[      / * 
   * 	 I N T R O 
   * 	 l o g i n . j s   h a n d l e s   a l l   f u n c t i o n s   r e l a t e d   t o   u s e r   l o g i n   s t a t e   ( e . g .   l o g i n   h a n d l e r s ,   s o c i a l   a u t h   t r i g g e r s   a n d   c a l l b a c k s ,   a n d   p a s s w o r d 
   * 	 r e c o v e r y   h a n d l e r s ) 
   * 
   * 	 T R I G G E R   U S E R   L O G I N : 
   * 	 ( 1 )   F o r   e m a i l / p a s s w o r d   l o g i n   u s e   h a n d l e S m L o g i n ( e l e m )   o r   j u s t   u s e   " . j S M L o g i n B t n "   o r   " # j S M L o g i n B t n "   o n   t h e   b u t t o n   s i n c e   t h o s e 
   * 	 	 a r e   a l r e a d y   b o u n d   w i t h   j $ ( d o c u m e n t ) . o n ( ' c l i c k ' ) 
   * 	 	 e l e m :   ( s e l e c t o r   s t r i n g   o r   j Q u e r y   o b j e c t )   e l e m e n t   w i t h i n   t h e   l o g i n   f o r m   ( u s u a l l y   t h e   s u b m i t   b u t t o n ) 
   * 	 ( 2 )   F o r   s o c i a l   c h a n n e l   l o g i n   u s e   T V A P P . l o g i n [ j $ ( t h i s ) . a t t r ( ' d a t a - c h a n n e l ' ) ] ( { c l i c k _ e v e n t : e v e n t } ) 
   * 	 	 T h i s   c a l l   i s   b o u n d   t o   a   c l i c k   e v e n t   o n   a n   e l e m e n t   w i t h   t h e   ' d a t a - c h a n n e l '   a t t r i b u t e . 
   * 	 	 * M U S T   b e   b a s e d   o n   a   c l i c k   e v e n t   t o   a v o i d   p o p - u p   b l o c k e r s   f o r   t h e   a u t h   p o p - u p   w i n d o w * 
   * 
   * / 
 
 T V A P P . l o g i n   =   { 
 	 f a c e b o o k :   f u n c t i o n ( d a t a )   { 
 	 	 / /   d e f i n e   v a r i a b l e s 
 	 	 d a t a   =   d a t a   | |   { } ; 
 	 	 v a r   d e f a u l t s   =   {   m e t h o d :   ' a p i ' ,   p e r m i s s i o n s :   T V A P P . p r o p e r t y . f a c e b o o k _ p e r m i s s i o n s ,   r e r e q u e s t : f a l s e   } , 
 	 	 	 s e t t i n g s   =   j $ . e x t e n d ( { } , d e f a u l t s , d a t a ) , 
 	 	 	 F B p e r m s   =   { } ; 
 	 	 	 p e r m A r r a y   =   s e t t i n g s . p e r m i s s i o n s . s p l i t ( ' , ' ) , 
 	 	 	 g r a n t e d   =   t r u e ; 
 	 	 	 
 	 	 / /   h a n d l e   A P I   v e r s i o n   o f   l o g i n 
 	 	 i f ( s e t t i n g s . m e t h o d   = =   " a p i " )   { 
 	 	 	 i f ( F B )   { 
 	 	 	 	 F B . g e t L o g i n S t a t u s ( f u n c t i o n ( r e s u l t )   { 
 	 	 	 	 	 / /   u s e r   a l r e a d y   a u t h e n t i c a t e d 
 	 	 	 	 	 i f ( r e s u l t . s t a t u s = = ' c o n n e c t e d ' )   { 
 	 	 	 	 	 	 / /   c h e c k   f o r   r e q u e s t e d   p e r m i s s i o n 
 	 	 	 	 	 	 F B . a p i ( ' / m e / p e r m i s s i o n s ' , f u n c t i o n ( r e s p o n s e )   { 
 	 	 	 	 	 	 	 / /   c o n v e r t   f a c e b o o k   r e s p o n s e   i n t o   u s a b l e   o b j e c t 
 	 	 	 	 	 	 	 j $ . e a c h ( r e s p o n s e . d a t a ,   f u n c t i o n ( i , p e r m )   { 
 	 	 	 	 	 	 	 	 F B p e r m s [ p e r m . p e r m i s s i o n ]   =   p e r m . s t a t u s   = =   ' g r a n t e d '   ?   1   :   0 ; 
 	 	 	 	 	 	 	 } ) ; 
 	 	 	 	 	 	 	 / /   c o m p a r e   e a c h   r e q u e s t e d   p e r m i s s i o n   w i t h   t h e   p e r m i s s i o n   r e s p o n s e   o b j e c t 
 	 	 	 	 	 	 	 j $ . e a c h ( p e r m A r r a y ,   f u n c t i o n ( i , p e r m R e q u e s t )   { 
 	 	 	 	 	 	 	 	 i f   ( F B p e r m s [ j $ . t r i m ( p e r m R e q u e s t ) ] = = = 1 )   {   / /   i f   p e r m i s s i o n   a l r e a d y   g r a n t e d 
 	 	 	 	 	 	 	 	 	 / /   d o   n o t h i n g 
 	 	 	 	 	 	 	 	 }   e l s e   i f   ( F B p e r m s [ j $ . t r i m ( p e r m R e q u e s t ) ] = = = 0 )   {   / /   i f   p e r m i s s i o n   a l r e a d y   d e n i e d 
 	 	 	 	 	 	 	 	 	 g r a n t e d = f a l s e ; 
 	 	 	 	 	 	 	 	 	 s e t t i n g s . r e r e q u e s t = t r u e ; 
 	 	 	 	 	 	 	 	 }   e l s e   {   / /   i f   p e r m i s s i o n   n o t   p r e s e n t 
 	 	 	 	 	 	 	 	 	 g r a n t e d = f a l s e ; 
 	 	 	 	 	 	 	 	 } 
 	 	 	 	 	 	 	 } ) ; 
 	 	 	 	 	 	 	 / /   i f   a l l   p e r m i s s i o n s   a l r e a d y   g r a n t e d 
 	 	 	 	 	 	 	 i f   ( g r a n t e d )   { 
 	 	 	 	 	 	 	 	 / /   u p d a t e   u s e r   d a t a 
 	 	 	 	 	 	 	 	 u p d a t e U s e r ( r e s u l t . a u t h R e s p o n s e ,   s e t t i n g s . s u c c e s s ) ; 
 	 	 	 	 	 	 	 	 r e t u r n   t r u e ; 
 	 	 	 	 	 	 	 / /   i f   p e r m i s s i o n   n o t   a l l   g r a n t e d 
 	 	 	 	 	 	 	 }   e l s e   { 
 	 	 	 	 	 	 	 	 d o L o g i n ( s e t t i n g s ) ; 
 	 	 	 	 	 	 	 } 
 	 	 	 	 	 	 } ) ; 
 	 	 	 	 	 / /   u s e r   n o t   a l r e a d y   a u t h e n t i c a t e d   ( o r   n o t   l o g g e d   i n   t o   f a c e b o o k ) 
 	 	 	 	 	 }   e l s e   { 
 	 	 	 	 	 	 d o L o g i n ( s e t t i n g s ) ; 
 	 	   	 	 	 } 
 	 	 	 	 } ) ; 
 	 	 	 }   e l s e   { 
 	 	 	 	 T V A P P . f a c e b o o k _ l o a d i n g ( ) ; 
 	 	 	 } 
 	 	 / /   d e f a u l t   t o   T V   w i n d o w   p o p - u p   a u t h 
 	 	 }   e l s e   { 
 	 	 	 T V A P P . o p e n W i n d o w ( s e t t i n g s . c l i c k _ e v e n t ) ; 
 	 	 } 
 
 
 	 	 f u n c t i o n   d o L o g i n ( s e t t i n g s )   {   / /   l o g i n   u s i n g   F B   A P I 
 	 	 	 v a r   o p t i o n s   =   { 
 	 	 	 	 s c o p e : s e t t i n g s . p e r m i s s i o n s ,   
 	 	 	 	 r e t u r n _ s c o p e s : t r u e 
 	 	 	 } ; 
 	 	 	 i f ( s e t t i n g s . r e r e q u e s t )   j $ . e x t e n d ( o p t i o n s , { a u t h _ t y p e : ' r e r e q u e s t ' } ) ; 
 	 	 	 F B . l o g i n ( f u n c t i o n ( r e s p o n s e )   { 
 	 	 	 	 i f   ( r e s p o n s e . a u t h R e s p o n s e )   { 
 	 	 	 	 	 v a r   r e q u e s t e d = s e t t i n g s . p e r m i s s i o n s . s p l i t ( " , " ) ; 
 	 	 	 	 	 v a r   m i s s i n g   =   [ ] ; 
 	 	 	 	 	 j $ . e a c h ( r e q u e s t e d ,   f u n c t i o n ( i , p e r m )   { 
 	 	 	 	 	 	 i f ( r e s p o n s e . a u t h R e s p o n s e . g r a n t e d S c o p e s . i n d e x O f ( j $ . t r i m ( p e r m ) )   = =   - 1 )   { 
 	 	 	 	 	 	 	 m i s s i n g . p u s h ( p e r m ) ; 
 	 	 	 	 	 	 } 
 	 	 	 	 	 } ) ; 
 	 	 	 	 	 / / - - >   T O D O   h a n d l e   d e n i e d   p e r m i s s i o n s   w h e n   r e q u i r e d 
 	 	 	 	 	 u p d a t e U s e r ( r e s p o n s e . a u t h R e s p o n s e , s e t t i n g s . s u c c e s s ) ; 
 	 	 	 	 }   e l s e   { 
 	 	 	 	 	 i f ( s e t t i n g s . f a i l u r e )   s e t t i n g s . f a i l u r e ( ) ; 
 	 	 	 	 } 
   	 	 	 } ,   o p t i o n s ) ; 
 	 	 } 
 
 	 	 f u n c t i o n   u p d a t e U s e r ( a u t h R e s p o n s e ,   s u c c e s s )   {   / /   u p d a t e   u s e r   d a t a 
 	 	 	 j $ . a j a x ( { 
 	 	 	 	 	 t y p e :   ' P O S T ' , 
 	 	 	 	 	 u r l :   T V A P P . g u i d ( ' / a j a x / a u t h / f a c e b o o k / a c c e s s ' ) , 
 	 	 	 	 	 d a t a :   a u t h R e s p o n s e , 
 	 	 	 	 	 s u c c e s s :   f u n c t i o n ( r e s u l t )   { 
 	 	 	 	 	 	 T V A P P . o A u t h R e t u r n H a n d l e r ( " f a c e b o o k " ) ; 
 	 	 	 	 	 	 i f ( s u c c e s s )   s u c c e s s ( ) ;   / /   a c t i v a t e   c a l l b a c k 
 	 	 	 	 	 } , 
 	 	 	 	 e r r o r :   f u n c t i o n ( x h r ,   t e x t S t a t u s ,   e r r o r )   { 
 	 	 	 	 	 T V A P P . m a s t e r E r r o r H a n d l e r ( x h r ,   t e x t S t a t u s ,   e r r o r ,   n u l l ) ; 
 	 	 	 	 } 
 	 	 	 } ) ; 	 	 	 	 
 	 	 } 
 
 
 	 } , 
 	 l i n k e d i n :   f u n c t i o n ( d a t a )   { 
 	 	 / /   d e f i n e   v a r i a b l e s 
 	 	 v a r   d a t a   =   d a t a   | |   { } ; 
 	 	 	 d e f a u l t s   =   {   m e t h o d :   ' d e f a u l t '   } , 
 	 	 	 s e t t i n g s   =   j $ . e x t e n d ( { } , d e f a u l t s , d a t a ) ; 
 	 	 / /   h a n d l e   A P I   v e r s i o n   o f   l o g i n 
 	 	 i f ( s e t t i n g s . m e t h o d   = =   " a p i " )   { 
 	 	 	 j $ . l o g ( ' A P I   M e t h o d ' ) ; 
 	 	 	 i f   ( I N . U s e r . i s A u t h o r i z e d ( ) )   { 
 	 	 	 	 j $ . l o g ( ' A L R E A D Y   A U T H O R I Z E D ' ) ; 
 / / - - > 	 	 	 / /   U P D A T E   A C C E S S   T O K E N   &   U S E R   O B J E C T 
 	 	 	 }   e l s e   { 
 	 	 	 	 I N . U s e r . a u t h o r i z e ( f u n c t i o n ( )   { 
 / / - - >     	 	 	 	 / /   U P D A T E   A C C E S S   T O K E N   &   U S E R   O B J E C T 
 	 	 	 	 	 j $ . l o g ( ' S U C C E S S F U L   C A L L B A C K ' ) ; 
 	 	 	 	 	 T V A P P . o A u t h R e t u r n H a n d l e r ( " l i n k e d i n " ) ; 
 	 	 	 	 	 i f ( s e t t i n g s . s u c c e s s )   s e t t i n g s . s u c c e s s ( ) ;   / /   a c t i v a t e   c a l l b a c k 
 	 	 	 	 } ) ; 
 	 	 	 } 
 	 	 / /   d e f a u l t   t o   T V   w i n d o w   p o p - u p   a u t h 
 	 	 }   e l s e   { 
 	 	 	 T V A P P . o p e n W i n d o w ( s e t t i n g s . c l i c k _ e v e n t ) ; 
 	 	 } 
 	 } , 
 	 t w i t t e r :   f u n c t i o n ( d a t a )   { 
 	 	 / /   d e f i n e   v a r i a b l e s 
 	 	 v a r   d a t a   =   d a t a   | |   { } ; 
 	 	 / /   t w i t t e r   h a s   n o   A P I ,   m u s t   u s e   T V   w i n d o w   p o p - u p   a u t h 
 	 	 T V A P P . o p e n W i n d o w ( d a t a . c l i c k _ e v e n t ) ; 
 	 } , 
 	 w e i b o :   f u n c t i o n ( d a t a )   { 
 	 	 / /   d e f i n e   v a r i a b l e s 
 	 	 v a r   d a t a   =   d a t a   | |   { } ; 
 	 	 / /   u s e   T V   w i n d o w   p o p - u p   a u t h 
 	 	 T V A P P . o p e n W i n d o w ( d a t a . c l i c k _ e v e n t ) ; 
 	 } , 
 
 	 / /   t h i s   f u n c t i o n   w i l l   d e t e r m i n e   h o w / w h e n   t o   c l o s e   t h e   m o d a l   d e p e n d i n g   o n   t h e   u s e r ' s   p a t h   t h r o u g h   t h e   s i g n - i n / s i g n - u p   p r o c e s s 
 	 b i n d R e g i s t e r :   f u n c t i o n ( d a t a )   { 
 	 	 d a t a   =   d a t a   | |   { } ; 
 	 	 / /   r u n   t h i s   f u n c t i o n   o n   t h e   ' u s e r I n f o U p d a t e d '   e v e n t 
 	 	 j $ ( d o c u m e n t ) . u n b i n d ( " . r e g i s t e r " ) . b i n d ( " u s e r I n f o U p d a t e d . r e g i s t e r . m o d a l " ,   f u n c t i o n ( )   { 
 	 	 	 / /   i f   u s e r   i s   ' u n r e g i s t e r e d ,   t h e y   m u s t   h a v e   s i g n e d   i n   v i a   s o c i a l   n e t w o r k   t h a t   w a s   n o t   t e t h e r e d   t o   a n   a c c o u n t 
 	 	 	 i f ( T V A P P . u s e r . g e t R e g S t a t u s ( )   = =   " u n r e g i s t e r e d " )   { 
 	 	 	 	 / /   p r o g r e s s   t o   t h e   ' f i n i s h '   m o d a l 
 	 	 	 	 j $ . l o g ( ' S o c i a l   L o g i n   C o m p l e t e   -   N o t   R e g i s t e r e d ' ) ; 
 	 	 	 	 i f ( d a t a . m o d e   = =   " r e g i s t e r " )   T V A P P . m o d a l . r e t u r n S t a t e . l e n g t h = 0 ; 
 	 	 	 	 T V A P P . m o d a l . o p e n ( " r e g i s t e r _ m o d a l _ f i n i s h " ,   { } ,   d a t a ) ; 
 	 	 	 / /   i f   u s e r   i s   r e g i s t e r e d ,   c l o s e   t h e   m o d a l   o n l y   i f   t h e y   w e r e   i n   t h e   r e g i s t r a t i o n   f l o w   a n d   h a v e   n o   d e f i n e d   n e x t A c t i o n 
 	 	 	 }   e l s e   i f ( T V A P P . m o d a l . s t a t e   ! =   ' c l o s e d '   & &   ! T V A P P . m o d a l . n e x t A c t i o n   & &   d a t a . m o d e   = =   " r e g i s t e r " )   { 
 	 	 	 	 j $ . l o g ( ' L o g i n / R e g i s t e r   C o m p l e t e ' ) ; 
 	 	 	 	 T V A P P . m o d a l . c l o s e ( t r u e ) ; 
 	 	 	 	 j $ ( d o c u m e n t ) . u n b i n d ( " . r e g i s t e r " ) ; 
 	 	 	 / /   i f   u s e r   i s   r e g i s t e r e d   b u t   w a s   n o t   i n   r e g i s t r a t i o n   f l o w   s i m p l y   r e m o v e   t h i s   b i n d i n g 
 	 	 	 }   e l s e   { 
 	 	 	 	 j $ ( d o c u m e n t ) . u n b i n d ( " . r e g i s t e r " ) ; 
 	 	 	 } 
 	 	 } ) ; 
 	 } 
 
 } ; 
 
 ( f u n c t i o n ( j $ )   { 
 	 v a r   t h e F o r m ; 
 	 v a r   f i r s t _ t i m e   =   t r u e ; 
 
 	 v a r   s h o w L o a d e r   =   f u n c t i o n ( f o r m )   { 
 	 	 i f ( f o r m . h a s C l a s s ( ' m o d a l _ l o g i n _ f o r m ' ) )   { 
 	 	 	 T V A P P . m o d a l . l o a d i n g S t a r t ( { r e p l a c e :   j $ ( ' . m o d a l _ c o n t e n t ' ) } ) ; 
 	 	 }   e l s e   i f   ( f o r m . a t t r ( " i d " )   = =   " r e g _ s m _ l o g i n "   | |   f o r m . a t t r ( " i d " )   = =   " b t _ l o g i n _ f o r m " )   { 
 	 	 	 j $ ( " . l o a d i n g " ,   f o r m ) . c s s ( { " d i s p l a y " :   " b l o c k " } ) 
 	 	 	 	 . s p i n ( { 
 	 	 	 	 	 l i n e s :   1 3 ,   / /   T h e   n u m b e r   o f   l i n e s   t o   d r a w 
 	 	 	 	 	 l e n g t h :   2 ,   / /   T h e   l e n g t h   o f   e a c h   l i n e 
 	 	 	 	 	 w i d t h :   3 ,   / /   T h e   l i n e   t h i c k n e s s 
 	 	 	 	 	 r a d i u s :   7 ,   / /   T h e   r a d i u s   o f   t h e   i n n e r   c i r c l e 
 	 	 	 	 	 c o r n e r s :   1 ,   / /   C o r n e r   r o u n d n e s s   ( 0 . . 1 ) 
 	 	 	 	 	 r o t a t e :   0 ,   / /   T h e   r o t a t i o n   o f f s e t 
 	 	 	 	 	 d i r e c t i o n :   1 ,   / /   1 :   c l o c k w i s e ,   - 1 :   c o u n t e r c l o c k w i s e 
 	 	 	 	 	 c o l o r :   ' # 3 3 3 ' ,   / /   # r g b   o r   # r r g g b b 
 	 	 	 	 	 s p e e d :   1 ,   / /   R o u n d s   p e r   s e c o n d 
 	 	 	 	 	 t r a i l :   9 1 ,   / /   A f t e r g l o w   p e r c e n t a g e 
 	 	 	 	 	 s h a d o w :   f a l s e ,   / /   W h e t h e r   t o   r e n d e r   a   s h a d o w 
 	 	 	 	 	 h w a c c e l :   f a l s e ,   / /   W h e t h e r   t o   u s e   h a r d w a r e   a c c e l e r a t i o n 
 	 	 	 	 	 c l a s s N a m e :   ' s p i n n e r ' ,   / /   T h e   C S S   c l a s s   t o   a s s i g n   t o   t h e   s p i n n e r 
 	 	 	 	 	 z I n d e x :   2 e 9 ,   / /   T h e   z - i n d e x   ( d e f a u l t s   t o   2 0 0 0 0 0 0 0 0 0 ) 
 	 	 	 	 	 t o p :   ' a u t o ' ,   / /   T o p   p o s i t i o n   r e l a t i v e   t o   p a r e n t   i n   p x 
 	 	 	 	 	 l e f t :   ' a u t o '   / /   L e f t   p o s i t i o n   r e l a t i v e   t o   p a r e n t   i n   p x 
 	 	 	 	 } ) ; 
 
 	 	 	 j $ ( " . a c t i o n _ b t n s " ,   f o r m ) . c s s ( { " d i s p l a y " :   " n o n e " } ) ; 
 	 	 }   e l s e   i f   (   f o r m . a t t r ( " i d " )   = =   " f o r m _ l o g i n "   | |   f o r m . a t t r ( " i d " ) = =   " c o n t e n t _ s m _ l o g i n " ) { 
 	 	 	 j $ ( " . l o a d i n g " ,   f o r m ) . s h o w ( ) 
 	 	 	 	 . s p i n ( { 
 	 	 	 	 	 l i n e s :   1 3 ,   / /   T h e   n u m b e r   o f   l i n e s   t o   d r a w 
 	 	 	 	 	 l e n g t h :   2 ,   / /   T h e   l e n g t h   o f   e a c h   l i n e 
 	 	 	 	 	 w i d t h :   3 ,   / /   T h e   l i n e   t h i c k n e s s 
 	 	 	 	 	 r a d i u s :   7 ,   / /   T h e   r a d i u s   o f   t h e   i n n e r   c i r c l e 
 	 	 	 	 	 c o r n e r s :   1 ,   / /   C o r n e r   r o u n d n e s s   ( 0 . . 1 ) 
 	 	 	 	 	 r o t a t e :   0 ,   / /   T h e   r o t a t i o n   o f f s e t 
 	 	 	 	 	 d i r e c t i o n :   1 ,   / /   1 :   c l o c k w i s e ,   - 1 :   c o u n t e r c l o c k w i s e 
 	 	 	 	 	 c o l o r :   ' # 3 3 3 ' ,   / /   # r g b   o r   # r r g g b b 
 	 	 	 	 	 s p e e d :   1 ,   / /   R o u n d s   p e r   s e c o n d 
 	 	 	 	 	 t r a i l :   9 1 ,   / /   A f t e r g l o w   p e r c e n t a g e 
 	 	 	 	 	 s h a d o w :   f a l s e ,   / /   W h e t h e r   t o   r e n d e r   a   s h a d o w 
 	 	 	 	 	 h w a c c e l :   f a l s e ,   / /   W h e t h e r   t o   u s e   h a r d w a r e   a c c e l e r a t i o n 
 	 	 	 	 	 c l a s s N a m e :   ' s p i n n e r ' ,   / /   T h e   C S S   c l a s s   t o   a s s i g n   t o   t h e   s p i n n e r 
 	 	 	 	 	 z I n d e x :   2 e 9 ,   / /   T h e   z - i n d e x   ( d e f a u l t s   t o   2 0 0 0 0 0 0 0 0 0 ) 
 	 	 	 	 	 t o p :   ' a u t o ' ,   / /   T o p   p o s i t i o n   r e l a t i v e   t o   p a r e n t   i n   p x 
 	 	 	 	 	 l e f t :   ' 0 '   / /   L e f t   p o s i t i o n   r e l a t i v e   t o   p a r e n t   i n   p x 
 	 	 	 	 } ) ; 
 	 	 	 j $ ( " . a c t i o n _ b t n s " ,   f o r m ) . h i d e ( ) ; 
 	 	 }   e l s e   { 
 	 	 	 j $ ( " . l o a d i n g " ,   f o r m ) . s h o w ( ) 
 	 	 	 	 . s p i n ( { 
 	 	 	 	 	 l i n e s :   1 3 ,   / /   T h e   n u m b e r   o f   l i n e s   t o   d r a w 
 	 	 	 	 	 l e n g t h :   2 ,   / /   T h e   l e n g t h   o f   e a c h   l i n e 
 	 	 	 	 	 w i d t h :   3 ,   / /   T h e   l i n e   t h i c k n e s s 
 	 	 	 	 	 r a d i u s :   7 ,   / /   T h e   r a d i u s   o f   t h e   i n n e r   c i r c l e 
 	 	 	 	 	 c o r n e r s :   1 ,   / /   C o r n e r   r o u n d n e s s   ( 0 . . 1 ) 
 	 	 	 	 	 r o t a t e :   0 ,   / /   T h e   r o t a t i o n   o f f s e t 
 	 	 	 	 	 d i r e c t i o n :   1 ,   / /   1 :   c l o c k w i s e ,   - 1 :   c o u n t e r c l o c k w i s e 
 	 	 	 	 	 c o l o r :   ' # 3 3 3 ' ,   / /   # r g b   o r   # r r g g b b 
 	 	 	 	 	 s p e e d :   1 ,   / /   R o u n d s   p e r   s e c o n d 
 	 	 	 	 	 t r a i l :   9 1 ,   / /   A f t e r g l o w   p e r c e n t a g e 
 	 	 	 	 	 s h a d o w :   f a l s e ,   / /   W h e t h e r   t o   r e n d e r   a   s h a d o w 
 	 	 	 	 	 h w a c c e l :   f a l s e ,   / /   W h e t h e r   t o   u s e   h a r d w a r e   a c c e l e r a t i o n 
 	 	 	 	 	 c l a s s N a m e :   ' s p i n n e r ' ,   / /   T h e   C S S   c l a s s   t o   a s s i g n   t o   t h e   s p i n n e r 
 	 	 	 	 	 z I n d e x :   2 e 9 ,   / /   T h e   z - i n d e x   ( d e f a u l t s   t o   2 0 0 0 0 0 0 0 0 0 ) 
 	 	 	 	 	 t o p :   ' a u t o ' ,   / /   T o p   p o s i t i o n   r e l a t i v e   t o   p a r e n t   i n   p x 
 	 	 	 	 	 l e f t :   ' a u t o '   / /   L e f t   p o s i t i o n   r e l a t i v e   t o   p a r e n t   i n   p x 
 	 	 	 	 } ) ; 
 	 	 	 j $ ( " . a c t i o n _ b t n s " ,   f o r m ) . h i d e ( ) ; 
 	 	 } 
 	 } ; 
 
 	 v a r   h i d e L o a d e r   =   f u n c t i o n ( f o r m )   { 
 	 	 i f ( f o r m . h a s C l a s s ( ' m o d a l _ l o g i n _ f o r m ' ) )   { 
 	 	 	 T V A P P . m o d a l . l o a d i n g S t o p ( { r e p l a c e :   j $ ( ' . m o d a l _ c o n t e n t ' ) } ) ; 
 	 	 }   e l s e   { 
 	 	 	 j $ ( " # o v e r l a y " ) . i n s e r t B e f o r e ( " . s e a r c h _ b u b b l e " ) ; 
 	 	 	 j $ ( " . l o a d i n g " ,   f o r m ) . r e m o v e C l a s s ( " l o g i n _ l o a d e r " ) . h i d e ( ) ; 
 	 	 	 j $ ( " . j T r a y C o n t e n t " ) . c s s ( " o v e r f l o w " , " h i d d e n " ) ; 
 	 	 	 j $ ( " . a c t i o n _ b t n s " ,   f o r m ) . s h o w ( ) . c s s ( { " d i s p l a y " :   " b l o c k " } ) ; 
 	 	 	 j $ ( " # o v e r l a y " ) . r e m o v e C l a s s ( " u n d e r _ l o g i n _ p a n e l " ) . h i d e ( ) ; 
 	 	 } 
 	 } ; 
 
 	 / /   F o r   L o g i n   s u b m i s s i o n   ( n o t   u s e d   a n y w h e r e ? ) 
 	 v a r   v l o g i n P r o c e s s   =   f u n c t i o n ( r e s u l t )   { 
 	 	 j $ . l o g ( " l o g i n P r o c e s s ,   r e s u l t   f r o m   s e r v e r   w a s   "   +   J S O N . s t r i n g i f y (   r e s u l t   ) ) ; 
 	 	 i f   ( r e s u l t . S t a t u s   = =   " O K " )   { 
 	 	   	 d o c u m e n t . c o o k i e = T V A P P . p r o p e r t y . c o o k i e _ p r e f i x + ' _ S E S S I O N _ I D = ' + r e s u l t . U s e r M e s s a g e + ' ;   p a t h = / ; ' ; 
 
 	 	   	 j $ ( d o c u m e n t ) . t r i g g e r ( " t r a c k P a g e " ,   {   u r l :   " g a / a j a x / l o g i n / S u c c e s s " } ) ; 
 
 	 	   	 i f   ( r e s u l t . R e s u l t   & &   r e s u l t . R e s u l t . r e d i r e c t )   { 
 	 	   	 	 / / w i n d o w . l o c a t i o n   =   r e s u l t . R e s u l t . r e d i r e c t _ u r l ; 
 	 	 	 	 j $ ( d o c u m e n t ) . t r i g g e r ( " c h a n n e l A u t h o r i z e d " ,   {   " c h a n n e l "   :   " s e l e c t m i n d s "   }   ) ; 
 	 	   	 }   e l s e   { 
 	 	   	 	 / /   i f   w e   w e r e n ' t   r e l o a d i n g   t h e   p a g e : 
 	 	 	 	 j $ ( d o c u m e n t ) . t r i g g e r ( " c h a n n e l A u t h o r i z e d " ,   {   " c h a n n e l "   :   " s e l e c t m i n d s "   }   ) ; 
 	 	   	 } 
 	 	 	 i f   ( T V A P P . n e x t A c t i o n )   { T V A P P . n e x t A c t i o n ( ) ; } 
 	 	 }   e l s e   { 
 	 	 	 / / j $ ( ' # u s e r _ p a s s w o r d _ l o g i n ' ) . v a l ( s h a 1 H a s h ( j $ ( ' # u s e r _ p a s s w o r d _ l o g i n ' ) . v a l ( ) ) ) ; 
 	 	 	 j $ ( ' # u s e r _ p a s s w o r d _ l o g i n ' ) . v a l ( j $ ( ' # u s e r _ p a s s w o r d _ l o g i n ' ) . v a l ( ) ) ; 
 	 	 	 j $ ( ' # u s e r _ e m a i l ' ) . v a l ( j $ ( ' # u s e r _ e m a i l _ l o g i n ' ) . v a l ( ) ) ; 
 	 	 	 j $ ( ' # u s e r _ p a s s w o r d ' ) . v a l ( j $ ( ' # u s e r _ p a s s w o r d _ l o g i n ' ) . v a l ( ) ) ; 
 	 	 	 j $ ( d o c u m e n t ) . t r i g g e r ( " f i n i s h R e g i s t r a t i o n " ) ; 
 	 	 } 
 	 } ; 
 
 
 	 v a r   h a n d l e S m L o g i n   =   f u n c t i o n ( e l e m )   { 
 
 	 	 v a r   j L o g i n F o r m   =   j $ ( e l e m ) . p a r e n t s ( " f o r m : f i r s t " ) ; 
 
 	 	 v a r   u s e r _ e m a i l   =   j $ ( " i n p u t [ n a m e = ' U s e r . e m a i l ' ] " ,   j L o g i n F o r m ) ; 
 
 	 	 i f ( j $ ( u s e r _ e m a i l ) . v a l ( )   = =   " s m a d m i n " )   { 
 	 	 	 j $ ( u s e r _ e m a i l ) . v a l ( j $ ( u s e r _ e m a i l ) . v a l ( )   +   " @ t e s t . s e l e c t m i n d s . c o m " ) ; 
 	 	 } 
 	 	 e l s e   i f ( j $ ( u s e r _ e m a i l ) . v a l ( )   = =   " t v a p p s " )   { 
 	 	 	 j $ ( u s e r _ e m a i l ) . v a l ( j $ ( u s e r _ e m a i l ) . v a l ( )   +   " @ s e l e c t m i n d s . c o m " ) ; 
 	 	 } 
 
 	 	 v a r   w o r d   =   j $ ( " i n p u t [ n a m e = ' U s e r . u s r _ a u t h . p a s s w o r d ' ] " ,   j L o g i n F o r m ) . v a l ( ) ; 
 	 	 j $ ( " i n p u t [ n a m e = ' p a s s w o r d ' ] " ,   j L o g i n F o r m ) . v a l (   w o r d   ) ; 
 	 	 j $ ( " i n p u t [ n a m e = ' s h a 1 _ p a s s w o r d ' ] " ,   j L o g i n F o r m ) . v a l (   s h a 1 H a s h ( w o r d )   ) ; 
 	 	 j $ ( " i n p u t [ n a m e = ' e m a i l ' ] " ,   j L o g i n F o r m ) . v a l (   j $ ( " i n p u t [ n a m e = ' U s e r . e m a i l ' ] " ,   j L o g i n F o r m ) . v a l ( )   ) ; 
 
 	 	 j L o g i n F o r m . v a l i d a t e ( { 
 	 	 	 r u l e s :   { 
 	 	 	 	 " U s e r . e m a i l "   :   { r e q u i r e d : t r u e ,   e m a i l : t r u e } , 
 	 	 	 	 " U s e r . u s r _ a u t h . p a s s w o r d " :   " r e q u i r e d " 
 	 	 	 } , 
 	 	 	 m e s s a g e s :   { 
 	 	 	 	 " U s e r . e m a i l "   :   T V A P P . s m D i c t ( ' F i e l d E r r o r . I n v a l i d E m a i l ' ) , 
 	 	 	 	 " U s e r . u s r _ a u t h . p a s s w o r d " :   T V A P P . s m D i c t ( ' F i e l d E r r o r . N o P a s s w o r d ' ) 
 	 	 	 } , 
 	 	 	 i n v a l i d H a n d l e r :   f u n c t i o n ( f o r m ,   v a l i d a t o r )   { 
 	 	 	 	 i f   ( j $ ( " i n p u t [ n a m e = ' U s e r . u s r _ a u t h . p a s s w o r d ' ] " ) . v a l ( ) = = " " )   { 
 	 	 	 	 	 j $ ( " i n p u t . f a k e P w T e x t " ) . a d d C l a s s ( " e r r o r " ) ; 
 	 	 	 	 } 
 	 	 	 } , 
 	 	 	 e r r o r E l e m e n t : " d i v " 
 	 	 } ) ; 
 
 	 	 i f   ( j L o g i n F o r m . v a l i d ( ) )   { 
 	 	 	 s h o w L o a d e r ( j L o g i n F o r m ) ; 
 	 	 	 T V A P P . c h a n g e T o X X X ( j $ ( " i n p u t [ n a m e = ' U s e r . u s r _ a u t h . p a s s w o r d ' ] " ,   j L o g i n F o r m ) ) ; 
 	 	 	 v a r   c a l l b a c k _ f u n c t i o n s   =   ' & c a l l b a c k _ s u c c e s s = l o g i n S u c c e s s & c a l l b a c k _ e r r o r = l o g i n E r r o r & c a l l b a c k _ f o r m _ i d = '   +   j $ ( j L o g i n F o r m ) . a t t r ( " i d " ) ; 
 	 	 	 j $ . a j a x ( { 
 	 	 	         t y p e :   ' P O S T ' , 
 	 	 	 	 u r l :   T V A P P . g u i d ( j $ ( j L o g i n F o r m ) . a t t r ( ' a c t i o n ' ) ) , 
 	 	 	 	 d a t a :   j $ ( j L o g i n F o r m ) . s e r i a l i z e ( )   +   c a l l b a c k _ f u n c t i o n s , 
 	 	 	 	 d a t a T y p e :   ' j s o n p ' , 
 	 	 	 	 j s o n p   :   " c a l l b a c k " 
 	 	 	 } ) ; 
 	 	 } 
 	 	 r e t u r n   f a l s e ; 
 	 } ; 
 
 
 	 v a r   h a n d l e C h a n n e l A u t h o r i z e d   =   f u n c t i o n ( e ,   d a t a )   { 
 	 	 i f   ( T V A P P . u s e r . g e t R e g S t a t u s ( )   = =   " u n r e g i s t e r e d " )   { 
 	 	 	 T V A P P . i n R e g i s t r a t i o n P r o c e s s   =   t r u e ; 
 	 	 } 
 	 } ; 
 
 	 T V A P P . o A u t h R e t u r n H a n d l e r   =   f u n c t i o n ( c h a n n e l )   { 
 	 	 j $ ( d o c u m e n t ) . t r i g g e r ( " t r a c k P a g e " ,   {   u r l :   " / g a / a j a x / a u t h / " + c h a n n e l + " / S u c c e s s " } ) ; 
 	 	 j $ ( d o c u m e n t ) . t r i g g e r ( " c h a n n e l A u t h o r i z e d " ,   { " c h a n n e l " : c h a n n e l } ) ; 
 	 } ; 
 	 T V A P P . h a n d l e C h a n n e l A u t h C a n c e l l e d   =   f u n c t i o n ( c h a n n e l )   { 
 	 	 j $ . l o g ( ' c h a n n e l A u t h C a n c e l l e d :   ' + c h a n n e l ) ; 
 	 	 j $ ( d o c u m e n t ) . t r i g g e r ( ' c h a n n e l A u t h C a n c e l l e d ' ,   { " c h a n n e l " : c h a n n e l } ) ; 
 	 } ; 
 	 T V A P P . h a n d l e C h a n n e l A u t h C o n f l i c t   =   f u n c t i o n ( c h a n n e l )   { 
 	 	 j $ . l o g ( ' c h a n n e l A u t h C o n f l i c t :   ' + c h a n n e l ) ; 
 	 	 j $ ( d o c u m e n t ) . t r i g g e r ( ' c h a n n e l A u t h C o n f l i c t ' ,   { " c h a n n e l " : c h a n n e l } ) ; 
 	 } ; 
 
 	 / /   h e a d e r   c l i c k o v e r   f o r m 
 	 j $ ( d o c u m e n t ) . o n ( " c l i c k " ,   " . j S M L o g i n B t n ,   # j S M L o g i n B t n " ,   f u n c t i o n ( e v e n t )   {   h a n d l e S m L o g i n ( t h i s ) ;   r e t u r n   f a l s e ;   } ) ; 
 
 	 / /   h e a d e r   c l i c k o v e r   f o r m 
 	 j $ ( d o c u m e n t ) . o n ( " c l i c k " , " # j F o r g o t S u b m i t , . j F o r g o t S u b m i t " ,   f u n c t i o n ( e )   { 
 	 	 e . p r e v e n t D e f a u l t ( ) ; 
 	 	 v a r   j F o r g o t F o r m   =   j $ ( t h i s ) . p a r e n t s ( " f o r m : f i r s t " ) ; 
 	 	 v a r   w o r d   =   j $ ( " i n p u t [ n a m e = ' U s e r . u s r _ a u t h . p a s s w o r d ' ] " ,   j F o r g o t F o r m ) . v a l ( ) ; 
 	 	 v a r   c u r r F o r m   =   j F o r g o t F o r m . v a l i d a t e ( 
 	 	 	 { 
 	 	 	 	 r u l e s :   { 
 	 	 	 	 	 " U s e r . e m a i l "   :   { r e q u i r e d : t r u e ,   e m a i l : t r u e } 
 	 	 	 	 } , 
 	 	 	 	 m e s s a g e s :   { 
 	 	 	 	 	 " U s e r . e m a i l "   :   T V A P P . s m D i c t ( " F i e l d E r r o r . I n v a l i d E m a i l " ) 
 	 	 	 	 } , 
 	 	 	 	 e r r o r E l e m e n t : " d i v " 
 	 	 	 } 
 	 	 ) ; 
 	 	 i f   ( j $ ( j F o r g o t F o r m ) . v a l i d ( ) )   { 
 	 	 	 s h o w L o a d e r ( j F o r g o t F o r m ) ; 
 
 	 	 	 j $ . a j a x ( { 
 	 	 	 	 t y p e :   ' P O S T ' , 
 	 	 	 	 u r l :   T V A P P . g u i d ( j F o r g o t F o r m . a t t r ( ' a c t i o n ' ) ) , 
 	 	 	 	 d a t a :   j F o r g o t F o r m . s e r i a l i z e ( ) , 
 	 	 	 	 s u c c e s s :   f u n c t i o n ( r e s u l t )   { 
 	 	 	 	 	 h i d e L o a d e r ( j F o r g o t F o r m ) ; 
 	 	 	 	 	 j $ ( " b o d y " ) . m o d a l ( { 
 	 	 	 	 	 	 " t e x t " : r e s u l t . U s e r M e s s a g e , 
 	 	 	 	 	 	 " o n C l o s e " :   f u n c t i o n ( )   { 
 	 	 	 	 	 	 	 j $ ( ' i n p u t [ n a m e = " U s e r . e m a i l " ] ' ,   j F o r g o t F o r m ) . v a l ( ' ' ) ; 
 	 	 	 	 	 	 	 j $ ( ' # j P a s s w o r d C a n c e l '   ,   j F o r g o t F o r m ) . t r i g g e r ( ' c l i c k ' ) ; 
 	 	 	 	 	 	 } 
 	 	 	 	 	 } ) ; 
 	 	 	 	 } , 
 	 	 	 	 d a t a T y p e :   ' j s o n ' , 
 	 	 	 	 e r r o r :   f u n c t i o n ( x h r ,   t e x t S t a t u s ,   e r r o r )   { 
 	 	 	 	 	 h i d e L o a d e r ( j F o r g o t F o r m ) ; 
 	 	 	 	 	 i f ( x h r . s t a t u s = = 4 0 0 )   { 
 	 	 	 	 	 	 v a r   r e s u l t   =   J S O N . p a r s e ( x h r . r e s p o n s e T e x t ) ; 
 	 	 	 	 	 	 i f   ( r e s u l t . E r r o r s [ ' G E N E R I C _ E R R O R _ S T R I N G ' ] )   { 
 	 	 	 	 	 	 	 j $ ( " b o d y " ) . m o d a l ( { " t e x t " : r e s u l t . E r r o r s [ ' G E N E R I C _ E R R O R _ S T R I N G ' ] } ) ; 
 	 	 	 	 	 	 } 
 	 	 	 	 	 }   e l s e   { 
 	 	 	 	 	 	 T V A P P . m a s t e r E r r o r H a n d l e r ( x h r ,   t e x t S t a t u s ,   e r r o r ,   n u l l ) ; 
 	 	 	 	 	 } 
 	 	 	 	 } 
 	 	 	 } ) ; 
 	 	 } 
 	 } ) ; 
 
 	 / /   h e a d e r   c l i c k o v e r   f o r m 
 	 j $ ( d o c u m e n t ) . o n ( ' k e y d o w n ' ,   ' # j P a n e l P a s s w o r d F o r m   i n p u t [ t y p e = " t e x t " ] ' ,   f u n c t i o n ( e )   { 
 	 	 i f   ( e . w h i c h   = =   1 3 )   { 
 	 	 	 j $ ( t h i s ) . b l u r ( ) ; 
 	 	 	 j $ ( " # j F o r g o t S u b m i t " ) . t r i g g e r ( " c l i c k " ) ; 
 	 	 } 
 	 } ) ; 
 
 	 / /   h e a d e r   c l i c k o v e r   f o r m 
 	 j $ ( d o c u m e n t ) . o n ( ' k e y d o w n ' ,   ' # j P a n e l L o g i n F o r m   i n p u t [ t y p e = " t e x t " ] , # j P a n e l L o g i n F o r m   i n p u t [ t y p e = " p a s s w o r d " ] ' ,   f u n c t i o n ( e )   { 
 	 	 i f   ( e . w h i c h   = =   1 3 )   { 
 	 	 	 j $ ( t h i s ) . b l u r ( ) ; 
 	 	 	 h a n d l e S m L o g i n ( t h i s ) ; 
 	 	 } 
 	 } ) ; 
 
 	 / /   f o r c e d   l o g i n   m o d a l   a n d   f o r g o t   p a s s w o r d   m o d a l 
 	 j $ ( d o c u m e n t ) . o n ( ' k e y d o w n ' ,   ' # f o r g o t _ p a s s w o r d _ f o r m   i n p u t [ t y p e = " t e x t " ] , # f o r g o t _ p a s s w o r d _ f o r m   i n p u t [ t y p e = " p a s s w o r d " ] ' ,   f u n c t i o n ( e )   { 
 	 	 i f   ( e . w h i c h   = =   1 3 )   { 
 	 	 	 j $ ( t h i s ) . b l u r ( ) ; 
 	 	 	 j $ ( " . j F o r g o t S u b m i t " ) . t r i g g e r ( " c l i c k " ) ; 
 	 	 } 
 	 } ) ; 
 
 	 / /   l o g i n   t i m e o u t 
 	 j $ ( ' . j C o n t e n t S M L o g i n   i n p u t [ t y p e = " t e x t " ] , . j C o n t e n t S M L o g i n   i n p u t [ t y p e = " p a s s w o r d " ] ' ) . b i n d ( " k e y d o w n " ,   f u n c t i o n ( e )   { 
 	 	 i f   ( e . w h i c h   = =   1 3 )   { 
 	 	 	 j $ ( t h i s ) . b l u r ( ) ; 
 	 	 	 h a n d l e S m L o g i n ( t h i s ) ; 
 	 	 } 
 	 } ) ; 
 
 	 / /   l o g i n   t i m o u t 
 	 j $ ( " . j R e g i s t e r B t n " ) . c l i c k ( f u n c t i o n ( )   { 
 	 	 j $ ( d o c u m e n t ) . t r i g g e r ( " r e g i s t e r C l i c k e d " ) ; 
 	 	 r e t u r n   f a l s e ; 
 	 } ) ; 
 
 	 / /   O n l y   w o r k s   f o r   m o d a l   v e r s i o n   ( b e c a u s e   i t   i s   t h e   o n l y   p a t h   t h a t   h o o k s   i n ) 
 	 v a r   h a n d l e L o g i n M o d a l   =   f u n c t i o n ( e , d a t a )   { 
 	 	 d a t a   =   d a t a   | |   { } ; 
 	 	 T V A P P . l o g i n . b i n d R e g i s t e r ( d a t a ) ; 
 	 	 T V A P P . m o d a l . o p e n ( " l o g i n _ m o d a l " ,   { } ,   d a t a ) ; 
 	 } ; 
 
 	 v a r   h a n d l e L o g i n M o d a l I n i t i a l i z e   =   f u n c t i o n ( e , d a t a )   { 
 	 	 v a r   m o d a l   =   j $ ( ' # c b o x L o a d e d C o n t e n t ' ) ; 
 	 	 / /   c e n t e r   t h e   c h a n n e l s   v e r t i c a l l y   ( d e s k t o p   o n l y ) 
 	 	 i f ( ! j $ ( ' b o d y ' ) . h a s C l a s s ( ' m o b i l e ' ) ) { 
 	 	 	 j $ ( ' . j C h a n n e l S e c t i o n ' , m o d a l ) . c s s ( " m a r g i n - t o p " ,   f u n c t i o n ( )   { 
 	 	 	 	 r e t u r n   ( j $ ( ' . s i g n i n _ w r a p p e r ' ,   m o d a l ) . h e i g h t ( ) - j $ ( ' . j C h a n n e l S e c t i o n ' , m o d a l ) . h e i g h t ( ) ) / 2 ; 
 	 	 	 } ) ; 
 	 	 	 j $ ( ' . e m a i l _ s i g n i n ' , m o d a l ) . c s s ( " m a r g i n - t o p " ,   f u n c t i o n ( )   { 
 	 	 	 	 r e t u r n   ( j $ ( ' . s i g n i n _ w r a p p e r ' ,   m o d a l ) . h e i g h t ( ) - j $ ( ' . e m a i l _ s i g n i n ' , m o d a l ) . o u t e r H e i g h t ( ) ) / 2 ; 
 	 	 	 } ) ; 
 	 	 	 / /   n e e d   t o   e x p l i c i t l y   s e t   t h e   h e i g h t   f o r   s c a l i n g   t h e   " O R " 
 	 	 	 j $ ( ' . s i g n i n _ w r a p p e r ' ,   m o d a l ) . h e i g h t ( j $ ( ' . s i g n i n _ w r a p p e r ' ,   m o d a l ) . h e i g h t ( ) ) ;   / /   g a v e   i n   a n d   a d d e d   t o   c s s 
 	 	 } 
 
 	 	 j $ ( " . j C h a n n e l S e c t i o n   a " ) . e a c h ( f u n c t i o n ( )   { 
 	 	 	 j $ ( t h i s ) . c l i c k ( f u n c t i o n ( e v e n t )   { 
 	 	 	 	 e v e n t . p r e v e n t D e f a u l t ( ) ; 
 	 	 	 	 i f   ( ! j $ ( t h i s ) . h a s C l a s s ( " d i s a b l e d " ) )   { 
 	 	 	 	 	 T V A P P . l o g i n [ j $ ( t h i s ) . a t t r ( ' d a t a - c h a n n e l ' ) ] ( j $ . e x t e n d ( { } , d a t a , { c l i c k _ e v e n t :   e v e n t } ) ) ; 
 	 	 	 	 } 
 	 	 	 } ) ; 
 	 	 	 i f   ( j $ ( t h i s ) . h a s C l a s s ( " c u s t o m _ t o o l t i p " )   & &   ! j $ ( t h i s ) . h a s C l a s s ( " d i s a b l e d " ) )   { 
 	 	 	 	 j $ ( t h i s ) . t o o l t i p ( { 
 	 	 	 	 	 p l a c e m e n t : ' r i g h t ' , 
 	 	 	 	 	 t i t l e :   T V A P P . s m D i c t ( ' S o c i a l N e t w o r k . T o o l t i p T e x t . ' + j $ ( t h i s ) . a t t r ( ' i d ' ) ) 
 	 	 	 	 } ) ; 
 	 	 	 } 
 	 	 } ) ; 
 
 	 	 j $ ( ' i n p u t [ t y p e = " t e x t " ] ,   i n p u t [ t y p e = " p a s s w o r d " ] ' ,   m o d a l ) . b i n d ( " k e y d o w n " ,   f u n c t i o n ( e )   { 
 	 	 	 i f   ( e . w h i c h   = =   1 3 )   { 
 	 	 	 	 j $ ( t h i s ) . b l u r ( ) ; 
 	 	 	 	 h a n d l e S m L o g i n ( t h i s ) ; 
 	 	 	 } 
 	 	 } ) ; 
 / * 
 	 	 j $ ( " . j S M L o g i n B t n " ,   m o d a l ) . c l i c k ( f u n c t i o n ( e v e n t )   { 
 	 	 	 / /   C a l l   t o   l o g i n   h a n d l e r   a l r e a d y   b o u n d   v i a   " o n ( ) "   i n   l o g i n . j s 
 	 	 } ) ; 
 * / 
 	 	 j $ ( " . j F o r g o t P a s s w o r d " , m o d a l ) . c l i c k ( f u n c t i o n ( e )   { 
 	 	 	 e . p r e v e n t D e f a u l t ( ) ; 
 	 	 	 j $ ( d o c u m e n t ) . t r i g g e r ( ' f o r g o t P a s s w o r d ' ,   { s a v e S t a t e : t r u e } ) ; 
 	 	 } ) ; 
 
 	 } ; 
 	 v a r   h a n d l e F o r c e L o g i n   =   f u n c t i o n ( e , d a t a )   { 
 	 	 d a t a   =   d a t a   | |   { } ; 
 	 	 T V A P P . m o d a l . o p e n ( " f o r c e d _ l o g i n _ m o d a l " ,   { } ,   j $ . e x t e n d ( d a t a , { s a v e S t a t e :   t r u e } ) ) ; 
 	 } ; 
 
 	 v a r   h a n d l e F o r c e L o g i n I n i t i a l i z e   =   f u n c t i o n ( e , d a t a )   { 
 	 	 v a r   m o d a l   =   j $ ( ' # c b o x L o a d e d C o n t e n t ' ) ; 
 	 	 / /   c e n t e r   t h e   c h a n n e l s   v e r t i c a l l y   ( d e s k t o p   o n l y ) 
 	 	 i f ( ! j $ ( ' b o d y ' ) . h a s C l a s s ( ' m o b i l e ' ) ) { 
 	 	 	 j $ ( ' . j C h a n n e l S e c t i o n ' , m o d a l ) . c s s ( " m a r g i n - t o p " ,   f u n c t i o n ( )   { 
 	 	 	 	 r e t u r n   ( j $ ( ' . s i g n i n _ w r a p p e r ' ,   m o d a l ) . h e i g h t ( ) - j $ ( ' . j C h a n n e l S e c t i o n ' , m o d a l ) . h e i g h t ( ) ) / 2 ; 
 	 	 	 } ) ; 
 	 	 	 j $ ( ' . e m a i l _ s i g n i n ' , m o d a l ) . c s s ( " m a r g i n - t o p " ,   f u n c t i o n ( )   { 
 	 	 	 	 r e t u r n   ( j $ ( ' . s i g n i n _ w r a p p e r ' ,   m o d a l ) . h e i g h t ( ) - j $ ( ' . e m a i l _ s i g n i n ' , m o d a l ) . o u t e r H e i g h t ( ) ) / 2 ; 
 	 	 	 } ) ; 
 	 	 	 / /   n e e d   t o   e x p l i c i t l y   s e t   t h e   h e i g h t   f o r   s c a l i n g   t h e   " O R " 
 	 	 	 j $ ( ' . s i g n i n _ w r a p p e r ' ,   m o d a l ) . h e i g h t ( j $ ( ' . s i g n i n _ w r a p p e r ' ,   m o d a l ) . h e i g h t ( ) ) ;   / /   g a v e   i n   a n d   a d d e d   t o   c s s 
 	 	 } 
 
 	 	 j $ ( " . j C h a n n e l S e c t i o n   a " ) . e a c h ( f u n c t i o n ( )   { 
 	 	 	 j $ ( t h i s ) . c l i c k ( f u n c t i o n ( e v e n t )   { 
 	 	 	 	 e v e n t . p r e v e n t D e f a u l t ( ) ; 
 	 	 	 	 i f   ( ! j $ ( t h i s ) . h a s C l a s s ( " d i s a b l e d " ) )   { 
 	 	 	 	 	 T V A P P . l o g i n [ j $ ( t h i s ) . a t t r ( ' d a t a - c h a n n e l ' ) ] ( { c l i c k _ e v e n t :   e v e n t } ) ; 
 	 	 	 	 } 
 	 	 	 } ) ; 
 	 	 	 i f   ( j $ ( t h i s ) . h a s C l a s s ( " c u s t o m _ t o o l t i p " )   & &   ! j $ ( t h i s ) . h a s C l a s s ( " d i s a b l e d " ) )   { 
 	 	 	 	 j $ ( t h i s ) . t o o l t i p ( { 
 	 	 	 	 	 p l a c e m e n t : ' r i g h t ' , 
 	 	 	 	 	 t i t l e :   T V A P P . s m D i c t ( ' S o c i a l N e t w o r k . T o o l t i p T e x t . ' + j $ ( t h i s ) . a t t r ( ' i d ' ) ) 
 	 	 	 	 } ) ; 
 	 	 	 } 
 	 	 } ) ; 
 	 	 j $ ( ' i n p u t [ t y p e = " t e x t " ] ,   i n p u t [ t y p e = " p a s s w o r d " ] ' ,   m o d a l ) . b i n d ( " k e y d o w n " ,   f u n c t i o n ( e )   { 
 	 	 	 i f   ( e . w h i c h   = =   1 3 )   { 
 	 	 	 	 j $ ( t h i s ) . b l u r ( ) ; 
 	 	 	 	 h a n d l e S m L o g i n ( t h i s ) ; 
 	 	 	 } 
 	 	 } ) ; 
 / * 
 	 	 j $ ( " . j S M L o g i n B t n " ,   m o d a l ) . c l i c k ( f u n c t i o n ( e v e n t )   { 
 	 	 	 / /   C a l l   t o   l o g i n   h a n d l e r   a l r e a d y   b o u n d   v i a   " o n ( ) "   i n   l o g i n . j s 
 	 	 } ) ; 
 * / 
 	 	 j $ ( " . j F o r g o t P a s s w o r d " , m o d a l ) . c l i c k ( f u n c t i o n ( e )   { 
 	 	 	 e . p r e v e n t D e f a u l t ( ) ; 
 	 	 	 j $ ( d o c u m e n t ) . t r i g g e r ( ' f o r g o t P a s s w o r d ' ,   { s a v e S t a t e : t r u e } ) ; 
 	 	 } ) ; 
 
 	 	 i f ( j $ ( ' # f o r c e _ f o r g o t _ p a s s w o r d _ f o r m ' ) )   { 
 	 	 	 h a n d l e F o r g o t P a s s w o r d I n i t i a l i z e ( ) ; 
 	 	 } 
 
 	 } ; 
 
 	 v a r   h a n d l e F o r g o t P a s s w o r d   =   f u n c t i o n ( e , d a t a )   { 
 	 	 d a t a   =   d a t a   | |   { } ; 
 	 	 T V A P P . m o d a l . o p e n ( " f o r g o t _ p a s s w o r d _ m o d a l " ,   { } ,   d a t a ) ; 
 	 } ; 
 
 	 v a r   h a n d l e F o r g o t P a s s w o r d I n i t i a l i z e   =   f u n c t i o n ( e , d a t a )   { 
 	 	 v a r   m o d a l   =   j $ ( ' # c b o x L o a d e d C o n t e n t ' ) ; 
 	 	 j $ ( " # j F o r g o t P a s s w o r d S u b m i t " , m o d a l ) . c l i c k ( f u n c t i o n ( e )   { 
 	 	 	 e . p r e v e n t D e f a u l t ( ) ; 
 	 	 	 v a r   j F o r g o t F o r m   =   j $ ( t h i s ) . p a r e n t s ( " f o r m : f i r s t " ) ; 
 	 	 	 v a r   c u r r F o r m   =   j F o r g o t F o r m . v a l i d a t e ( 
 	 	 	 	 { 
 	 	 	 	 	 r u l e s :   { 
 	 	 	 	 	 	 " U s e r . e m a i l "   :   { r e q u i r e d : t r u e ,   e m a i l : t r u e } 
 	 	 	 	 	 } , 
 	 	 	 	 	 m e s s a g e s :   { 
 	 	 	 	 	 	 " U s e r . e m a i l "   :   T V A P P . s m D i c t ( " F i e l d E r r o r . I n v a l i d E m a i l " ) 
 	 	 	 	 	 } , 
 	 	 	 	 	 e r r o r E l e m e n t : " d i v " 
 	 	 	 	 } 
 	 	 	 ) ; 
 	 	 	 i f   ( j $ ( j F o r g o t F o r m ) . v a l i d ( ) )   { 
 	 	 	 	 T V A P P . m o d a l . l o a d i n g S t a r t ( { r e p l a c e :   j $ ( ' . m o d a l _ c o n t e n t ' ) } ) ; 
 	 	 	 	 j $ . a j a x ( { 
 	 	 	 	 	 t y p e :   ' P O S T ' , 
 	 	 	 	 	 u r l :   T V A P P . g u i d ( j F o r g o t F o r m . a t t r ( ' a c t i o n ' ) ) , 
 	 	 	 	 	 d a t a :   j F o r g o t F o r m . s e r i a l i z e ( ) , 
 	 	 	 	 	 s u c c e s s :   f u n c t i o n ( r e s u l t )   { 
 	 	 	 	 	 	 j $ ( " b o d y " ) . m o d a l ( { 
 	 	 	 	 	 	 	 " t e x t " : r e s u l t . U s e r M e s s a g e , 
 	 	 	 	 	 	 	 " o n C l o s e " :   f u n c t i o n ( )   { 
 	 	 	 	 	 	 	 	 T V A P P . m o d a l . c l o s e ( ) ; 
 	 	 	 	 	 	 	 } 
 	 	 	 	 	 	 } ) ; 
 	 	 	 	 	 } , 
 	 	 	 	 	 d a t a T y p e :   ' j s o n ' , 
 	 	 	 	 	 e r r o r :   f u n c t i o n ( x h r ,   t e x t S t a t u s ,   e r r o r )   { 
 	 	 	 	 	 	 i f ( x h r . s t a t u s = = 4 0 0 )   { 
 	 	 	 	 	 	 	 v a r   r e s u l t   =   J S O N . p a r s e ( x h r . r e s p o n s e T e x t ) ; 
 	 	 	 	 	 	 	 i f   ( r e s u l t . E r r o r s [ ' G E N E R I C _ E R R O R _ S T R I N G ' ] )   { 
 	 	 	 	 	 	 	 	 j $ ( " b o d y " ) . m o d a l ( { " t e x t " : r e s u l t . E r r o r s [ ' G E N E R I C _ E R R O R _ S T R I N G ' ] } ) ; 
 	 	 	 	 	 	 	 } 
 	 	 	 	 	 	 }   e l s e   { 
 	 	 	 	 	 	 	 T V A P P . m a s t e r E r r o r H a n d l e r ( x h r ,   t e x t S t a t u s ,   e r r o r ,   n u l l ) ; 
 	 	 	 	 	 	 } 
 	 	 	 	 	 } , 
 	 	 	 	 	 c o m p l e t e :   f u n c t i o n ( )   { 
 	 	 	 	 	 	 T V A P P . m o d a l . l o a d i n g S t o p ( { r e p l a c e :   j $ ( ' . m o d a l _ c o n t e n t ' ) } ) ; 
 	 	 	 	 	 } 
 	 	 	 	 } ) ; 
 	 	 	 } 
 	 	 } ) ; 
 
 	 } ; 
 
 	 j $ ( d o c u m e n t ) . b i n d ( " c h a n n e l A u t h o r i z e d " ,   h a n d l e C h a n n e l A u t h o r i z e d ) ; 
 	 j $ ( d o c u m e n t ) . b i n d ( " l o g i n M o d a l " ,   h a n d l e L o g i n M o d a l ) ; 
 	 j $ ( d o c u m e n t ) . b i n d ( " l o g i n _ m o d a l _ i n i t " ,   h a n d l e L o g i n M o d a l I n i t i a l i z e ) ; 
 	 j $ ( d o c u m e n t ) . b i n d ( " f o r c e L o g i n " ,   h a n d l e F o r c e L o g i n ) ; 
 	 j $ ( d o c u m e n t ) . b i n d ( " f o r c e d _ l o g i n _ m o d a l _ i n i t " ,   h a n d l e F o r c e L o g i n I n i t i a l i z e ) ; 
 	 j $ ( d o c u m e n t ) . b i n d ( " f o r g o t P a s s w o r d " ,   h a n d l e F o r g o t P a s s w o r d ) ; 
 	 j $ ( d o c u m e n t ) . b i n d ( " f o r g o t _ p a s s w o r d _ m o d a l _ i n i t " ,   h a n d l e F o r g o t P a s s w o r d I n i t i a l i z e ) ; 
 
 } ) ( j Q u e r y ) ; 
 
 
 	 f u n c t i o n   i s C s r f S a f e M e t h o d ( m e t h o d )   { 
 	       / /   t h e s e   H T T P   m e t h o d s   d o   n o t   r e q u i r e   C S R F   p r o t e c t i o n 
 	 	 v a r   r e s u l t   =   ( / ^ ( G E T | H E A D | O P T I O N S | T R A C E ) $ / . t e s t ( m e t h o d ) )   | |   ( / ^ ( g e t | h e a d | o p t i o n s | t r a c e ) $ / . t e s t ( m e t h o d ) ) ; 
 	 	 r e t u r n   r e s u l t ; 
 	 } 
 / /   F o r   L o g i n   s u b m i s s i o n 
 f u n c t i o n   l o g i n S u c c e s s ( r e s u l t )   { 
 	 / / j $ . l o g ( " l o g i n P r o c e s s ,   r e s u l t   f r o m   s e r v e r   w a s   "   +   J S O N . s t r i n g i f y (   r e s u l t   ) ) ; 
 	 i f   ( r e s u l t . S t a t u s   = =   " O K " )   { 
 	   	 d o c u m e n t . c o o k i e = T V A P P . p r o p e r t y . c o o k i e _ p r e f i x + ' _ S E S S I O N _ I D = ' + r e s u l t . U s e r M e s s a g e + ' ;   p a t h = / ; ' ; 
 	   	 
 	   	 j $ ( ' # t s s t o k e n ' ) . v a l ( r e s u l t . R e s u l t . t o k e n ) ; 
 	   	 
 	   	 	 j $ . a j a x S e t u p ( { 
 	   	 	 	 b e f o r e S e n d   :   f u n c t i o n ( j q X H R ,   s e t t i n g s )   { 
 	   	 	 	 	 	     	 i f   ( ! i s C s r f S a f e M e t h o d ( s e t t i n g s . t y p e )   & &   ! t h i s . c r o s s D o m a i n )   { 
 	   	 	 	 	 	     	 j q X H R . s e t R e q u e s t H e a d e r ( ' t s s - t o k e n ' ,   j $ ( ' # t s s t o k e n ' ) . v a l ( ) ) ; 
 	   	 	 	 	 	     	   } 
 	   	 	 	 	 	 	 } 
 	   	 	 } ) ; 
 
 	   	 j $ ( d o c u m e n t ) . t r i g g e r ( " t r a c k P a g e " ,   {   u r l :   " g a / a j a x / l o g i n / S u c c e s s " } ) ; 
 
 	   	 i f   ( r e s u l t . R e s u l t   & &   r e s u l t . R e s u l t . r e d i r e c t )   { 
 	   	 	 / / w i n d o w . l o c a t i o n   =   r e s u l t . R e s u l t . r e d i r e c t _ u r l ; 
 	 	 	 j $ ( d o c u m e n t ) . t r i g g e r ( " c h a n n e l A u t h o r i z e d " ,   {   " c h a n n e l "   :   " s e l e c t m i n d s "   }   ) ; 
 	   	 }   e l s e   { 
 	   	 	 / /   i f   w e   w e r e n ' t   r e l o a d i n g   t h e   p a g e : 
 	 	 	 j $ ( d o c u m e n t ) . t r i g g e r ( " c h a n n e l A u t h o r i z e d " ,   {   " c h a n n e l "   :   " s e l e c t m i n d s "   }   ) ; 
 	   	 } 
 	   	 i f   ( T V A P P . n e x t A c t i o n )   { T V A P P . n e x t A c t i o n ( ) ; } 
 	 }   e l s e   { 
 	 	 / / j $ ( ' # u s e r _ p a s s w o r d _ l o g i n ' ) . v a l ( s h a 1 H a s h ( j $ ( ' # u s e r _ p a s s w o r d _ l o g i n ' ) . v a l ( ) ) ) ; 
 	 	 j $ ( ' # u s e r _ p a s s w o r d _ l o g i n ' ) . v a l ( j $ ( ' # u s e r _ p a s s w o r d _ l o g i n ' ) . v a l ( ) ) ; 
 	 	 j $ ( ' # u s e r _ e m a i l ' ) . v a l ( j $ ( ' # u s e r _ e m a i l _ l o g i n ' ) . v a l ( ) ) ; 
 	 	 j $ ( ' # u s e r _ p a s s w o r d ' ) . v a l ( j $ ( ' # u s e r _ p a s s w o r d _ l o g i n ' ) . v a l ( ) ) ; 
 	 } 
 } 
 
 v a r   h i d e L o a d e r J s o n P   =   f u n c t i o n ( f o r m )   { 
 	 i f ( f o r m . h a s C l a s s ( ' m o d a l _ l o g i n _ f o r m ' ) )   { 
 	 	 T V A P P . m o d a l . l o a d i n g S t o p ( { r e p l a c e :   j $ ( ' . m o d a l _ c o n t e n t ' ) } ) ; 
 	 }   e l s e   { 
 	 	 j $ ( " # o v e r l a y " ) . i n s e r t B e f o r e ( " . s e a r c h _ b u b b l e " ) ; 
 	 	 j $ ( " . l o a d i n g " ,   f o r m ) . r e m o v e C l a s s ( " l o g i n _ l o a d e r " ) . h i d e ( ) ; 
 	 	 j $ ( " . j T r a y C o n t e n t " ) . c s s ( " o v e r f l o w " , " h i d d e n " ) ; 
 	 	 j $ ( " . a c t i o n _ b t n s " ,   f o r m ) . s h o w ( ) . c s s ( { " d i s p l a y " :   " b l o c k " } ) ; 
 	 	 j $ ( " # o v e r l a y " ) . r e m o v e C l a s s ( " u n d e r _ l o g i n _ p a n e l " ) . h i d e ( ) ; 
 	 } 
 } ; 
 
 
 / /   F o r   L o g i n   e r r o r s 
 f u n c t i o n   l o g i n E r r o r ( r e s u l t )   { 
 
 	 v a r   j L o g i n F o r m   =   j $ ( " # "   +   r e s u l t . C a l l b a c k F o r m I d ) ; 
 
 	 h i d e L o a d e r J s o n P ( j L o g i n F o r m ) ; 
 
 	 v a r   x h r _ s i m   =   { " s t a t u s " : r e s u l t . A c t u a l E r r o r C o d e , " r e s p o n s e T e x t " : J S O N . s t r i n g i f y (   r e s u l t   ) } 
 
 	 T V A P P . m a s t e r E r r o r H a n d l e r ( x h r _ s i m ,   " " ,   r e s u l t . E r r o r s . G E N E R I C _ E R R O R _ S T R I N G ,   n u l l ,   { ' o n C l o s e ' :   f u n c t i o n ( ) { } } ) ; 
 	 j $ ( " i n p u t [ n a m e = ' U s e r . u s r _ a u t h . p a s s w o r d ' ] " ,   j L o g i n F o r m ) . v a l ( " " ) . b l u r ( ) ; 
 	 / / j $ ( " i n p u t [ n a m e = ' U s e r . e m a i l ' ] " ,   j L o g i n F o r m ) . v a l ( " " ) . b l u r ( ) ; 
 } 
    A       https://talent.rakuten.careers/login.js?v=apptss.2017.PRD.4.2.17     T[      T[                              
      [       ]      ]      ]      ]      ]   6   Q       Q    	       Qq         j        hideLoaderJsonP   TVAPP   facebook   linkedin   twitter   weibo   bindRegister   login   jQuery!!   !   isCsrfSafeMethod   loginSuccess   hideLoaderJsonP   loginError      +H!!          facebookB                         settings    FBperms    doLogin    updateUser    B   w	    w	        @          result   B I    A    !   '   0          B         #   &          5    B     x    '   "   @       555      doLogin 
    
    I                 settings    B 
    
    O      P          response    missing   B     |    S               555      updateUser         `                 success    B         e             5    B   w    w  i             5 55!!          linkedinB   S    S  q      P          B          }             5 5!!          twitterB g    _                 5!!          weiboB     	                 5!!          bindRegisterB (  +     +                	   data   B    &    &     R   @       55!!       !!   facebook!!!!   linkedin!!!!   twitter!!!!   weibo!!!!   bindRegister!!    !!       C                                   H           :  Q  2  Q         	          GCW  Q       Q      Q   W  Q      Q   W  Q       6   Q       6   Q       6   Q      :    
=   =       Q      :    
=   =   	    Q      :    
=	   =
   
    Q      :    
=	   =       Q      :    
=	   =       Q   =   :    
=	       Q   =   :    
    Q   W  Q   W  Q   W  Q   W  Q   W  Q      Q      :    
=   V   Q      :    
=   V   Q      :    
=   V   Q      :    
=   V   Q      :    
=   V   Q      :    
=   V   Q      :    
=       Q     R X f    R      + 0 b    TVAPP%   oAuthReturnHandler5   handleChannelAuthCancelled3   handleChannelAuthConflict   document   on   click5   .jSMLoginBtn, #jSMLoginBtn;   #jForgotSubmit,.jForgotSubmit   keydownM   #jPanelPasswordForm input[type="text"]   #jPanelLoginForm input[type="text"],#jPanelLoginForm input[type="password"]   #forgot_password_form input[type="text"],#forgot_password_form input[type="password"]   .jContentSMLogin input[type="text"],.jContentSMLogin input[type="password"]	   bind   .jRegisterBtn#   channelAuthorized   loginModal!   login_modal_init   forceLogin/   forced_login_modal_init   forgotPassword5   forgot_password_modal_init!!      j$   theForm   first_time   showLoader   hideLoader   vloginProcess   handleSmLogin/   handleChannelAuthorized!   handleLoginModal5   handleLoginModalInitialize!   handleForceLogin5   handleForceLoginInitialize)   handleForgotPassword=   handleForgotPasswordInitialize   	   +H!!           showLoaderB   #  z  #        P       5 !!          hideLoaderB 8#  $  0#  $        0       5 !!          vloginProcessB %  )  %  )       `       5 !!          handleSmLoginB ")  |/  )  |/       @          B ,  v-  ,  v-  :             55!!       /   handleChannelAuthorizedB /  0  /  0  R  '           5 !!       1   TVAPP.oAuthReturnHandlerb <0  0  40  0  X  $          5 !!       A   TVAPP.handleChannelAuthCancelledb 1  1  1  1  \  ,          5 !!       ?   TVAPP.handleChannelAuthConflictb 1  52  1  52  `  +          5!!       B 2  2  2  2  f  @          5 !!       B  3  8  3  8  i  B   2          jForgotForm   B f5  v6  ^5  v6                 B  5  g6  5  g6              5 5   B 6  8  6  8       @       55!!       B |8  8  t8  8    N   "       5!!       B n9  9  f9  9    s   "       5!!       B o:  :  g:  :    }   "       5!!       B Q;  ;  I;  ;    k   "       5!!       B  ;  <  ;  <    #          5 !!       !   handleLoginModalB <  <  <  <               5 !!       5   handleLoginModalInitializeB )=  ;C  !=  ;C    *   @       	   data    modal    B  =  T>  =  T>    :          5    B  >  >  >  >    7          5    B  ?  }A  ?  }A    (   "         B ?  @  ?  @       "       55   B A  'B  A  'B    R   "       5   B B  5C  B  5C    -          5 5!!       !   handleForceLoginB ]C  C  UC  C               5 !!       5   handleForceLoginInitializeB C  OJ  C  OJ    *   @          modal    B  D  (E  D  (E    :          5    B  bE  E  ZE  E     7          5    B  F  >H  F  >H    (   "         B F  aG  F  aG       "       55   B H  H  H  H    R   "       5   B I  I  I  I     -          5 5!!       )   handleForgotPasswordB vJ  J  nJ  J  +  $          5 !!       =   handleForgotPasswordInitializeB  K  $P  J  $P  0  .             B fK  P  ^K  P  2  3   "         B M  0N  M  0N  F               B  M  N  M  N  I            5 5   B ]N  O  UN  O  O     @       5   B  O  P  O  P  Y            5 55;5!!       !   isCsrfSafeMethod R  R  Q  R  m            5 !!          loginSuccess S  W  R  W  s     `         B @T  T  8T  T  {     "       55!!          hideLoaderJsonPB W  {Y  W  {Y       0       5!!          loginError Y  S[  Y  S[                 B  Z  Z  Z  Z    e          5 5;-/      '\Z\Z@5^9    A    :https://talent.rakuten.careers/login.js?v=apptss.2017.PRD.4.2.17 necko:classified 1 strongly-framed 1 security-info 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 request-method GET response-head HTTP/1.1 200 OK
Date: Mon, 04 Feb 2019 05:26:30 GMT
Server: Taleo Web Server 8
Last-Modified: Wed, 05 Sep 2018 07:18:14 GMT
Accept-Ranges: bytes
Content-Length: 23380
Cache-Control: max-age=31536000
Expires: Tue, 04 Feb 2020 05:26:30 GMT
Content-Type: application/javascript
 original-response-headers Date: Mon, 04 Feb 2019 05:26:30 GMT
Server: Taleo Web Server 8
Last-Modified: Wed, 05 Sep 2018 07:18:14 GMT
Accept-Ranges: bytes
Content-Length: 23380
Cache-Control: max-age=31536000
Expires: Tue, 04 Feb 2020 05:26:30 GMT
Keep-Alive: timeout=5, max=98
Connection: Keep-Alive
Content-Type: application/javascript
 uncompressed-len 0 net-response-time-onstart 4093 net-response-time-onstop 4308 alt-data 1;23380,javascript/moz-bytecode-20190128165852 alt-data-from-child 1  +