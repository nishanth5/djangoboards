/* flatpickr v4.5.2, @license MIT */
(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
    typeof define === 'function' && define.amd ? define(factory) :
    (global.flatpickr = factory());
}(this, (function () { 'use strict';

    var pad = function pad(number) {
      return ("0" + number).slice(-2);
    };
    var int = function int(bool) {
      return bool === true ? 1 : 0;
    };
    function debounce(func, wait, immediate) {
      if (immediate === void 0) {
        immediate = false;
      }

      var timeout;
      return function () {
        var context = this,
            args = arguments;
        timeout !== null && clearTimeout(timeout);
        timeout = window.setTimeout(function () {
          timeout = null;
          if (!immediate) func.apply(context, args);
        }, wait);
        if (immediate && !timeout) func.apply(context, args);
      };
    }
    var arrayify = function arrayify(obj) {
      return obj instanceof Array ? obj : [obj];
    };

    var do_nothing = function do_nothing() {
      return undefined;
    };

    var monthToStr = function monthToStr(monthNumber, shorthand, locale) {
      return locale.months[shorthand ? "shorthand" : "longhand"][monthNumber];
    };
    var revFormat = {
      D: do_nothing,
      F: function F(dateObj, monthName, locale) {
        dateObj.setMonth(locale.months.longhand.indexOf(monthName));
      },
      G: function G(dateObj, hour) {
        dateObj.setHours(parseFloat(hour));
      },
      H: function H(dateObj, hour) {
        dateObj.setHours(parseFloat(hour));
      },
      J: function J(dateObj, day) {
        dateObj.setDate(parseFloat(day));
      },
      K: function K(dateObj, amPM, locale) {
        dateObj.setHours(dateObj.getHours() % 12 + 12 * int(new RegExp(locale.amPM[1], "i").test(amPM)));
      },
      M: function M(dateObj, shortMonth, locale) {
        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));
      },
      S: function S(dateObj, seconds) {
        dateObj.setSeconds(parseFloat(seconds));
      },
      U: function U(_, unixSeconds) {
        return new Date(parseFloat(unixSeconds) * 1000);
      },
      W: function W(dateObj, weekNum) {
        var weekNumber = parseInt(weekNum);
        return new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);
      },
      Y: function Y(dateObj, year) {
        dateObj.setFullYear(parseFloat(year));
      },
      Z: function Z(_, ISODate) {
        return new Date(ISODate);
      },
      d: function d(dateObj, day) {
        dateObj.setDate(parseFloat(day));
      },
      h: function h(dateObj, hour) {
        dateObj.setHours(parseFloat(hour));
      },
      i: function i(dateObj, minutes) {
        dateObj.setMinutes(parseFloat(minutes));
      },
      j: function j(dateObj, day) {
        dateObj.setDate(parseFloat(day));
      },
      l: do_nothing,
      m: function m(dateObj, month) {
        dateObj.setMonth(parseFloat(month) - 1);
      },
      n: function n(dateObj, month) {
        dateObj.setMonth(parseFloat(month) - 1);
      },
      s: function s(dateObj, seconds) {
        dateObj.setSeconds(parseFloat(seconds));
      },
      w: do_nothing,
      y: function y(dateObj, year) {
        dateObj.setFullYear(2000 + parseFloat(year));
      }
    };
    var tokenRegex = {
      D: "(\\w+)",
      F: "(\\w+)",
      G: "(\\d\\d|\\d)",
      H: "(\\d\\d|\\d)",
      J: "(\\d\\d|\\d)\\w+",
      K: "",
      M: "(\\w+)",
      S: "(\\d\\d|\\d)",
      U: "(.+)",
      W: "(\\d\\d|\\d)",
      Y: "(\\d{4})",
      Z: "(.+)",
      d: "(\\d\\d|\\d)",
      h: "(\\d\\d|\\d)",
      i: "(\\d\\d|\\d)",
      j: "(\\d\\d|\\d)",
      l: "(\\w+)",
      m: "(\\d\\d|\\d)",
      n: "(\\d\\d|\\d)",
      s: "(\\d\\d|\\d)",
      w: "(\\d\\d|\\d)",
      y: "(\\d{2})"
    };
    var formats = {
      Z: function Z(date) {
        return date.toISOString();
      },
      D: function D(date, locale, options) {
        return locale.weekdays.shorthand[formats.w(date, locale, options)];
      },
      F: function F(date, locale, options) {
        return monthToStr(formats.n(date, locale, options) - 1, false, locale);
      },
      G: function G(date, locale, options) {
        return pad(formats.h(date, locale, options));
      },
      H: function H(date) {
        return pad(date.getHours());
      },
      J: function J(date, locale) {
        return locale.ordinal !== undefined ? date.getDate() + locale.ordinal(date.getDate()) : date.getDate();
      },
      K: function K(date, locale) {
        return locale.amPM[int(date.getHours() > 11)];
      },
      M: function M(date, locale) {
        return monthToStr(date.getMonth(), true, locale);
      },
      S: function S(date) {
        return pad(date.getSeconds());
      },
      U: function U(date) {
        return date.getTime() / 1000;
      },
      W: function W(date, _, options) {
        return options.getWeek(date);
      },
      Y: function Y(date) {
        return date.getFullYear();
      },
      d: function d(date) {
        return pad(date.getDate());
      },
      h: function h(date) {
        return date.getHours() % 12 ? date.getHours() % 12 : 12;
      },
      i: function i(date) {
        return pad(date.getMinutes());
      },
      j: function j(date) {
        return date.getDate();
      },
      l: function l(date, locale) {
        return locale.weekdays.longhand[date.getDay()];
      },
      m: function m(date) {
        return pad(date.getMonth() + 1);
      },
      n: function n(date) {
        return date.getMonth() + 1;
      },
      s: function s(date) {
        return date.getSeconds();
      },
      w: function w(date) {
        return date.getDay();
      },
      y: function y(date) {
        return String(date.getFullYear()).substring(2);
      }
    };

    var english = {
      weekdays: {
        shorthand: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
        longhand: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]
      },
      months: {
        shorthand: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
        longhand: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]
      },
      daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],
      firstDayOfWeek: 0,
      ordinal: function ordinal(nth) {
        var s = nth % 100;
        if (s > 3 && s < 21) return "th";

        switch (s % 10) {
          case 1:
            return "st";

          case 2:
            return "nd";

          case 3:
            return "rd";

          default:
            return "th";
        }
      },
      rangeSeparator: " to ",
      weekAbbreviation: "Wk",
      scrollTitle: "Scroll to increment",
      toggleTitle: "Click to toggle",
      amPM: ["AM", "PM"],
      yearAriaLabel: "Year"
    };

    var createDateFormatter = function createDateFormatter(_ref) {
      var _ref$config = _ref.config,
          config = _ref$config === void 0 ? defaults : _ref$config,
          _ref$l10n = _ref.l10n,
          l10n = _ref$l10n === void 0 ? english : _ref$l10n;
      return function (dateObj, frmt, overrideLocale) {
        var locale = overrideLocale || l10n;

        if (config.formatDate !== undefined) {
          return config.formatDate(dateObj, frmt, locale);
        }

        return frmt.split("").map(function (c, i, arr) {
          return formats[c] && arr[i - 1] !== "\\" ? formats[c](dateObj, locale, config) : c !== "\\" ? c : "";
        }).join("");
      };
    };
    var createDateParser = function createDateParser(_ref2) {
      var _ref2$config = _ref2.config,
          config = _ref2$config === void 0 ? defaults : _ref2$config,
          _ref2$l10n = _ref2.l10n,
          l10n = _ref2$l10n === void 0 ? english : _ref2$l10n;
      return function (date, givenFormat, timeless, customLocale) {
        if (date !== 0 && !date) return undefined;
        var locale = customLocale || l10n;
        var parsedDate;
        var date_orig = date;
        if (date instanceof Date) parsedDate = new Date(date.getTime());else if (typeof date !== "string" && date.toFixed !== undefined) parsedDate = new Date(date);else if (typeof date === "string") {
          var format = givenFormat || (config || defaults).dateFormat;
          var datestr = String(date).trim();

          if (datestr === "today") {
            parsedDate = new Date();
            timeless = true;
          } else if (/Z$/.test(datestr) || /GMT$/.test(datestr)) parsedDate = new Date(date);else if (config && config.parseDate) parsedDate = config.parseDate(date, format);else {
            parsedDate = !config || !config.noCalendar ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0) : new Date(new Date().setHours(0, 0, 0, 0));
            var matched,
                ops = [];

            for (var i = 0, matchIndex = 0, regexStr = ""; i < format.length; i++) {
              var token = format[i];
              var isBackSlash = token === "\\";
              var escaped = format[i - 1] === "\\" || isBackSlash;

              if (tokenRegex[token] && !escaped) {
                regexStr += tokenRegex[token];
                var match = new RegExp(regexStr).exec(date);

                if (match && (matched = true)) {
                  ops[token !== "Y" ? "push" : "unshift"]({
                    fn: revFormat[token],
                    val: match[++matchIndex]
                  });
                }
              } else if (!isBackSlash) regexStr += ".";

              ops.forEach(function (_ref3) {
                var fn = _ref3.fn,
                    val = _ref3.val;
                return parsedDate = fn(parsedDate, val, locale) || parsedDate;
              });
            }

            parsedDate = matched ? parsedDate : undefined;
          }
        }

        if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {
          config.errorHandler(new Error("Invalid date provided: " + date_orig));
          return undefined;
        }

        if (timeless === true) parsedDate.setHours(0, 0, 0, 0);
        return parsedDate;
      };
    };
    function compareDates(date1, date2, timeless) {
      if (timeless === void 0) {
        timeless = true;
      }

      if (timeless !== false) {
        return new Date(date1.getTime()).setHours(0, 0, 0, 0) - new Date(date2.getTime()).setHours(0, 0, 0, 0);
      }

      return date1.getTime() - date2.getTime();
    }
    var getWeek = function getWeek(givenDate) {
      var date = new Date(givenDate.getTime());
      date.setHours(0, 0, 0, 0);
      date.setDate(date.getDate() + 3 - (date.getDay() + 6) % 7);
      var week1 = new Date(date.getFullYear(), 0, 4);
      return 1 + Math.round(((date.getTime() - week1.getTime()) / 86400000 - 3 + (week1.getDay() + 6) % 7) / 7);
    };
    var isBetween = function isBetween(ts, ts1, ts2) {
      return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);
    };
    var duration = {
      DAY: 86400000
    };

    var HOOKS = ["onChange", "onClose", "onDayCreate", "onDestroy", "onKeyDown", "onMonthChange", "onOpen", "onParseConfig", "onReady", "onValueUpdate", "onYearChange", "onPreCalendarPosition"];
    var defaults = {
      _disable: [],
      _enable: [],
      allowInput: false,
      altFormat: "F j, Y",
      altInput: false,
      altInputClass: "form-control input",
      animate: typeof window === "object" && window.navigator.userAgent.indexOf("MSIE") === -1,
      ariaDateFormat: "F j, Y",
      clickOpens: true,
      closeOnSelect: true,
      conjunction: ", ",
      dateFormat: "Y-m-d",
      defaultHour: 12,
      defaultMinute: 0,
      defaultSeconds: 0,
      disable: [],
      disableMobile: false,
      enable: [],
      enableSeconds: false,
      enableTime: false,
      errorHandler: function errorHandler(err) {
        return typeof console !== "undefined" && console.warn(err);
      },
      getWeek: getWeek,
      hourIncrement: 1,
      ignoredFocusElements: [],
      inline: false,
      locale: "default",
      minuteIncrement: 5,
      mode: "single",
      nextArrow: "<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",
      noCalendar: false,
      now: new Date(),
      onChange: [],
      onClose: [],
      onDayCreate: [],
      onDestroy: [],
      onKeyDown: [],
      onMonthChange: [],
      onOpen: [],
      onParseConfig: [],
      onReady: [],
      onValueUpdate: [],
      onYearChange: [],
      onPreCalendarPosition: [],
      plugins: [],
      position: "auto",
      positionElement: undefined,
      prevArrow: "<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",
      shorthandCurrentMonth: false,
      showMonths: 1,
      static: false,
      time_24hr: false,
      weekNumbers: false,
      wrap: false
    };

    function toggleClass(elem, className, bool) {
      if (bool === true) return elem.classList.add(className);
      elem.classList.remove(className);
    }
    function createElement(tag, className, content) {
      var e = window.document.createElement(tag);
      className = className || "";
      content = content || "";
      e.className = className;
      if (content !== undefined) e.textContent = content;
      return e;
    }
    function clearNode(node) {
      while (node.firstChild) {
        node.removeChild(node.firstChild);
      }
    }
    function findParent(node, condition) {
      if (condition(node)) return node;else if (node.parentNode) return findParent(node.parentNode, condition);
      return undefined;
    }
    function createNumberInput(inputClassName, opts) {
      var wrapper = createElement("div", "numInputWrapper"),
          numInput = createElement("input", "numInput " + inputClassName),
          arrowUp = createElement("span", "arrowUp"),
          arrowDown = createElement("span", "arrowDown");
      numInput.type = "text";
      numInput.pattern = "\\d*";
      if (opts !== undefined) for (var key in opts) {
        numInput.setAttribute(key, opts[key]);
      }
      wrapper.appendChild(numInput);
      wrapper.appendChild(arrowUp);
      wrapper.appendChild(arrowDown);
      return wrapper;
    }

    if (typeof Object.assign !== "function") {
      Object.assign = function (target) {
        if (!target) {
          throw TypeError("Cannot convert undefined or null to object");
        }

        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          args[_key - 1] = arguments[_key];
        }

        var _loop = function _loop() {
          var source = args[_i];

          if (source) {
            Object.keys(source).forEach(function (key) {
              return target[key] = source[key];
            });
          }
        };

        for (var _i = 0; _i < args.length; _i++) {
          _loop();
        }

        return target;
      };
    }

    var DEBOUNCED_CHANGE_MS = 300;

    function FlatpickrInstance(element, instanceConfig) {
      var self = {
        config: Object.assign({}, flatpickr.defaultConfig),
        l10n: english
      };
      self.parseDate = createDateParser({
        config: self.config,
        l10n: self.l10n
      });
      self._handlers = [];
      self._bind = bind;
      self._setHoursFromDate = setHoursFromDate;
      self._positionCalendar = positionCalendar;
      self.changeMonth = changeMonth;
      self.changeYear = changeYear;
      self.clear = clear;
      self.close = close;
      self._createElement = createElement;
      self.destroy = destroy;
      self.isEnabled = isEnabled;
      self.jumpToDate = jumpToDate;
      self.open = open;
      self.redraw = redraw;
      self.set = set;
      self.setDate = setDate;
      self.toggle = toggle;

      function setupHelperFunctions() {
        self.utils = {
          getDaysInMonth: function getDaysInMonth(month, yr) {
            if (month === void 0) {
              month = self.currentMonth;
            }

            if (yr === void 0) {
              yr = self.currentYear;
            }

            if (month === 1 && (yr % 4 === 0 && yr % 100 !== 0 || yr % 400 === 0)) return 29;
            return self.l10n.daysInMonth[month];
          }
        };
      }

      function init() {
        self.element = self.input = element;
        self.isOpen = false;
        parseConfig();
        setupLocale();
        setupInputs();
        setupDates();
        setupHelperFunctions();
        if (!self.isMobile) build();
        bindEvents();

        if (self.selectedDates.length || self.config.noCalendar) {
          if (self.config.enableTime) {
            setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj || self.config.minDate : undefined);
          }

          updateValue(false);
        }

        setCalendarWidth();
        self.showTimeInput = self.selectedDates.length > 0 || self.config.noCalendar;
        var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);

        if (!self.isMobile && isSafari) {
          positionCalendar();
        }

        triggerEvent("onReady");
      }

      function bindToInstance(fn) {
        return fn.bind(self);
      }

      function setCalendarWidth() {
        var config = self.config;
        if (config.weekNumbers === false && config.showMonths === 1) return;else if (config.noCalendar !== true) {
          window.requestAnimationFrame(function () {
            self.calendarContainer.style.visibility = "hidden";
            self.calendarContainer.style.display = "block";

            if (self.daysContainer !== undefined) {
              var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;
              self.daysContainer.style.width = daysWidth + "px";
              self.calendarContainer.style.width = daysWidth + (self.weekWrapper !== undefined ? self.weekWrapper.offsetWidth : 0) + "px";
              self.calendarContainer.style.removeProperty("visibility");
              self.calendarContainer.style.removeProperty("display");
            }
          });
        }
      }

      function updateTime(e) {
        if (self.selectedDates.length === 0) return;

        if (e !== undefined && e.type !== "blur") {
          timeWrapper(e);
        }

        var prevValue = self._input.value;
        setHoursFromInputs();
        updateValue();

        if (self._input.value !== prevValue) {
          self._debouncedChange();
        }
      }

      function ampm2military(hour, amPM) {
        return hour % 12 + 12 * int(amPM === self.l10n.amPM[1]);
      }

      function military2ampm(hour) {
        switch (hour % 24) {
          case 0:
          case 12:
            return 12;

          default:
            return hour % 12;
        }
      }

      function setHoursFromInputs() {
        if (self.hourElement === undefined || self.minuteElement === undefined) return;
        var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24,
            minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60,
            seconds = self.secondElement !== undefined ? (parseInt(self.secondElement.value, 10) || 0) % 60 : 0;

        if (self.amPM !== undefined) {
          hours = ampm2military(hours, self.amPM.textContent);
        }

        var limitMinHours = self.config.minTime !== undefined || self.config.minDate && self.minDateHasTime && self.latestSelectedDateObj && compareDates(self.latestSelectedDateObj, self.config.minDate, true) === 0;
        var limitMaxHours = self.config.maxTime !== undefined || self.config.maxDate && self.maxDateHasTime && self.latestSelectedDateObj && compareDates(self.latestSelectedDateObj, self.config.maxDate, true) === 0;

        if (limitMaxHours) {
          var maxTime = self.config.maxTime !== undefined ? self.config.maxTime : self.config.maxDate;
          hours = Math.min(hours, maxTime.getHours());
          if (hours === maxTime.getHours()) minutes = Math.min(minutes, maxTime.getMinutes());
          if (minutes === maxTime.getMinutes()) seconds = Math.min(seconds, maxTime.getSeconds());
        }

        if (limitMinHours) {
          var minTime = self.config.minTime !== undefined ? self.config.minTime : self.config.minDate;
          hours = Math.max(hours, minTime.getHours());
          if (hours === minTime.getHours()) minutes = Math.max(minutes, minTime.getMinutes());
          if (minutes === minTime.getMinutes()) seconds = Math.max(seconds, minTime.getSeconds());
        }

        setHours(hours, minutes, seconds);
      }

      function setHoursFromDate(dateObj) {
        var date = dateObj || self.latestSelectedDateObj;
        if (date) setHours(date.getHours(), date.getMinutes(), date.getSeconds());
      }

      function setDefaultHours() {
        var hours = self.config.defaultHour;
        var minutes = self.config.defaultMinute;
        var seconds = self.config.defaultSeconds;

        if (self.config.minDate !== undefined) {
          var min_hr = self.config.minDate.getHours();
          var min_minutes = self.config.minDate.getMinutes();
          hours = Math.max(hours, min_hr);
          if (hours === min_hr) minutes = Math.max(min_minutes, minutes);
          if (hours === min_hr && minutes === min_minutes) seconds = self.config.minDate.getSeconds();
        }

        if (self.config.maxDate !== undefined) {
          var max_hr = self.config.maxDate.getHours();
          var max_minutes = self.config.maxDate.getMinutes();
          hours = Math.min(hours, max_hr);
          if (hours === max_hr) minutes = Math.min(max_minutes, minutes);
          if (hours === max_hr && minutes === max_minutes) seconds = self.config.maxDate.getSeconds();
        }

        setHours(hours, minutes, seconds);
      }

      function setHours(hours, minutes, seconds) {
        if (self.latestSelectedDateObj !== undefined) {
          self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);
        }

        if (!self.hourElement || !self.minuteElement || self.isMobile) return;
        self.hourElement.value = pad(!self.config.time_24hr ? (12 + hours) % 12 + 12 * int(hours % 12 === 0) : hours);
        self.minuteElement.value = pad(minutes);
        if (self.amPM !== undefined) self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];
        if (self.secondElement !== undefined) self.secondElement.value = pad(seconds);
      }

      function onYearInput(event) {
        var year = parseInt(event.target.value) + (event.delta || 0);

        if (year / 1000 > 1 || event.key === "Enter" && !/[^\d]/.test(year.toString())) {
          changeYear(year);
        }
      }

      function bind(element, event, handler, options) {
        if (event instanceof Array) return event.forEach(function (ev) {
          return bind(element, ev, handler, options);
        });
        if (element instanceof Array) return element.forEach(function (el) {
          return bind(el, event, handler, options);
        });
        element.addEventListener(event, handler, options);

        self._handlers.push({
          element: element,
          event: event,
          handler: handler,
          options: options
        });
      }

      function onClick(handler) {
        return function (evt) {
          evt.which === 1 && handler(evt);
        };
      }

      function triggerChange() {
        triggerEvent("onChange");
      }

      function bindEvents() {
        if (self.config.wrap) {
          ["open", "close", "toggle", "clear"].forEach(function (evt) {
            Array.prototype.forEach.call(self.element.querySelectorAll("[data-" + evt + "]"), function (el) {
              return bind(el, "click", self[evt]);
            });
          });
        }

        if (self.isMobile) {
          setupMobile();
          return;
        }

        var debouncedResize = debounce(onResize, 50);
        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);
        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent)) bind(self.daysContainer, "mouseover", function (e) {
          if (self.config.mode === "range") onMouseOver(e.target);
        });
        bind(window.document.body, "keydown", onKeyDown);
        if (!self.config.static) bind(self._input, "keydown", onKeyDown);
        if (!self.config.inline && !self.config.static) bind(window, "resize", debouncedResize);
        if (window.ontouchstart !== undefined) bind(window.document, "click", documentClick);else bind(window.document, "mousedown", onClick(documentClick));
        bind(window.document, "focus", documentClick, {
          capture: true
        });

        if (self.config.clickOpens === true) {
          bind(self._input, "focus", self.open);
          bind(self._input, "mousedown", onClick(self.open));
        }

        if (self.daysContainer !== undefined) {
          bind(self.monthNav, "mousedown", onClick(onMonthNavClick));
          bind(self.monthNav, ["keyup", "increment"], onYearInput);
          bind(self.daysContainer, "mousedown", onClick(selectDate));
        }

        if (self.timeContainer !== undefined && self.minuteElement !== undefined && self.hourElement !== undefined) {
          var selText = function selText(e) {
            return e.target.select();
          };

          bind(self.timeContainer, ["increment"], updateTime);
          bind(self.timeContainer, "blur", updateTime, {
            capture: true
          });
          bind(self.timeContainer, "mousedown", onClick(timeIncrement));
          bind([self.hourElement, self.minuteElement], ["focus", "click"], selText);
          if (self.secondElement !== undefined) bind(self.secondElement, "focus", function () {
            return self.secondElement && self.secondElement.select();
          });

          if (self.amPM !== undefined) {
            bind(self.amPM, "mousedown", onClick(function (e) {
              updateTime(e);
              triggerChange();
            }));
          }
        }
      }

      function jumpToDate(jumpDate) {
        var jumpTo = jumpDate !== undefined ? self.parseDate(jumpDate) : self.latestSelectedDateObj || (self.config.minDate && self.config.minDate > self.now ? self.config.minDate : self.config.maxDate && self.config.maxDate < self.now ? self.config.maxDate : self.now);

        try {
          if (jumpTo !== undefined) {
            self.currentYear = jumpTo.getFullYear();
            self.currentMonth = jumpTo.getMonth();
          }
        } catch (e) {
          e.message = "Invalid date supplied: " + jumpTo;
          self.config.errorHandler(e);
        }

        self.redraw();
      }

      function timeIncrement(e) {
        if (~e.target.className.indexOf("arrow")) incrementNumInput(e, e.target.classList.contains("arrowUp") ? 1 : -1);
      }

      function incrementNumInput(e, delta, inputElem) {
        var target = e && e.target;
        var input = inputElem || target && target.parentNode && target.parentNode.firstChild;
        var event = createEvent("increment");
        event.delta = delta;
        input && input.dispatchEvent(event);
      }

      function build() {
        var fragment = window.document.createDocumentFragment();
        self.calendarContainer = createElement("div", "flatpickr-calendar");
        self.calendarContainer.tabIndex = -1;

        if (!self.config.noCalendar) {
          fragment.appendChild(buildMonthNav());
          self.innerContainer = createElement("div", "flatpickr-innerContainer");

          if (self.config.weekNumbers) {
            var _buildWeeks = buildWeeks(),
                weekWrapper = _buildWeeks.weekWrapper,
                weekNumbers = _buildWeeks.weekNumbers;

            self.innerContainer.appendChild(weekWrapper);
            self.weekNumbers = weekNumbers;
            self.weekWrapper = weekWrapper;
          }

          self.rContainer = createElement("div", "flatpickr-rContainer");
          self.rContainer.appendChild(buildWeekdays());

          if (!self.daysContainer) {
            self.daysContainer = createElement("div", "flatpickr-days");
            self.daysContainer.tabIndex = -1;
          }

          buildDays();
          self.rContainer.appendChild(self.daysContainer);
          self.innerContainer.appendChild(self.rContainer);
          fragment.appendChild(self.innerContainer);
        }

        if (self.config.enableTime) {
          fragment.appendChild(buildTime());
        }

        toggleClass(self.calendarContainer, "rangeMode", self.config.mode === "range");
        toggleClass(self.calendarContainer, "animate", self.config.animate === true);
        toggleClass(self.calendarContainer, "multiMonth", self.config.showMonths > 1);
        self.calendarContainer.appendChild(fragment);
        var customAppend = self.config.appendTo !== undefined && self.config.appendTo.nodeType !== undefined;

        if (self.config.inline || self.config.static) {
          self.calendarContainer.classList.add(self.config.inline ? "inline" : "static");

          if (self.config.inline) {
            if (!customAppend && self.element.parentNode) self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);else if (self.config.appendTo !== undefined) self.config.appendTo.appendChild(self.calendarContainer);
          }

          if (self.config.static) {
            var wrapper = createElement("div", "flatpickr-wrapper");
            if (self.element.parentNode) self.element.parentNode.insertBefore(wrapper, self.element);
            wrapper.appendChild(self.element);
            if (self.altInput) wrapper.appendChild(self.altInput);
            wrapper.appendChild(self.calendarContainer);
          }
        }

        if (!self.config.static && !self.config.inline) (self.config.appendTo !== undefined ? self.config.appendTo : window.document.body).appendChild(self.calendarContainer);
      }

      function createDay(className, date, dayNumber, i) {
        var dateIsEnabled = isEnabled(date, true),
            dayElement = createElement("span", "flatpickr-day " + className, date.getDate().toString());
        dayElement.dateObj = date;
        dayElement.$i = i;
        dayElement.setAttribute("aria-label", self.formatDate(date, self.config.ariaDateFormat));

        if (className.indexOf("hidden") === -1 && compareDates(date, self.now) === 0) {
          self.todayDateElem = dayElement;
          dayElement.classList.add("today");
          dayElement.setAttribute("aria-current", "date");
        }

        if (dateIsEnabled) {
          dayElement.tabIndex = -1;

          if (isDateSelected(date)) {
            dayElement.classList.add("selected");
            self.selectedDateElem = dayElement;

            if (self.config.mode === "range") {
              toggleClass(dayElement, "startRange", self.selectedDates[0] && compareDates(date, self.selectedDates[0], true) === 0);
              toggleClass(dayElement, "endRange", self.selectedDates[1] && compareDates(date, self.selectedDates[1], true) === 0);
              if (className === "nextMonthDay") dayElement.classList.add("inRange");
            }
          }
        } else {
          dayElement.classList.add("disabled");
        }

        if (self.config.mode === "range") {
          if (isDateInRange(date) && !isDateSelected(date)) dayElement.classList.add("inRange");
        }

        if (self.weekNumbers && self.config.showMonths === 1 && className !== "prevMonthDay" && dayNumber % 7 === 1) {
          self.weekNumbers.insertAdjacentHTML("beforeend", "<span class='flatpickr-day'>" + self.config.getWeek(date) + "</span>");
        }

        triggerEvent("onDayCreate", dayElement);
        return dayElement;
      }

      function focusOnDayElem(targetNode) {
        targetNode.focus();
        if (self.config.mode === "range") onMouseOver(targetNode);
      }

      function getFirstAvailableDay(delta) {
        var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;
        var endMonth = delta > 0 ? self.config.showMonths : -1;

        for (var m = startMonth; m != endMonth; m += delta) {
          var month = self.daysContainer.children[m];
          var startIndex = delta > 0 ? 0 : month.children.length - 1;
          var endIndex = delta > 0 ? month.children.length : -1;

          for (var i = startIndex; i != endIndex; i += delta) {
            var c = month.children[i];
            if (c.className.indexOf("hidden") === -1 && isEnabled(c.dateObj)) return c;
          }
        }

        return undefined;
      }

      function getNextAvailableDay(current, delta) {
        var givenMonth = current.className.indexOf("Month") === -1 ? current.dateObj.getMonth() : self.currentMonth;
        var endMonth = delta > 0 ? self.config.showMonths : -1;
        var loopDelta = delta > 0 ? 1 : -1;

        for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {
          var month = self.daysContainer.children[m];
          var startIndex = givenMonth - self.currentMonth === m ? current.$i + delta : delta < 0 ? month.children.length - 1 : 0;
          var numMonthDays = month.children.length;

          for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {
            var c = month.children[i];
            if (c.className.indexOf("hidden") === -1 && isEnabled(c.dateObj) && Math.abs(current.$i - i) >= Math.abs(delta)) return focusOnDayElem(c);
          }
        }

        self.changeMonth(loopDelta);
        focusOnDay(getFirstAvailableDay(loopDelta), 0);
        return undefined;
      }

      function focusOnDay(current, offset) {
        var dayFocused = isInView(document.activeElement || document.body);
        var startElem = current !== undefined ? current : dayFocused ? document.activeElement : self.selectedDateElem !== undefined && isInView(self.selectedDateElem) ? self.selectedDateElem : self.todayDateElem !== undefined && isInView(self.todayDateElem) ? self.todayDateElem : getFirstAvailableDay(offset > 0 ? 1 : -1);
        if (startElem === undefined) return self._input.focus();
        if (!dayFocused) return focusOnDayElem(startElem);
        getNextAvailableDay(startElem, offset);
      }

      function buildMonthDays(year, month) {
        var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;
        var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12);
        var daysInMonth = self.utils.getDaysInMonth(month),
            days = window.document.createDocumentFragment(),
            isMultiMonth = self.config.showMonths > 1,
            prevMonthDayClass = isMultiMonth ? "prevMonthDay hidden" : "prevMonthDay",
            nextMonthDayClass = isMultiMonth ? "nextMonthDay hidden" : "nextMonthDay";
        var dayNumber = prevMonthDays + 1 - firstOfMonth,
            dayIndex = 0;

        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {
          days.appendChild(createDay(prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));
        }

        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {
          days.appendChild(createDay("", new Date(year, month, dayNumber), dayNumber, dayIndex));
        }

        for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth && (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {
          days.appendChild(createDay(nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));
        }

        var dayContainer = createElement("div", "dayContainer");
        dayContainer.appendChild(days);
        return dayContainer;
      }

      function buildDays() {
        if (self.daysContainer === undefined) {
          return;
        }

        clearNode(self.daysContainer);
        if (self.weekNumbers) clearNode(self.weekNumbers);
        var frag = document.createDocumentFragment();

        for (var i = 0; i < self.config.showMonths; i++) {
          var d = new Date(self.currentYear, self.currentMonth, 1);
          d.setMonth(self.currentMonth + i);
          frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));
        }

        self.daysContainer.appendChild(frag);
        self.days = self.daysContainer.firstChild;

        if (self.config.mode === "range" && self.selectedDates.length === 1) {
          onMouseOver();
        }
      }

      function buildMonth() {
        var container = createElement("div", "flatpickr-month");
        var monthNavFragment = window.document.createDocumentFragment();
        var monthElement = createElement("span", "cur-month");
        var yearInput = createNumberInput("cur-year", {
          tabindex: "-1"
        });
        var yearElement = yearInput.getElementsByTagName("input")[0];
        yearElement.setAttribute("aria-label", self.l10n.yearAriaLabel);
        if (self.config.minDate) yearElement.setAttribute("data-min", self.config.minDate.getFullYear().toString());

        if (self.config.maxDate) {
          yearElement.setAttribute("data-max", self.config.maxDate.getFullYear().toString());
          yearElement.disabled = !!self.config.minDate && self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();
        }

        var currentMonth = createElement("div", "flatpickr-current-month");
        currentMonth.appendChild(monthElement);
        currentMonth.appendChild(yearInput);
        monthNavFragment.appendChild(currentMonth);
        container.appendChild(monthNavFragment);
        return {
          container: container,
          yearElement: yearElement,
          monthElement: monthElement
        };
      }

      function buildMonths() {
        clearNode(self.monthNav);
        self.monthNav.appendChild(self.prevMonthNav);

        for (var m = self.config.showMonths; m--;) {
          var month = buildMonth();
          self.yearElements.push(month.yearElement);
          self.monthElements.push(month.monthElement);
          self.monthNav.appendChild(month.container);
        }

        self.monthNav.appendChild(self.nextMonthNav);
      }

      function buildMonthNav() {
        self.monthNav = createElement("div", "flatpickr-months");
        self.yearElements = [];
        self.monthElements = [];
        self.prevMonthNav = createElement("span", "flatpickr-prev-month");
        self.prevMonthNav.innerHTML = self.config.prevArrow;
        self.nextMonthNav = createElement("span", "flatpickr-next-month");
        self.nextMonthNav.innerHTML = self.config.nextArrow;
        buildMonths();
        Object.defineProperty(self, "_hidePrevMonthArrow", {
          get: function get() {
            return self.__hidePrevMonthArrow;
          },
          set: function set(bool) {
            if (self.__hidePrevMonthArrow !== bool) {
              toggleClass(self.prevMonthNav, "disabled", bool);
              self.__hidePrevMonthArrow = bool;
            }
          }
        });
        Object.defineProperty(self, "_hideNextMonthArrow", {
          get: function get() {
            return self.__hideNextMonthArrow;
          },
          set: function set(bool) {
            if (self.__hideNextMonthArrow !== bool) {
              toggleClass(self.nextMonthNav, "disabled", bool);
              self.__hideNextMonthArrow = bool;
            }
          }
        });
        self.currentYearElement = self.yearElements[0];
        updateNavigationCurrentMonth();
        return self.monthNav;
      }

      function buildTime() {
        self.calendarContainer.classList.add("hasTime");
        if (self.config.noCalendar) self.calendarContainer.classList.add("noCalendar");
        self.timeContainer = createElement("div", "flatpickr-time");
        self.timeContainer.tabIndex = -1;
        var separator = createElement("span", "flatpickr-time-separator", ":");
        var hourInput = createNumberInput("flatpickr-hour");
        self.hourElement = hourInput.getElementsByTagName("input")[0];
        var minuteInput = createNumberInput("flatpickr-minute");
        self.minuteElement = minuteInput.getElementsByTagName("input")[0];
        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;
        self.hourElement.value = pad(self.latestSelectedDateObj ? self.latestSelectedDateObj.getHours() : self.config.time_24hr ? self.config.defaultHour : military2ampm(self.config.defaultHour));
        self.minuteElement.value = pad(self.latestSelectedDateObj ? self.latestSelectedDateObj.getMinutes() : self.config.defaultMinute);
        self.hourElement.setAttribute("data-step", self.config.hourIncrement.toString());
        self.minuteElement.setAttribute("data-step", self.config.minuteIncrement.toString());
        self.hourElement.setAttribute("data-min", self.config.time_24hr ? "0" : "1");
        self.hourElement.setAttribute("data-max", self.config.time_24hr ? "23" : "12");
        self.minuteElement.setAttribute("data-min", "0");
        self.minuteElement.setAttribute("data-max", "59");
        self.timeContainer.appendChild(hourInput);
        self.timeContainer.appendChild(separator);
        self.timeContainer.appendChild(minuteInput);
        if (self.config.time_24hr) self.timeContainer.classList.add("time24hr");

        if (self.config.enableSeconds) {
          self.timeContainer.classList.add("hasSeconds");
          var secondInput = createNumberInput("flatpickr-second");
          self.secondElement = secondInput.getElementsByTagName("input")[0];
          self.secondElement.value = pad(self.latestSelectedDateObj ? self.latestSelectedDateObj.getSeconds() : self.config.defaultSeconds);
          self.secondElement.setAttribute("data-step", self.minuteElement.getAttribute("data-step"));
          self.secondElement.setAttribute("data-min", self.minuteElement.getAttribute("data-min"));
          self.secondElement.setAttribute("data-max", self.minuteElement.getAttribute("data-max"));
          self.timeContainer.appendChild(createElement("span", "flatpickr-time-separator", ":"));
          self.timeContainer.appendChild(secondInput);
        }

        if (!self.config.time_24hr) {
          self.amPM = createElement("span", "flatpickr-am-pm", self.l10n.amPM[int((self.latestSelectedDateObj ? self.hourElement.value : self.config.defaultHour) > 11)]);
          self.amPM.title = self.l10n.toggleTitle;
          self.amPM.tabIndex = -1;
          self.timeContainer.appendChild(self.amPM);
        }

        return self.timeContainer;
      }

      function buildWeekdays() {
        if (!self.weekdayContainer) self.weekdayContainer = createElement("div", "flatpickr-weekdays");else clearNode(self.weekdayContainer);

        for (var i = self.config.showMonths; i--;) {
          var container = createElement("div", "flatpickr-weekdaycontainer");
          self.weekdayContainer.appendChild(container);
        }

        updateWeekdays();
        return self.weekdayContainer;
      }

      function updateWeekdays() {
        var firstDayOfWeek = self.l10n.firstDayOfWeek;
        var weekdays = self.l10n.weekdays.shorthand.concat();

        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {
          weekdays = weekdays.splice(firstDayOfWeek, weekdays.length).concat(weekdays.splice(0, firstDayOfWeek));
        }

        for (var i = self.config.showMonths; i--;) {
          self.weekdayContainer.children[i].innerHTML = "\n      <span class=flatpickr-weekday>\n        " + weekdays.join("</span><span class=flatpickr-weekday>") + "\n      </span>\n      ";
        }
      }

      function buildWeeks() {
        self.calendarContainer.classList.add("hasWeeks");
        var weekWrapper = createElement("div", "flatpickr-weekwrapper");
        weekWrapper.appendChild(createElement("span", "flatpickr-weekday", self.l10n.weekAbbreviation));
        var weekNumbers = createElement("div", "flatpickr-weeks");
        weekWrapper.appendChild(weekNumbers);
        return {
          weekWrapper: weekWrapper,
          weekNumbers: weekNumbers
        };
      }

      function changeMonth(value, is_offset) {
        if (is_offset === void 0) {
          is_offset = true;
        }

        var delta = is_offset ? value : value - self.currentMonth;
        if (delta < 0 && self._hidePrevMonthArrow === true || delta > 0 && self._hideNextMonthArrow === true) return;
        self.currentMonth += delta;

        if (self.currentMonth < 0 || self.currentMonth > 11) {
          self.currentYear += self.currentMonth > 11 ? 1 : -1;
          self.currentMonth = (self.currentMonth + 12) % 12;
          triggerEvent("onYearChange");
        }

        buildDays();
        triggerEvent("onMonthChange");
        updateNavigationCurrentMonth();
      }

      function clear(triggerChangeEvent) {
        if (triggerChangeEvent === void 0) {
          triggerChangeEvent = true;
        }

        self.input.value = "";
        if (self.altInput !== undefined) self.altInput.value = "";
        if (self.mobileInput !== undefined) self.mobileInput.value = "";
        self.selectedDates = [];
        self.latestSelectedDateObj = undefined;
        self.showTimeInput = false;

        if (self.config.enableTime === true) {
          setDefaultHours();
        }

        self.redraw();
        if (triggerChangeEvent) triggerEvent("onChange");
      }

      function close() {
        self.isOpen = false;

        if (!self.isMobile) {
          self.calendarContainer.classList.remove("open");

          self._input.classList.remove("active");
        }

        triggerEvent("onClose");
      }

      function destroy() {
        if (self.config !== undefined) triggerEvent("onDestroy");

        for (var i = self._handlers.length; i--;) {
          var h = self._handlers[i];
          h.element.removeEventListener(h.event, h.handler, h.options);
        }

        self._handlers = [];

        if (self.mobileInput) {
          if (self.mobileInput.parentNode) self.mobileInput.parentNode.removeChild(self.mobileInput);
          self.mobileInput = undefined;
        } else if (self.calendarContainer && self.calendarContainer.parentNode) {
          if (self.config.static && self.calendarContainer.parentNode) {
            var wrapper = self.calendarContainer.parentNode;
            wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);

            if (wrapper.parentNode) {
              while (wrapper.firstChild) {
                wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);
              }

              wrapper.parentNode.removeChild(wrapper);
            }
          } else self.calendarContainer.parentNode.removeChild(self.calendarContainer);
        }

        if (self.altInput) {
          self.input.type = "text";
          if (self.altInput.parentNode) self.altInput.parentNode.removeChild(self.altInput);
          delete self.altInput;
        }

        if (self.input) {
          self.input.type = self.input._type;
          self.input.classList.remove("flatpickr-input");
          self.input.removeAttribute("readonly");
          self.input.value = "";
        }

        ["_showTimeInput", "latestSelectedDateObj", "_hideNextMonthArrow", "_hidePrevMonthArrow", "__hideNextMonthArrow", "__hidePrevMonthArrow", "isMobile", "isOpen", "selectedDateElem", "minDateHasTime", "maxDateHasTime", "days", "daysContainer", "_input", "_positionElement", "innerContainer", "rContainer", "monthNav", "todayDateElem", "calendarContainer", "weekdayContainer", "prevMonthNav", "nextMonthNav", "currentMonthElement", "currentYearElement", "navigationCurrentMonth", "selectedDateElem", "config"].forEach(function (k) {
          try {
            delete self[k];
          } catch (_) {}
        });
      }

      function isCalendarElem(elem) {
        if (self.config.appendTo && self.config.appendTo.contains(elem)) return true;
        return self.calendarContainer.contains(elem);
      }

      function documentClick(e) {
        if (self.isOpen && !self.config.inline) {
          var isCalendarElement = isCalendarElem(e.target);
          var isInput = e.target === self.input || e.target === self.altInput || self.element.contains(e.target) || e.path && e.path.indexOf && (~e.path.indexOf(self.input) || ~e.path.indexOf(self.altInput));
          var lostFocus = e.type === "blur" ? isInput && e.relatedTarget && !isCalendarElem(e.relatedTarget) : !isInput && !isCalendarElement;
          var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {
            return elem.contains(e.target);
          });

          if (lostFocus && isIgnored) {
            self.close();

            if (self.config.mode === "range" && self.selectedDates.length === 1) {
              self.clear(false);
              self.redraw();
            }
          }
        }
      }

      function changeYear(newYear) {
        if (!newYear || self.config.minDate && newYear < self.config.minDate.getFullYear() || self.config.maxDate && newYear > self.config.maxDate.getFullYear()) return;
        var newYearNum = newYear,
            isNewYear = self.currentYear !== newYearNum;
        self.currentYear = newYearNum || self.currentYear;

        if (self.config.maxDate && self.currentYear === self.config.maxDate.getFullYear()) {
          self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);
        } else if (self.config.minDate && self.currentYear === self.config.minDate.getFullYear()) {
          self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);
        }

        if (isNewYear) {
          self.redraw();
          triggerEvent("onYearChange");
        }
      }

      function isEnabled(date, timeless) {
        if (timeless === void 0) {
          timeless = true;
        }

        var dateToCheck = self.parseDate(date, undefined, timeless);
        if (self.config.minDate && dateToCheck && compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0 || self.config.maxDate && dateToCheck && compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0) return false;
        if (self.config.enable.length === 0 && self.config.disable.length === 0) return true;
        if (dateToCheck === undefined) return false;
        var bool = self.config.enable.length > 0,
            array = bool ? self.config.enable : self.config.disable;

        for (var i = 0, d; i < array.length; i++) {
          d = array[i];
          if (typeof d === "function" && d(dateToCheck)) return bool;else if (d instanceof Date && dateToCheck !== undefined && d.getTime() === dateToCheck.getTime()) return bool;else if (typeof d === "string" && dateToCheck !== undefined) {
            var parsed = self.parseDate(d, undefined, true);
            return parsed && parsed.getTime() === dateToCheck.getTime() ? bool : !bool;
          } else if (typeof d === "object" && dateToCheck !== undefined && d.from && d.to && dateToCheck.getTime() >= d.from.getTime() && dateToCheck.getTime() <= d.to.getTime()) return bool;
        }

        return !bool;
      }

      function isInView(elem) {
        if (self.daysContainer !== undefined) return elem.className.indexOf("hidden") === -1 && self.daysContainer.contains(elem);
        return false;
      }

      function onKeyDown(e) {
        var isInput = e.target === self._input;
        var allowInput = self.config.allowInput;
        var allowKeydown = self.isOpen && (!allowInput || !isInput);
        var allowInlineKeydown = self.config.inline && isInput && !allowInput;

        if (e.keyCode === 13 && isInput) {
          if (allowInput) {
            self.setDate(self._input.value, true, e.target === self.altInput ? self.config.altFormat : self.config.dateFormat);
            return e.target.blur();
          } else self.open();
        } else if (isCalendarElem(e.target) || allowKeydown || allowInlineKeydown) {
          var isTimeObj = !!self.timeContainer && self.timeContainer.contains(e.target);

          switch (e.keyCode) {
            case 13:
              if (isTimeObj) updateTime();else selectDate(e);
              break;

            case 27:
              e.preventDefault();
              focusAndClose();
              break;

            case 8:
            case 46:
              if (isInput && !self.config.allowInput) {
                e.preventDefault();
                self.clear();
              }

              break;

            case 37:
            case 39:
              if (!isTimeObj) {
                e.preventDefault();

                if (self.daysContainer !== undefined && (allowInput === false || isInView(document.activeElement))) {
                  var _delta = e.keyCode === 39 ? 1 : -1;

                  if (!e.ctrlKey) focusOnDay(undefined, _delta);else {
                    changeMonth(_delta);
                    focusOnDay(getFirstAvailableDay(1), 0);
                  }
                }
              } else if (self.hourElement) self.hourElement.focus();

              break;

            case 38:
            case 40:
              e.preventDefault();
              var delta = e.keyCode === 40 ? 1 : -1;

              if (self.daysContainer && e.target.$i !== undefined) {
                if (e.ctrlKey) {
                  changeYear(self.currentYear - delta);
                  focusOnDay(getFirstAvailableDay(1), 0);
                } else if (!isTimeObj) focusOnDay(undefined, delta * 7);
              } else if (self.config.enableTime) {
                if (!isTimeObj && self.hourElement) self.hourElement.focus();
                updateTime(e);

                self._debouncedChange();
              }

              break;

            case 9:
              if (!isTimeObj) {
                self.element.focus();
                break;
              }

              var elems = [self.hourElement, self.minuteElement, self.secondElement, self.amPM].filter(function (x) {
                return x;
              });
              var i = elems.indexOf(e.target);

              if (i !== -1) {
                var target = elems[i + (e.shiftKey ? -1 : 1)];

                if (target !== undefined) {
                  e.preventDefault();
                  target.focus();
                } else {
                  self.element.focus();
                }
              }

              break;

            default:
              break;
          }
        }

        if (self.amPM !== undefined && e.target === self.amPM) {
          switch (e.key) {
            case self.l10n.amPM[0].charAt(0):
            case self.l10n.amPM[0].charAt(0).toLowerCase():
              self.amPM.textContent = self.l10n.amPM[0];
              setHoursFromInputs();
              updateValue();
              break;

            case self.l10n.amPM[1].charAt(0):
            case self.l10n.amPM[1].charAt(0).toLowerCase():
              self.amPM.textContent = self.l10n.amPM[1];
              setHoursFromInputs();
              updateValue();
              break;
          }
        }

        triggerEvent("onKeyDown", e);
      }

      function onMouseOver(elem) {
        if (self.selectedDates.length !== 1 || elem && (!elem.classList.contains("flatpickr-day") || elem.classList.contains("disabled"))) return;
        var hoverDate = elem ? elem.dateObj.getTime() : self.days.firstElementChild.dateObj.getTime(),
            initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(),
            rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()),
            rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime()),
            lastDate = self.daysContainer.lastChild.lastChild.dateObj.getTime();
        var containsDisabled = false;
        var minRange = 0,
            maxRange = 0;

        for (var t = rangeStartDate; t < lastDate; t += duration.DAY) {
          if (!isEnabled(new Date(t), true)) {
            containsDisabled = containsDisabled || t > rangeStartDate && t < rangeEndDate;
            if (t < initialDate && (!minRange || t > minRange)) minRange = t;else if (t > initialDate && (!maxRange || t < maxRange)) maxRange = t;
          }
        }

        for (var m = 0; m < self.config.showMonths; m++) {
          var month = self.daysContainer.children[m];
          var prevMonth = self.daysContainer.children[m - 1];

          var _loop = function _loop(i, l) {
            var dayElem = month.children[i],
                date = dayElem.dateObj;
            var timestamp = date.getTime();
            var outOfRange = minRange > 0 && timestamp < minRange || maxRange > 0 && timestamp > maxRange;

            if (outOfRange) {
              dayElem.classList.add("notAllowed");
              ["inRange", "startRange", "endRange"].forEach(function (c) {
                dayElem.classList.remove(c);
              });
              return "continue";
            } else if (containsDisabled && !outOfRange) return "continue";

            ["startRange", "inRange", "endRange", "notAllowed"].forEach(function (c) {
              dayElem.classList.remove(c);
            });

            if (elem !== undefined) {
              elem.classList.add(hoverDate < self.selectedDates[0].getTime() ? "startRange" : "endRange");

              if (month.contains(elem) || !(m > 0 && prevMonth && prevMonth.lastChild.dateObj.getTime() >= timestamp)) {
                if (initialDate < hoverDate && timestamp === initialDate) dayElem.classList.add("startRange");else if (initialDate > hoverDate && timestamp === initialDate) dayElem.classList.add("endRange");
                if (timestamp >= minRange && (maxRange === 0 || timestamp <= maxRange) && isBetween(timestamp, initialDate, hoverDate)) dayElem.classList.add("inRange");
              }
            }
          };

          for (var i = 0, l = month.children.length; i < l; i++) {
            var _ret = _loop(i, l);

            if (_ret === "continue") continue;
          }
        }
      }

      function onResize() {
        if (self.isOpen && !self.config.static && !self.config.inline) positionCalendar();
      }

      function open(e, positionElement) {
        if (positionElement === void 0) {
          positionElement = self._positionElement;
        }

        if (self.isMobile === true) {
          if (e) {
            e.preventDefault();
            e.target && e.target.blur();
          }

          if (self.mobileInput !== undefined) {
            self.mobileInput.focus();
            self.mobileInput.click();
          }

          triggerEvent("onOpen");
          return;
        }

        if (self._input.disabled || self.config.inline) return;
        var wasOpen = self.isOpen;
        self.isOpen = true;

        if (!wasOpen) {
          self.calendarContainer.classList.add("open");

          self._input.classList.add("active");

          triggerEvent("onOpen");
          positionCalendar(positionElement);
        }

        if (self.config.enableTime === true && self.config.noCalendar === true) {
          if (self.selectedDates.length === 0) {
            self.setDate(self.config.minDate !== undefined ? new Date(self.config.minDate.getTime()) : new Date(), false);
            setDefaultHours();
            updateValue();
          }

          if (self.config.allowInput === false && (e === undefined || !self.timeContainer.contains(e.relatedTarget))) {
            setTimeout(function () {
              return self.hourElement.select();
            }, 50);
          }
        }
      }

      function minMaxDateSetter(type) {
        return function (date) {
          var dateObj = self.config["_" + type + "Date"] = self.parseDate(date, self.config.dateFormat);
          var inverseDateObj = self.config["_" + (type === "min" ? "max" : "min") + "Date"];

          if (dateObj !== undefined) {
            self[type === "min" ? "minDateHasTime" : "maxDateHasTime"] = dateObj.getHours() > 0 || dateObj.getMinutes() > 0 || dateObj.getSeconds() > 0;
          }

          if (self.selectedDates) {
            self.selectedDates = self.selectedDates.filter(function (d) {
              return isEnabled(d);
            });
            if (!self.selectedDates.length && type === "min") setHoursFromDate(dateObj);
            updateValue();
          }

          if (self.daysContainer) {
            redraw();
            if (dateObj !== undefined) self.currentYearElement[type] = dateObj.getFullYear().toString();else self.currentYearElement.removeAttribute(type);
            self.currentYearElement.disabled = !!inverseDateObj && dateObj !== undefined && inverseDateObj.getFullYear() === dateObj.getFullYear();
          }
        };
      }

      function parseConfig() {
        var boolOpts = ["wrap", "weekNumbers", "allowInput", "clickOpens", "time_24hr", "enableTime", "noCalendar", "altInput", "shorthandCurrentMonth", "inline", "static", "enableSeconds", "disableMobile"];
        var userConfig = Object.assign({}, instanceConfig, JSON.parse(JSON.stringify(element.dataset || {})));
        var formats$$1 = {};
        self.config.parseDate = userConfig.parseDate;
        self.config.formatDate = userConfig.formatDate;
        Object.defineProperty(self.config, "enable", {
          get: function get() {
            return self.config._enable;
          },
          set: function set(dates) {
            self.config._enable = parseDateRules(dates);
          }
        });
        Object.defineProperty(self.config, "disable", {
          get: function get() {
            return self.config._disable;
          },
          set: function set(dates) {
            self.config._disable = parseDateRules(dates);
          }
        });
        var timeMode = userConfig.mode === "time";

        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {
          formats$$1.dateFormat = userConfig.noCalendar || timeMode ? "H:i" + (userConfig.enableSeconds ? ":S" : "") : flatpickr.defaultConfig.dateFormat + " H:i" + (userConfig.enableSeconds ? ":S" : "");
        }

        if (userConfig.altInput && (userConfig.enableTime || timeMode) && !userConfig.altFormat) {
          formats$$1.altFormat = userConfig.noCalendar || timeMode ? "h:i" + (userConfig.enableSeconds ? ":S K" : " K") : flatpickr.defaultConfig.altFormat + (" h:i" + (userConfig.enableSeconds ? ":S" : "") + " K");
        }

        Object.defineProperty(self.config, "minDate", {
          get: function get() {
            return self.config._minDate;
          },
          set: minMaxDateSetter("min")
        });
        Object.defineProperty(self.config, "maxDate", {
          get: function get() {
            return self.config._maxDate;
          },
          set: minMaxDateSetter("max")
        });

        var minMaxTimeSetter = function minMaxTimeSetter(type) {
          return function (val) {
            self.config[type === "min" ? "_minTime" : "_maxTime"] = self.parseDate(val, "H:i");
          };
        };

        Object.defineProperty(self.config, "minTime", {
          get: function get() {
            return self.config._minTime;
          },
          set: minMaxTimeSetter("min")
        });
        Object.defineProperty(self.config, "maxTime", {
          get: function get() {
            return self.config._maxTime;
          },
          set: minMaxTimeSetter("max")
        });

        if (userConfig.mode === "time") {
          self.config.noCalendar = true;
          self.config.enableTime = true;
        }

        Object.assign(self.config, formats$$1, userConfig);

        for (var i = 0; i < boolOpts.length; i++) {
          self.config[boolOpts[i]] = self.config[boolOpts[i]] === true || self.config[boolOpts[i]] === "true";
        }

        HOOKS.filter(function (hook) {
          return self.config[hook] !== undefined;
        }).forEach(function (hook) {
          self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);
        });
        self.isMobile = !self.config.disableMobile && !self.config.inline && self.config.mode === "single" && !self.config.disable.length && !self.config.enable.length && !self.config.weekNumbers && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

        for (var _i = 0; _i < self.config.plugins.length; _i++) {
          var pluginConf = self.config.plugins[_i](self) || {};

          for (var key in pluginConf) {
            if (HOOKS.indexOf(key) > -1) {
              self.config[key] = arrayify(pluginConf[key]).map(bindToInstance).concat(self.config[key]);
            } else if (typeof userConfig[key] === "undefined") self.config[key] = pluginConf[key];
          }
        }

        triggerEvent("onParseConfig");
      }

      function setupLocale() {
        if (typeof self.config.locale !== "object" && typeof flatpickr.l10ns[self.config.locale] === "undefined") self.config.errorHandler(new Error("flatpickr: invalid locale " + self.config.locale));
        self.l10n = Object.assign({}, flatpickr.l10ns.default, typeof self.config.locale === "object" ? self.config.locale : self.config.locale !== "default" ? flatpickr.l10ns[self.config.locale] : undefined);
        tokenRegex.K = "(" + self.l10n.amPM[0] + "|" + self.l10n.amPM[1] + "|" + self.l10n.amPM[0].toLowerCase() + "|" + self.l10n.amPM[1].toLowerCase() + ")";
        self.formatDate = createDateFormatter(self);
        self.parseDate = createDateParser({
          config: self.config,
          l10n: self.l10n
        });
      }

      function positionCalendar(customPositionElement) {
        if (self.calendarContainer === undefined) return;
        triggerEvent("onPreCalendarPosition");
        var positionElement = customPositionElement || self._positionElement;
        var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, function (acc, child) {
          return acc + child.offsetHeight;
        }, 0),
            calendarWidth = self.calendarContainer.offsetWidth,
            configPos = self.config.position.split(" "),
            configPosVertical = configPos[0],
            configPosHorizontal = configPos.length > 1 ? configPos[1] : null,
            inputBounds = positionElement.getBoundingClientRect(),
            distanceFromBottom = window.innerHeight - inputBounds.bottom,
            showOnTop = configPosVertical === "above" || configPosVertical !== "below" && distanceFromBottom < calendarHeight && inputBounds.top > calendarHeight;
        var top = window.pageYOffset + inputBounds.top + (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);
        toggleClass(self.calendarContainer, "arrowTop", !showOnTop);
        toggleClass(self.calendarContainer, "arrowBottom", showOnTop);
        if (self.config.inline) return;
        var left = window.pageXOffset + inputBounds.left - (configPosHorizontal != null && configPosHorizontal === "center" ? (calendarWidth - inputBounds.width) / 2 : 0);
        var right = window.document.body.offsetWidth - inputBounds.right;
        var rightMost = left + calendarWidth > window.document.body.offsetWidth;
        toggleClass(self.calendarContainer, "rightMost", rightMost);
        if (self.config.static) return;
        self.calendarContainer.style.top = top + "px";

        if (!rightMost) {
          self.calendarContainer.style.left = left + "px";
          self.calendarContainer.style.right = "auto";
        } else {
          self.calendarContainer.style.left = "auto";
          self.calendarContainer.style.right = right + "px";
        }
      }

      function redraw() {
        if (self.config.noCalendar || self.isMobile) return;
        updateNavigationCurrentMonth();
        buildDays();
      }

      function focusAndClose() {
        self._input.focus();

        if (window.navigator.userAgent.indexOf("MSIE") !== -1 || navigator.msMaxTouchPoints !== undefined) {
          setTimeout(self.close, 0);
        } else {
          self.close();
        }
      }

      function selectDate(e) {
        e.preventDefault();
        e.stopPropagation();

        var isSelectable = function isSelectable(day) {
          return day.classList && day.classList.contains("flatpickr-day") && !day.classList.contains("disabled") && !day.classList.contains("notAllowed");
        };

        var t = findParent(e.target, isSelectable);
        if (t === undefined) return;
        var target = t;
        var selectedDate = self.latestSelectedDateObj = new Date(target.dateObj.getTime());
        var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth || selectedDate.getMonth() > self.currentMonth + self.config.showMonths - 1) && self.config.mode !== "range";
        self.selectedDateElem = target;
        if (self.config.mode === "single") self.selectedDates = [selectedDate];else if (self.config.mode === "multiple") {
          var selectedIndex = isDateSelected(selectedDate);
          if (selectedIndex) self.selectedDates.splice(parseInt(selectedIndex), 1);else self.selectedDates.push(selectedDate);
        } else if (self.config.mode === "range") {
          if (self.selectedDates.length === 2) self.clear(false);
          self.selectedDates.push(selectedDate);
          if (compareDates(selectedDate, self.selectedDates[0], true) !== 0) self.selectedDates.sort(function (a, b) {
            return a.getTime() - b.getTime();
          });
        }
        setHoursFromInputs();

        if (shouldChangeMonth) {
          var isNewYear = self.currentYear !== selectedDate.getFullYear();
          self.currentYear = selectedDate.getFullYear();
          self.currentMonth = selectedDate.getMonth();
          if (isNewYear) triggerEvent("onYearChange");
          triggerEvent("onMonthChange");
        }

        updateNavigationCurrentMonth();
        buildDays();
        updateValue();
        if (self.config.enableTime) setTimeout(function () {
          return self.showTimeInput = true;
        }, 50);
        if (!shouldChangeMonth && self.config.mode !== "range" && self.config.showMonths === 1) focusOnDayElem(target);else self.selectedDateElem && self.selectedDateElem.focus();
        if (self.hourElement !== undefined) setTimeout(function () {
          return self.hourElement !== undefined && self.hourElement.select();
        }, 451);

        if (self.config.closeOnSelect) {
          var single = self.config.mode === "single" && !self.config.enableTime;
          var range = self.config.mode === "range" && self.selectedDates.length === 2 && !self.config.enableTime;

          if (single || range) {
            focusAndClose();
          }
        }

        triggerChange();
      }

      var CALLBACKS = {
        locale: [setupLocale, updateWeekdays],
        showMonths: [buildMonths, setCalendarWidth, buildWeekdays]
      };

      function set(option, value) {
        if (option !== null && typeof option === "object") Object.assign(self.config, option);else {
          self.config[option] = value;
          if (CALLBACKS[option] !== undefined) CALLBACKS[option].forEach(function (x) {
            return x();
          });else if (HOOKS.indexOf(option) > -1) self.config[option] = arrayify(value);
        }
        self.redraw();
        jumpToDate();
        updateValue(false);
      }

      function setSelectedDate(inputDate, format) {
        var dates = [];
        if (inputDate instanceof Array) dates = inputDate.map(function (d) {
          return self.parseDate(d, format);
        });else if (inputDate instanceof Date || typeof inputDate === "number") dates = [self.parseDate(inputDate, format)];else if (typeof inputDate === "string") {
          switch (self.config.mode) {
            case "single":
            case "time":
              dates = [self.parseDate(inputDate, format)];
              break;

            case "multiple":
              dates = inputDate.split(self.config.conjunction).map(function (date) {
                return self.parseDate(date, format);
              });
              break;

            case "range":
              dates = inputDate.split(self.l10n.rangeSeparator).map(function (date) {
                return self.parseDate(date, format);
              });
              break;

            default:
              break;
          }
        } else self.config.errorHandler(new Error("Invalid date supplied: " + JSON.stringify(inputDate)));
        self.selectedDates = dates.filter(function (d) {
          return d instanceof Date && isEnabled(d, false);
        });
        if (self.config.mode === "range") self.selectedDates.sort(function (a, b) {
          return a.getTime() - b.getTime();
        });
      }

      function setDate(date, triggerChange, format) {
        if (triggerChange === void 0) {
          triggerChange = false;
        }

        if (format === void 0) {
          format = self.config.dateFormat;
        }

        if (date !== 0 && !date || date instanceof Array && date.length === 0) return self.clear(triggerChange);
        setSelectedDate(date, format);
        self.showTimeInput = self.selectedDates.length > 0;
        self.latestSelectedDateObj = self.selectedDates[0];
        self.redraw();
        jumpToDate();
        setHoursFromDate();
        updateValue(triggerChange);
        if (triggerChange) triggerEvent("onChange");
      }

      function parseDateRules(arr) {
        return arr.slice().map(function (rule) {
          if (typeof rule === "string" || typeof rule === "number" || rule instanceof Date) {
            return self.parseDate(rule, undefined, true);
          } else if (rule && typeof rule === "object" && rule.from && rule.to) return {
            from: self.parseDate(rule.from, undefined),
            to: self.parseDate(rule.to, undefined)
          };

          return rule;
        }).filter(function (x) {
          return x;
        });
      }

      function setupDates() {
        self.selectedDates = [];
        self.now = self.parseDate(self.config.now) || new Date();
        var preloadedDate = self.config.defaultDate || ((self.input.nodeName === "INPUT" || self.input.nodeName === "TEXTAREA") && self.input.placeholder && self.input.value === self.input.placeholder ? null : self.input.value);
        if (preloadedDate) setSelectedDate(preloadedDate, self.config.dateFormat);
        var initialDate = self.selectedDates.length > 0 ? self.selectedDates[0] : self.config.minDate && self.config.minDate.getTime() > self.now.getTime() ? self.config.minDate : self.config.maxDate && self.config.maxDate.getTime() < self.now.getTime() ? self.config.maxDate : self.now;
        self.currentYear = initialDate.getFullYear();
        self.currentMonth = initialDate.getMonth();
        if (self.selectedDates.length > 0) self.latestSelectedDateObj = self.selectedDates[0];
        if (self.config.minTime !== undefined) self.config.minTime = self.parseDate(self.config.minTime, "H:i");
        if (self.config.maxTime !== undefined) self.config.maxTime = self.parseDate(self.config.maxTime, "H:i");
        self.minDateHasTime = !!self.config.minDate && (self.config.minDate.getHours() > 0 || self.config.minDate.getMinutes() > 0 || self.config.minDate.getSeconds() > 0);
        self.maxDateHasTime = !!self.config.maxDate && (self.config.maxDate.getHours() > 0 || self.config.maxDate.getMinutes() > 0 || self.config.maxDate.getSeconds() > 0);
        Object.defineProperty(self, "showTimeInput", {
          get: function get() {
            return self._showTimeInput;
          },
          set: function set(bool) {
            self._showTimeInput = bool;
            if (self.calendarContainer) toggleClass(self.calendarContainer, "showTimeInput", bool);
            self.isOpen && positionCalendar();
          }
        });
      }

      function setupInputs() {
        self.input = self.config.wrap ? element.querySelector("[data-input]") : element;

        if (!self.input) {
          self.config.errorHandler(new Error("Invalid input element specified"));
          return;
        }

        self.input._type = self.input.type;
        self.input.type = "text";
        self.input.classList.add("flatpickr-input");
        self._input = self.input;

        if (self.config.altInput) {
          self.altInput = createElement(self.input.nodeName, self.input.className + " " + self.config.altInputClass);
          self._input = self.altInput;
          self.altInput.placeholder = self.input.placeholder;
          self.altInput.disabled = self.input.disabled;
          self.altInput.required = self.input.required;
          self.altInput.tabIndex = self.input.tabIndex;
          self.altInput.type = "text";
          self.input.setAttribute("type", "hidden");
          if (!self.config.static && self.input.parentNode) self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);
        }

        if (!self.config.allowInput) self._input.setAttribute("readonly", "readonly");
        self._positionElement = self.config.positionElement || self._input;
      }

      function setupMobile() {
        var inputType = self.config.enableTime ? self.config.noCalendar ? "time" : "datetime-local" : "date";
        self.mobileInput = createElement("input", self.input.className + " flatpickr-mobile");
        self.mobileInput.step = self.input.getAttribute("step") || "any";
        self.mobileInput.tabIndex = 1;
        self.mobileInput.type = inputType;
        self.mobileInput.disabled = self.input.disabled;
        self.mobileInput.required = self.input.required;
        self.mobileInput.placeholder = self.input.placeholder;
        self.mobileFormatStr = inputType === "datetime-local" ? "Y-m-d\\TH:i:S" : inputType === "date" ? "Y-m-d" : "H:i:S";

        if (self.selectedDates.length > 0) {
          self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);
        }

        if (self.config.minDate) self.mobileInput.min = self.formatDate(self.config.minDate, "Y-m-d");
        if (self.config.maxDate) self.mobileInput.max = self.formatDate(self.config.maxDate, "Y-m-d");
        self.input.type = "hidden";
        if (self.altInput !== undefined) self.altInput.type = "hidden";

        try {
          if (self.input.parentNode) self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);
        } catch (_a) {}

        bind(self.mobileInput, "change", function (e) {
          self.setDate(e.target.value, false, self.mobileFormatStr);
          triggerEvent("onChange");
          triggerEvent("onClose");
        });
      }

      function toggle(e) {
        if (self.isOpen === true) return self.close();
        self.open(e);
      }

      function triggerEvent(event, data) {
        if (self.config === undefined) return;
        var hooks = self.config[event];

        if (hooks !== undefined && hooks.length > 0) {
          for (var i = 0; hooks[i] && i < hooks.length; i++) {
            hooks[i](self.selectedDates, self.input.value, self, data);
          }
        }

        if (event === "onChange") {
          self.input.dispatchEvent(createEvent("change"));
          self.input.dispatchEvent(createEvent("input"));
        }
      }

      function createEvent(name) {
        var e = document.createEvent("Event");
        e.initEvent(name, true, true);
        return e;
      }

      function isDateSelected(date) {
        for (var i = 0; i < self.selectedDates.length; i++) {
          if (compareDates(self.selectedDates[i], date) === 0) return "" + i;
        }

        return false;
      }

      function isDateInRange(date) {
        if (self.config.mode !== "range" || self.selectedDates.length < 2) return false;
        return compareDates(date, self.selectedDates[0]) >= 0 && compareDates(date, self.selectedDates[1]) <= 0;
      }

      function updateNavigationCurrentMonth() {
        if (self.config.noCalendar || self.isMobile || !self.monthNav) return;
        self.yearElements.forEach(function (yearElement, i) {
          var d = new Date(self.currentYear, self.currentMonth, 1);
          d.setMonth(self.currentMonth + i);
          self.monthElements[i].textContent = monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + " ";
          yearElement.value = d.getFullYear().toString();
        });
        self._hidePrevMonthArrow = self.config.minDate !== undefined && (self.currentYear === self.config.minDate.getFullYear() ? self.currentMonth <= self.config.minDate.getMonth() : self.currentYear < self.config.minDate.getFullYear());
        self._hideNextMonthArrow = self.config.maxDate !== undefined && (self.currentYear === self.config.maxDate.getFullYear() ? self.currentMonth + 1 > self.config.maxDate.getMonth() : self.currentYear > self.config.maxDate.getFullYear());
      }

      function getDateStr(format) {
        return self.selectedDates.map(function (dObj) {
          return self.formatDate(dObj, format);
        }).filter(function (d, i, arr) {
          return self.config.mode !== "range" || self.config.enableTime || arr.indexOf(d) === i;
        }).join(self.config.mode !== "range" ? self.config.conjunction : self.l10n.rangeSeparator);
      }

      function updateValue(triggerChange) {
        if (triggerChange === void 0) {
          triggerChange = true;
        }

        if (self.selectedDates.length === 0) return self.clear(triggerChange);

        if (self.mobileInput !== undefined && self.mobileFormatStr) {
          self.mobileInput.value = self.latestSelectedDateObj !== undefined ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr) : "";
        }

        self.input.value = getDateStr(self.config.dateFormat);

        if (self.altInput !== undefined) {
          self.altInput.value = getDateStr(self.config.altFormat);
        }

        if (triggerChange !== false) triggerEvent("onValueUpdate");
      }

      function onMonthNavClick(e) {
        e.preventDefault();
        var isPrevMonth = self.prevMonthNav.contains(e.target);
        var isNextMonth = self.nextMonthNav.contains(e.target);

        if (isPrevMonth || isNextMonth) {
          changeMonth(isPrevMonth ? -1 : 1);
        } else if (self.yearElements.indexOf(e.target) >= 0) {
          e.target.select();
        } else if (e.target.classList.contains("arrowUp")) {
          self.changeYear(self.currentYear + 1);
        } else if (e.target.classList.contains("arrowDown")) {
          self.changeYear(self.currentYear - 1);
        }
      }

      function timeWrapper(e) {
        e.preventDefault();
        var isKeyDown = e.type === "keydown",
            input = e.target;

        if (self.amPM !== undefined && e.target === self.amPM) {
          self.amPM.textContent = self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];
        }

        var min = parseFloat(input.getAttribute("data-min")),
            max = parseFloat(input.getAttribute("data-max")),
            step = parseFloat(input.getAttribute("data-step")),
            curValue = parseInt(input.value, 10),
            delta = e.delta || (isKeyDown ? e.which === 38 ? 1 : -1 : 0);
        var newValue = curValue + step * delta;

        if (typeof input.value !== "undefined" && input.value.length === 2) {
          var isHourElem = input === self.hourElement,
              isMinuteElem = input === self.minuteElement;

          if (newValue < min) {
            newValue = max + newValue + int(!isHourElem) + (int(isHourElem) && int(!self.amPM));
            if (isMinuteElem) incrementNumInput(undefined, -1, self.hourElement);
          } else if (newValue > max) {
            newValue = input === self.hourElement ? newValue - max - int(!self.amPM) : min;
            if (isMinuteElem) incrementNumInput(undefined, 1, self.hourElement);
          }

          if (self.amPM && isHourElem && (step === 1 ? newValue + curValue === 23 : Math.abs(newValue - curValue) > step)) {
            self.amPM.textContent = self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];
          }

          input.value = pad(newValue);
        }
      }

      init();
      return self;
    }

    function _flatpickr(nodeList, config) {
      var nodes = Array.prototype.slice.call(nodeList);
      var instances = [];

      for (var i = 0; i < nodes.length; i++) {
        var node = nodes[i];

        try {
          if (node.getAttribute("data-fp-omit") !== null) continue;

          if (node._flatpickr !== undefined) {
            node._flatpickr.destroy();

            node._flatpickr = undefined;
          }

          node._flatpickr = FlatpickrInstance(node, config || {});
          instances.push(node._flatpickr);
        } catch (e) {
          console.error(e);
        }
      }

      return instances.length === 1 ? instances[0] : instances;
    }

    if (typeof HTMLElement !== "undefined") {
      HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {
        return _flatpickr(this, config);
      };

      HTMLElement.prototype.flatpickr = function (config) {
        return _flatpickr([this], config);
      };
    }

    var flatpickr = function flatpickr(selector, config) {
      if (selector instanceof NodeList) return _flatpickr(selector, config);else if (typeof selector === "string") return _flatpickr(window.document.querySelectorAll(selector), config);
      return _flatpickr([selector], config);
    };

    flatpickr.defaultConfig = defaults;
    flatpickr.l10ns = {
      en: Object.assign({}, english),
      default: Object.assign({}, english)
    };

    flatpickr.localize = function (l10n) {
      flatpickr.l10ns.default = Object.assign({}, flatpickr.l10ns.default, l10n);
    };

    flatpickr.setDefaults = function (config) {
      flatpickr.defaultConfig = Object.assign({}, flatpickr.defaultConfig, config);
    };

    flatpickr.parseDate = createDateParser({});
    flatpickr.formatDate = createDateFormatter({});
    flatpickr.compareDates = compareDates;

    if (typeof jQuery !== "undefined") {
      jQuery.fn.flatpickr = function (config) {
        return _flatpickr(this, config);
      };
    }

    Date.prototype.fp_incr = function (days) {
      return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === "string" ? parseInt(days, 10) : days));
    };

    if (typeof window !== "undefined") {
      window.flatpickr = flatpickr;
    }

    return flatpickr;

})));
         20190128165852                                                 |T     / *   f l a t p i c k r   v 4 . 5 . 2 ,   @ l i c e n s e   M I T   * / 
 ( f u n c t i o n   ( g l o b a l ,   f a c t o r y )   { 
         t y p e o f   e x p o r t s   = = =   ' o b j e c t '   & &   t y p e o f   m o d u l e   ! = =   ' u n d e f i n e d '   ?   m o d u l e . e x p o r t s   =   f a c t o r y ( )   : 
         t y p e o f   d e f i n e   = = =   ' f u n c t i o n '   & &   d e f i n e . a m d   ?   d e f i n e ( f a c t o r y )   : 
         ( g l o b a l . f l a t p i c k r   =   f a c t o r y ( ) ) ; 
 } ( t h i s ,   ( f u n c t i o n   ( )   {   ' u s e   s t r i c t ' ; 
 
         v a r   p a d   =   f u n c t i o n   p a d ( n u m b e r )   { 
             r e t u r n   ( " 0 "   +   n u m b e r ) . s l i c e ( - 2 ) ; 
         } ; 
         v a r   i n t   =   f u n c t i o n   i n t ( b o o l )   { 
             r e t u r n   b o o l   = = =   t r u e   ?   1   :   0 ; 
         } ; 
         f u n c t i o n   d e b o u n c e ( f u n c ,   w a i t ,   i m m e d i a t e )   { 
             i f   ( i m m e d i a t e   = = =   v o i d   0 )   { 
                 i m m e d i a t e   =   f a l s e ; 
             } 
 
             v a r   t i m e o u t ; 
             r e t u r n   f u n c t i o n   ( )   { 
                 v a r   c o n t e x t   =   t h i s , 
                         a r g s   =   a r g u m e n t s ; 
                 t i m e o u t   ! = =   n u l l   & &   c l e a r T i m e o u t ( t i m e o u t ) ; 
                 t i m e o u t   =   w i n d o w . s e t T i m e o u t ( f u n c t i o n   ( )   { 
                     t i m e o u t   =   n u l l ; 
                     i f   ( ! i m m e d i a t e )   f u n c . a p p l y ( c o n t e x t ,   a r g s ) ; 
                 } ,   w a i t ) ; 
                 i f   ( i m m e d i a t e   & &   ! t i m e o u t )   f u n c . a p p l y ( c o n t e x t ,   a r g s ) ; 
             } ; 
         } 
         v a r   a r r a y i f y   =   f u n c t i o n   a r r a y i f y ( o b j )   { 
             r e t u r n   o b j   i n s t a n c e o f   A r r a y   ?   o b j   :   [ o b j ] ; 
         } ; 
 
         v a r   d o _ n o t h i n g   =   f u n c t i o n   d o _ n o t h i n g ( )   { 
             r e t u r n   u n d e f i n e d ; 
         } ; 
 
         v a r   m o n t h T o S t r   =   f u n c t i o n   m o n t h T o S t r ( m o n t h N u m b e r ,   s h o r t h a n d ,   l o c a l e )   { 
             r e t u r n   l o c a l e . m o n t h s [ s h o r t h a n d   ?   " s h o r t h a n d "   :   " l o n g h a n d " ] [ m o n t h N u m b e r ] ; 
         } ; 
         v a r   r e v F o r m a t   =   { 
             D :   d o _ n o t h i n g , 
             F :   f u n c t i o n   F ( d a t e O b j ,   m o n t h N a m e ,   l o c a l e )   { 
                 d a t e O b j . s e t M o n t h ( l o c a l e . m o n t h s . l o n g h a n d . i n d e x O f ( m o n t h N a m e ) ) ; 
             } , 
             G :   f u n c t i o n   G ( d a t e O b j ,   h o u r )   { 
                 d a t e O b j . s e t H o u r s ( p a r s e F l o a t ( h o u r ) ) ; 
             } , 
             H :   f u n c t i o n   H ( d a t e O b j ,   h o u r )   { 
                 d a t e O b j . s e t H o u r s ( p a r s e F l o a t ( h o u r ) ) ; 
             } , 
             J :   f u n c t i o n   J ( d a t e O b j ,   d a y )   { 
                 d a t e O b j . s e t D a t e ( p a r s e F l o a t ( d a y ) ) ; 
             } , 
             K :   f u n c t i o n   K ( d a t e O b j ,   a m P M ,   l o c a l e )   { 
                 d a t e O b j . s e t H o u r s ( d a t e O b j . g e t H o u r s ( )   %   1 2   +   1 2   *   i n t ( n e w   R e g E x p ( l o c a l e . a m P M [ 1 ] ,   " i " ) . t e s t ( a m P M ) ) ) ; 
             } , 
             M :   f u n c t i o n   M ( d a t e O b j ,   s h o r t M o n t h ,   l o c a l e )   { 
                 d a t e O b j . s e t M o n t h ( l o c a l e . m o n t h s . s h o r t h a n d . i n d e x O f ( s h o r t M o n t h ) ) ; 
             } , 
             S :   f u n c t i o n   S ( d a t e O b j ,   s e c o n d s )   { 
                 d a t e O b j . s e t S e c o n d s ( p a r s e F l o a t ( s e c o n d s ) ) ; 
             } , 
             U :   f u n c t i o n   U ( _ ,   u n i x S e c o n d s )   { 
                 r e t u r n   n e w   D a t e ( p a r s e F l o a t ( u n i x S e c o n d s )   *   1 0 0 0 ) ; 
             } , 
             W :   f u n c t i o n   W ( d a t e O b j ,   w e e k N u m )   { 
                 v a r   w e e k N u m b e r   =   p a r s e I n t ( w e e k N u m ) ; 
                 r e t u r n   n e w   D a t e ( d a t e O b j . g e t F u l l Y e a r ( ) ,   0 ,   2   +   ( w e e k N u m b e r   -   1 )   *   7 ,   0 ,   0 ,   0 ,   0 ) ; 
             } , 
             Y :   f u n c t i o n   Y ( d a t e O b j ,   y e a r )   { 
                 d a t e O b j . s e t F u l l Y e a r ( p a r s e F l o a t ( y e a r ) ) ; 
             } , 
             Z :   f u n c t i o n   Z ( _ ,   I S O D a t e )   { 
                 r e t u r n   n e w   D a t e ( I S O D a t e ) ; 
             } , 
             d :   f u n c t i o n   d ( d a t e O b j ,   d a y )   { 
                 d a t e O b j . s e t D a t e ( p a r s e F l o a t ( d a y ) ) ; 
             } , 
             h :   f u n c t i o n   h ( d a t e O b j ,   h o u r )   { 
                 d a t e O b j . s e t H o u r s ( p a r s e F l o a t ( h o u r ) ) ; 
             } , 
             i :   f u n c t i o n   i ( d a t e O b j ,   m i n u t e s )   { 
                 d a t e O b j . s e t M i n u t e s ( p a r s e F l o a t ( m i n u t e s ) ) ; 
             } , 
             j :   f u n c t i o n   j ( d a t e O b j ,   d a y )   { 
                 d a t e O b j . s e t D a t e ( p a r s e F l o a t ( d a y ) ) ; 
             } , 
             l :   d o _ n o t h i n g , 
             m :   f u n c t i o n   m ( d a t e O b j ,   m o n t h )   { 
                 d a t e O b j . s e t M o n t h ( p a r s e F l o a t ( m o n t h )   -   1 ) ; 
             } , 
             n :   f u n c t i o n   n ( d a t e O b j ,   m o n t h )   { 
                 d a t e O b j . s e t M o n t h ( p a r s e F l o a t ( m o n t h )   -   1 ) ; 
             } , 
             s :   f u n c t i o n   s ( d a t e O b j ,   s e c o n d s )   { 
                 d a t e O b j . s e t S e c o n d s ( p a r s e F l o a t ( s e c o n d s ) ) ; 
             } , 
             w :   d o _ n o t h i n g , 
             y :   f u n c t i o n   y ( d a t e O b j ,   y e a r )   { 
                 d a t e O b j . s e t F u l l Y e a r ( 2 0 0 0   +   p a r s e F l o a t ( y e a r ) ) ; 
             } 
         } ; 
         v a r   t o k e n R e g e x   =   { 
             D :   " ( \ \ w + ) " , 
             F :   " ( \ \ w + ) " , 
             G :   " ( \ \ d \ \ d | \ \ d ) " , 
             H :   " ( \ \ d \ \ d | \ \ d ) " , 
             J :   " ( \ \ d \ \ d | \ \ d ) \ \ w + " , 
             K :   " " , 
             M :   " ( \ \ w + ) " , 
             S :   " ( \ \ d \ \ d | \ \ d ) " , 
             U :   " ( . + ) " , 
             W :   " ( \ \ d \ \ d | \ \ d ) " , 
             Y :   " ( \ \ d { 4 } ) " , 
             Z :   " ( . + ) " , 
             d :   " ( \ \ d \ \ d | \ \ d ) " , 
             h :   " ( \ \ d \ \ d | \ \ d ) " , 
             i :   " ( \ \ d \ \ d | \ \ d ) " , 
             j :   " ( \ \ d \ \ d | \ \ d ) " , 
             l :   " ( \ \ w + ) " , 
             m :   " ( \ \ d \ \ d | \ \ d ) " , 
             n :   " ( \ \ d \ \ d | \ \ d ) " , 
             s :   " ( \ \ d \ \ d | \ \ d ) " , 
             w :   " ( \ \ d \ \ d | \ \ d ) " , 
             y :   " ( \ \ d { 2 } ) " 
         } ; 
         v a r   f o r m a t s   =   { 
             Z :   f u n c t i o n   Z ( d a t e )   { 
                 r e t u r n   d a t e . t o I S O S t r i n g ( ) ; 
             } , 
             D :   f u n c t i o n   D ( d a t e ,   l o c a l e ,   o p t i o n s )   { 
                 r e t u r n   l o c a l e . w e e k d a y s . s h o r t h a n d [ f o r m a t s . w ( d a t e ,   l o c a l e ,   o p t i o n s ) ] ; 
             } , 
             F :   f u n c t i o n   F ( d a t e ,   l o c a l e ,   o p t i o n s )   { 
                 r e t u r n   m o n t h T o S t r ( f o r m a t s . n ( d a t e ,   l o c a l e ,   o p t i o n s )   -   1 ,   f a l s e ,   l o c a l e ) ; 
             } , 
             G :   f u n c t i o n   G ( d a t e ,   l o c a l e ,   o p t i o n s )   { 
                 r e t u r n   p a d ( f o r m a t s . h ( d a t e ,   l o c a l e ,   o p t i o n s ) ) ; 
             } , 
             H :   f u n c t i o n   H ( d a t e )   { 
                 r e t u r n   p a d ( d a t e . g e t H o u r s ( ) ) ; 
             } , 
             J :   f u n c t i o n   J ( d a t e ,   l o c a l e )   { 
                 r e t u r n   l o c a l e . o r d i n a l   ! = =   u n d e f i n e d   ?   d a t e . g e t D a t e ( )   +   l o c a l e . o r d i n a l ( d a t e . g e t D a t e ( ) )   :   d a t e . g e t D a t e ( ) ; 
             } , 
             K :   f u n c t i o n   K ( d a t e ,   l o c a l e )   { 
                 r e t u r n   l o c a l e . a m P M [ i n t ( d a t e . g e t H o u r s ( )   >   1 1 ) ] ; 
             } , 
             M :   f u n c t i o n   M ( d a t e ,   l o c a l e )   { 
                 r e t u r n   m o n t h T o S t r ( d a t e . g e t M o n t h ( ) ,   t r u e ,   l o c a l e ) ; 
             } , 
             S :   f u n c t i o n   S ( d a t e )   { 
                 r e t u r n   p a d ( d a t e . g e t S e c o n d s ( ) ) ; 
             } , 
             U :   f u n c t i o n   U ( d a t e )   { 
                 r e t u r n   d a t e . g e t T i m e ( )   /   1 0 0 0 ; 
             } , 
             W :   f u n c t i o n   W ( d a t e ,   _ ,   o p t i o n s )   { 
                 r e t u r n   o p t i o n s . g e t W e e k ( d a t e ) ; 
             } , 
             Y :   f u n c t i o n   Y ( d a t e )   { 
                 r e t u r n   d a t e . g e t F u l l Y e a r ( ) ; 
             } , 
             d :   f u n c t i o n   d ( d a t e )   { 
                 r e t u r n   p a d ( d a t e . g e t D a t e ( ) ) ; 
             } , 
             h :   f u n c t i o n   h ( d a t e )   { 
                 r e t u r n   d a t e . g e t H o u r s ( )   %   1 2   ?   d a t e . g e t H o u r s ( )   %   1 2   :   1 2 ; 
             } , 
             i :   f u n c t i o n   i ( d a t e )   { 
                 r e t u r n   p a d ( d a t e . g e t M i n u t e s ( ) ) ; 
             } , 
             j :   f u n c t i o n   j ( d a t e )   { 
                 r e t u r n   d a t e . g e t D a t e ( ) ; 
             } , 
             l :   f u n c t i o n   l ( d a t e ,   l o c a l e )   { 
                 r e t u r n   l o c a l e . w e e k d a y s . l o n g h a n d [ d a t e . g e t D a y ( ) ] ; 
             } , 
             m :   f u n c t i o n   m ( d a t e )   { 
                 r e t u r n   p a d ( d a t e . g e t M o n t h ( )   +   1 ) ; 
             } , 
             n :   f u n c t i o n   n ( d a t e )   { 
                 r e t u r n   d a t e . g e t M o n t h ( )   +   1 ; 
             } , 
             s :   f u n c t i o n   s ( d a t e )   { 
                 r e t u r n   d a t e . g e t S e c o n d s ( ) ; 
             } , 
             w :   f u n c t i o n   w ( d a t e )   { 
                 r e t u r n   d a t e . g e t D a y ( ) ; 
             } , 
             y :   f u n c t i o n   y ( d a t e )   { 
                 r e t u r n   S t r i n g ( d a t e . g e t F u l l Y e a r ( ) ) . s u b s t r i n g ( 2 ) ; 
             } 
         } ; 
 
         v a r   e n g l i s h   =   { 
             w e e k d a y s :   { 
                 s h o r t h a n d :   [ " S u n " ,   " M o n " ,   " T u e " ,   " W e d " ,   " T h u " ,   " F r i " ,   " S a t " ] , 
                 l o n g h a n d :   [ " S u n d a y " ,   " M o n d a y " ,   " T u e s d a y " ,   " W e d n e s d a y " ,   " T h u r s d a y " ,   " F r i d a y " ,   " S a t u r d a y " ] 
             } , 
             m o n t h s :   { 
                 s h o r t h a n d :   [ " J a n " ,   " F e b " ,   " M a r " ,   " A p r " ,   " M a y " ,   " J u n " ,   " J u l " ,   " A u g " ,   " S e p " ,   " O c t " ,   " N o v " ,   " D e c " ] , 
                 l o n g h a n d :   [ " J a n u a r y " ,   " F e b r u a r y " ,   " M a r c h " ,   " A p r i l " ,   " M a y " ,   " J u n e " ,   " J u l y " ,   " A u g u s t " ,   " S e p t e m b e r " ,   " O c t o b e r " ,   " N o v e m b e r " ,   " D e c e m b e r " ] 
             } , 
             d a y s I n M o n t h :   [ 3 1 ,   2 8 ,   3 1 ,   3 0 ,   3 1 ,   3 0 ,   3 1 ,   3 1 ,   3 0 ,   3 1 ,   3 0 ,   3 1 ] , 
             f i r s t D a y O f W e e k :   0 , 
             o r d i n a l :   f u n c t i o n   o r d i n a l ( n t h )   { 
                 v a r   s   =   n t h   %   1 0 0 ; 
                 i f   ( s   >   3   & &   s   <   2 1 )   r e t u r n   " t h " ; 
 
                 s w i t c h   ( s   %   1 0 )   { 
                     c a s e   1 : 
                         r e t u r n   " s t " ; 
 
                     c a s e   2 : 
                         r e t u r n   " n d " ; 
 
                     c a s e   3 : 
                         r e t u r n   " r d " ; 
 
                     d e f a u l t : 
                         r e t u r n   " t h " ; 
                 } 
             } , 
             r a n g e S e p a r a t o r :   "   t o   " , 
             w e e k A b b r e v i a t i o n :   " W k " , 
             s c r o l l T i t l e :   " S c r o l l   t o   i n c r e m e n t " , 
             t o g g l e T i t l e :   " C l i c k   t o   t o g g l e " , 
             a m P M :   [ " A M " ,   " P M " ] , 
             y e a r A r i a L a b e l :   " Y e a r " 
         } ; 
 
         v a r   c r e a t e D a t e F o r m a t t e r   =   f u n c t i o n   c r e a t e D a t e F o r m a t t e r ( _ r e f )   { 
             v a r   _ r e f $ c o n f i g   =   _ r e f . c o n f i g , 
                     c o n f i g   =   _ r e f $ c o n f i g   = = =   v o i d   0   ?   d e f a u l t s   :   _ r e f $ c o n f i g , 
                     _ r e f $ l 1 0 n   =   _ r e f . l 1 0 n , 
                     l 1 0 n   =   _ r e f $ l 1 0 n   = = =   v o i d   0   ?   e n g l i s h   :   _ r e f $ l 1 0 n ; 
             r e t u r n   f u n c t i o n   ( d a t e O b j ,   f r m t ,   o v e r r i d e L o c a l e )   { 
                 v a r   l o c a l e   =   o v e r r i d e L o c a l e   | |   l 1 0 n ; 
 
                 i f   ( c o n f i g . f o r m a t D a t e   ! = =   u n d e f i n e d )   { 
                     r e t u r n   c o n f i g . f o r m a t D a t e ( d a t e O b j ,   f r m t ,   l o c a l e ) ; 
                 } 
 
                 r e t u r n   f r m t . s p l i t ( " " ) . m a p ( f u n c t i o n   ( c ,   i ,   a r r )   { 
                     r e t u r n   f o r m a t s [ c ]   & &   a r r [ i   -   1 ]   ! = =   " \ \ "   ?   f o r m a t s [ c ] ( d a t e O b j ,   l o c a l e ,   c o n f i g )   :   c   ! = =   " \ \ "   ?   c   :   " " ; 
                 } ) . j o i n ( " " ) ; 
             } ; 
         } ; 
         v a r   c r e a t e D a t e P a r s e r   =   f u n c t i o n   c r e a t e D a t e P a r s e r ( _ r e f 2 )   { 
             v a r   _ r e f 2 $ c o n f i g   =   _ r e f 2 . c o n f i g , 
                     c o n f i g   =   _ r e f 2 $ c o n f i g   = = =   v o i d   0   ?   d e f a u l t s   :   _ r e f 2 $ c o n f i g , 
                     _ r e f 2 $ l 1 0 n   =   _ r e f 2 . l 1 0 n , 
                     l 1 0 n   =   _ r e f 2 $ l 1 0 n   = = =   v o i d   0   ?   e n g l i s h   :   _ r e f 2 $ l 1 0 n ; 
             r e t u r n   f u n c t i o n   ( d a t e ,   g i v e n F o r m a t ,   t i m e l e s s ,   c u s t o m L o c a l e )   { 
                 i f   ( d a t e   ! = =   0   & &   ! d a t e )   r e t u r n   u n d e f i n e d ; 
                 v a r   l o c a l e   =   c u s t o m L o c a l e   | |   l 1 0 n ; 
                 v a r   p a r s e d D a t e ; 
                 v a r   d a t e _ o r i g   =   d a t e ; 
                 i f   ( d a t e   i n s t a n c e o f   D a t e )   p a r s e d D a t e   =   n e w   D a t e ( d a t e . g e t T i m e ( ) ) ; e l s e   i f   ( t y p e o f   d a t e   ! = =   " s t r i n g "   & &   d a t e . t o F i x e d   ! = =   u n d e f i n e d )   p a r s e d D a t e   =   n e w   D a t e ( d a t e ) ; e l s e   i f   ( t y p e o f   d a t e   = = =   " s t r i n g " )   { 
                     v a r   f o r m a t   =   g i v e n F o r m a t   | |   ( c o n f i g   | |   d e f a u l t s ) . d a t e F o r m a t ; 
                     v a r   d a t e s t r   =   S t r i n g ( d a t e ) . t r i m ( ) ; 
 
                     i f   ( d a t e s t r   = = =   " t o d a y " )   { 
                         p a r s e d D a t e   =   n e w   D a t e ( ) ; 
                         t i m e l e s s   =   t r u e ; 
                     }   e l s e   i f   ( / Z $ / . t e s t ( d a t e s t r )   | |   / G M T $ / . t e s t ( d a t e s t r ) )   p a r s e d D a t e   =   n e w   D a t e ( d a t e ) ; e l s e   i f   ( c o n f i g   & &   c o n f i g . p a r s e D a t e )   p a r s e d D a t e   =   c o n f i g . p a r s e D a t e ( d a t e ,   f o r m a t ) ; e l s e   { 
                         p a r s e d D a t e   =   ! c o n f i g   | |   ! c o n f i g . n o C a l e n d a r   ?   n e w   D a t e ( n e w   D a t e ( ) . g e t F u l l Y e a r ( ) ,   0 ,   1 ,   0 ,   0 ,   0 ,   0 )   :   n e w   D a t e ( n e w   D a t e ( ) . s e t H o u r s ( 0 ,   0 ,   0 ,   0 ) ) ; 
                         v a r   m a t c h e d , 
                                 o p s   =   [ ] ; 
 
                         f o r   ( v a r   i   =   0 ,   m a t c h I n d e x   =   0 ,   r e g e x S t r   =   " " ;   i   <   f o r m a t . l e n g t h ;   i + + )   { 
                             v a r   t o k e n   =   f o r m a t [ i ] ; 
                             v a r   i s B a c k S l a s h   =   t o k e n   = = =   " \ \ " ; 
                             v a r   e s c a p e d   =   f o r m a t [ i   -   1 ]   = = =   " \ \ "   | |   i s B a c k S l a s h ; 
 
                             i f   ( t o k e n R e g e x [ t o k e n ]   & &   ! e s c a p e d )   { 
                                 r e g e x S t r   + =   t o k e n R e g e x [ t o k e n ] ; 
                                 v a r   m a t c h   =   n e w   R e g E x p ( r e g e x S t r ) . e x e c ( d a t e ) ; 
 
                                 i f   ( m a t c h   & &   ( m a t c h e d   =   t r u e ) )   { 
                                     o p s [ t o k e n   ! = =   " Y "   ?   " p u s h "   :   " u n s h i f t " ] ( { 
                                         f n :   r e v F o r m a t [ t o k e n ] , 
                                         v a l :   m a t c h [ + + m a t c h I n d e x ] 
                                     } ) ; 
                                 } 
                             }   e l s e   i f   ( ! i s B a c k S l a s h )   r e g e x S t r   + =   " . " ; 
 
                             o p s . f o r E a c h ( f u n c t i o n   ( _ r e f 3 )   { 
                                 v a r   f n   =   _ r e f 3 . f n , 
                                         v a l   =   _ r e f 3 . v a l ; 
                                 r e t u r n   p a r s e d D a t e   =   f n ( p a r s e d D a t e ,   v a l ,   l o c a l e )   | |   p a r s e d D a t e ; 
                             } ) ; 
                         } 
 
                         p a r s e d D a t e   =   m a t c h e d   ?   p a r s e d D a t e   :   u n d e f i n e d ; 
                     } 
                 } 
 
                 i f   ( ! ( p a r s e d D a t e   i n s t a n c e o f   D a t e   & &   ! i s N a N ( p a r s e d D a t e . g e t T i m e ( ) ) ) )   { 
                     c o n f i g . e r r o r H a n d l e r ( n e w   E r r o r ( " I n v a l i d   d a t e   p r o v i d e d :   "   +   d a t e _ o r i g ) ) ; 
                     r e t u r n   u n d e f i n e d ; 
                 } 
 
                 i f   ( t i m e l e s s   = = =   t r u e )   p a r s e d D a t e . s e t H o u r s ( 0 ,   0 ,   0 ,   0 ) ; 
                 r e t u r n   p a r s e d D a t e ; 
             } ; 
         } ; 
         f u n c t i o n   c o m p a r e D a t e s ( d a t e 1 ,   d a t e 2 ,   t i m e l e s s )   { 
             i f   ( t i m e l e s s   = = =   v o i d   0 )   { 
                 t i m e l e s s   =   t r u e ; 
             } 
 
             i f   ( t i m e l e s s   ! = =   f a l s e )   { 
                 r e t u r n   n e w   D a t e ( d a t e 1 . g e t T i m e ( ) ) . s e t H o u r s ( 0 ,   0 ,   0 ,   0 )   -   n e w   D a t e ( d a t e 2 . g e t T i m e ( ) ) . s e t H o u r s ( 0 ,   0 ,   0 ,   0 ) ; 
             } 
 
             r e t u r n   d a t e 1 . g e t T i m e ( )   -   d a t e 2 . g e t T i m e ( ) ; 
         } 
         v a r   g e t W e e k   =   f u n c t i o n   g e t W e e k ( g i v e n D a t e )   { 
             v a r   d a t e   =   n e w   D a t e ( g i v e n D a t e . g e t T i m e ( ) ) ; 
             d a t e . s e t H o u r s ( 0 ,   0 ,   0 ,   0 ) ; 
             d a t e . s e t D a t e ( d a t e . g e t D a t e ( )   +   3   -   ( d a t e . g e t D a y ( )   +   6 )   %   7 ) ; 
             v a r   w e e k 1   =   n e w   D a t e ( d a t e . g e t F u l l Y e a r ( ) ,   0 ,   4 ) ; 
             r e t u r n   1   +   M a t h . r o u n d ( ( ( d a t e . g e t T i m e ( )   -   w e e k 1 . g e t T i m e ( ) )   /   8 6 4 0 0 0 0 0   -   3   +   ( w e e k 1 . g e t D a y ( )   +   6 )   %   7 )   /   7 ) ; 
         } ; 
         v a r   i s B e t w e e n   =   f u n c t i o n   i s B e t w e e n ( t s ,   t s 1 ,   t s 2 )   { 
             r e t u r n   t s   >   M a t h . m i n ( t s 1 ,   t s 2 )   & &   t s   <   M a t h . m a x ( t s 1 ,   t s 2 ) ; 
         } ; 
         v a r   d u r a t i o n   =   { 
             D A Y :   8 6 4 0 0 0 0 0 
         } ; 
 
         v a r   H O O K S   =   [ " o n C h a n g e " ,   " o n C l o s e " ,   " o n D a y C r e a t e " ,   " o n D e s t r o y " ,   " o n K e y D o w n " ,   " o n M o n t h C h a n g e " ,   " o n O p e n " ,   " o n P a r s e C o n f i g " ,   " o n R e a d y " ,   " o n V a l u e U p d a t e " ,   " o n Y e a r C h a n g e " ,   " o n P r e C a l e n d a r P o s i t i o n " ] ; 
         v a r   d e f a u l t s   =   { 
             _ d i s a b l e :   [ ] , 
             _ e n a b l e :   [ ] , 
             a l l o w I n p u t :   f a l s e , 
             a l t F o r m a t :   " F   j ,   Y " , 
             a l t I n p u t :   f a l s e , 
             a l t I n p u t C l a s s :   " f o r m - c o n t r o l   i n p u t " , 
             a n i m a t e :   t y p e o f   w i n d o w   = = =   " o b j e c t "   & &   w i n d o w . n a v i g a t o r . u s e r A g e n t . i n d e x O f ( " M S I E " )   = = =   - 1 , 
             a r i a D a t e F o r m a t :   " F   j ,   Y " , 
             c l i c k O p e n s :   t r u e , 
             c l o s e O n S e l e c t :   t r u e , 
             c o n j u n c t i o n :   " ,   " , 
             d a t e F o r m a t :   " Y - m - d " , 
             d e f a u l t H o u r :   1 2 , 
             d e f a u l t M i n u t e :   0 , 
             d e f a u l t S e c o n d s :   0 , 
             d i s a b l e :   [ ] , 
             d i s a b l e M o b i l e :   f a l s e , 
             e n a b l e :   [ ] , 
             e n a b l e S e c o n d s :   f a l s e , 
             e n a b l e T i m e :   f a l s e , 
             e r r o r H a n d l e r :   f u n c t i o n   e r r o r H a n d l e r ( e r r )   { 
                 r e t u r n   t y p e o f   c o n s o l e   ! = =   " u n d e f i n e d "   & &   c o n s o l e . w a r n ( e r r ) ; 
             } , 
             g e t W e e k :   g e t W e e k , 
             h o u r I n c r e m e n t :   1 , 
             i g n o r e d F o c u s E l e m e n t s :   [ ] , 
             i n l i n e :   f a l s e , 
             l o c a l e :   " d e f a u l t " , 
             m i n u t e I n c r e m e n t :   5 , 
             m o d e :   " s i n g l e " , 
             n e x t A r r o w :   " < s v g   v e r s i o n = ' 1 . 1 '   x m l n s = ' h t t p : / / w w w . w 3 . o r g / 2 0 0 0 / s v g '   x m l n s : x l i n k = ' h t t p : / / w w w . w 3 . o r g / 1 9 9 9 / x l i n k '   v i e w B o x = ' 0   0   1 7   1 7 ' > < g > < / g > < p a t h   d = ' M 1 3 . 2 0 7   8 . 4 7 2 l - 7 . 8 5 4   7 . 8 5 4 - 0 . 7 0 7 - 0 . 7 0 7   7 . 1 4 6 - 7 . 1 4 6 - 7 . 1 4 6 - 7 . 1 4 8   0 . 7 0 7 - 0 . 7 0 7   7 . 8 5 4   7 . 8 5 4 z '   / > < / s v g > " , 
             n o C a l e n d a r :   f a l s e , 
             n o w :   n e w   D a t e ( ) , 
             o n C h a n g e :   [ ] , 
             o n C l o s e :   [ ] , 
             o n D a y C r e a t e :   [ ] , 
             o n D e s t r o y :   [ ] , 
             o n K e y D o w n :   [ ] , 
             o n M o n t h C h a n g e :   [ ] , 
             o n O p e n :   [ ] , 
             o n P a r s e C o n f i g :   [ ] , 
             o n R e a d y :   [ ] , 
             o n V a l u e U p d a t e :   [ ] , 
             o n Y e a r C h a n g e :   [ ] , 
             o n P r e C a l e n d a r P o s i t i o n :   [ ] , 
             p l u g i n s :   [ ] , 
             p o s i t i o n :   " a u t o " , 
             p o s i t i o n E l e m e n t :   u n d e f i n e d , 
             p r e v A r r o w :   " < s v g   v e r s i o n = ' 1 . 1 '   x m l n s = ' h t t p : / / w w w . w 3 . o r g / 2 0 0 0 / s v g '   x m l n s : x l i n k = ' h t t p : / / w w w . w 3 . o r g / 1 9 9 9 / x l i n k '   v i e w B o x = ' 0   0   1 7   1 7 ' > < g > < / g > < p a t h   d = ' M 5 . 2 0 7   8 . 4 7 1 l 7 . 1 4 6   7 . 1 4 7 - 0 . 7 0 7   0 . 7 0 7 - 7 . 8 5 3 - 7 . 8 5 4   7 . 8 5 4 - 7 . 8 5 3   0 . 7 0 7   0 . 7 0 7 - 7 . 1 4 7   7 . 1 4 6 z '   / > < / s v g > " , 
             s h o r t h a n d C u r r e n t M o n t h :   f a l s e , 
             s h o w M o n t h s :   1 , 
             s t a t i c :   f a l s e , 
             t i m e _ 2 4 h r :   f a l s e , 
             w e e k N u m b e r s :   f a l s e , 
             w r a p :   f a l s e 
         } ; 
 
         f u n c t i o n   t o g g l e C l a s s ( e l e m ,   c l a s s N a m e ,   b o o l )   { 
             i f   ( b o o l   = = =   t r u e )   r e t u r n   e l e m . c l a s s L i s t . a d d ( c l a s s N a m e ) ; 
             e l e m . c l a s s L i s t . r e m o v e ( c l a s s N a m e ) ; 
         } 
         f u n c t i o n   c r e a t e E l e m e n t ( t a g ,   c l a s s N a m e ,   c o n t e n t )   { 
             v a r   e   =   w i n d o w . d o c u m e n t . c r e a t e E l e m e n t ( t a g ) ; 
             c l a s s N a m e   =   c l a s s N a m e   | |   " " ; 
             c o n t e n t   =   c o n t e n t   | |   " " ; 
             e . c l a s s N a m e   =   c l a s s N a m e ; 
             i f   ( c o n t e n t   ! = =   u n d e f i n e d )   e . t e x t C o n t e n t   =   c o n t e n t ; 
             r e t u r n   e ; 
         } 
         f u n c t i o n   c l e a r N o d e ( n o d e )   { 
             w h i l e   ( n o d e . f i r s t C h i l d )   { 
                 n o d e . r e m o v e C h i l d ( n o d e . f i r s t C h i l d ) ; 
             } 
         } 
         f u n c t i o n   f i n d P a r e n t ( n o d e ,   c o n d i t i o n )   { 
             i f   ( c o n d i t i o n ( n o d e ) )   r e t u r n   n o d e ; e l s e   i f   ( n o d e . p a r e n t N o d e )   r e t u r n   f i n d P a r e n t ( n o d e . p a r e n t N o d e ,   c o n d i t i o n ) ; 
             r e t u r n   u n d e f i n e d ; 
         } 
         f u n c t i o n   c r e a t e N u m b e r I n p u t ( i n p u t C l a s s N a m e ,   o p t s )   { 
             v a r   w r a p p e r   =   c r e a t e E l e m e n t ( " d i v " ,   " n u m I n p u t W r a p p e r " ) , 
                     n u m I n p u t   =   c r e a t e E l e m e n t ( " i n p u t " ,   " n u m I n p u t   "   +   i n p u t C l a s s N a m e ) , 
                     a r r o w U p   =   c r e a t e E l e m e n t ( " s p a n " ,   " a r r o w U p " ) , 
                     a r r o w D o w n   =   c r e a t e E l e m e n t ( " s p a n " ,   " a r r o w D o w n " ) ; 
             n u m I n p u t . t y p e   =   " t e x t " ; 
             n u m I n p u t . p a t t e r n   =   " \ \ d * " ; 
             i f   ( o p t s   ! = =   u n d e f i n e d )   f o r   ( v a r   k e y   i n   o p t s )   { 
                 n u m I n p u t . s e t A t t r i b u t e ( k e y ,   o p t s [ k e y ] ) ; 
             } 
             w r a p p e r . a p p e n d C h i l d ( n u m I n p u t ) ; 
             w r a p p e r . a p p e n d C h i l d ( a r r o w U p ) ; 
             w r a p p e r . a p p e n d C h i l d ( a r r o w D o w n ) ; 
             r e t u r n   w r a p p e r ; 
         } 
 
         i f   ( t y p e o f   O b j e c t . a s s i g n   ! = =   " f u n c t i o n " )   { 
             O b j e c t . a s s i g n   =   f u n c t i o n   ( t a r g e t )   { 
                 i f   ( ! t a r g e t )   { 
                     t h r o w   T y p e E r r o r ( " C a n n o t   c o n v e r t   u n d e f i n e d   o r   n u l l   t o   o b j e c t " ) ; 
                 } 
 
                 f o r   ( v a r   _ l e n   =   a r g u m e n t s . l e n g t h ,   a r g s   =   n e w   A r r a y ( _ l e n   >   1   ?   _ l e n   -   1   :   0 ) ,   _ k e y   =   1 ;   _ k e y   <   _ l e n ;   _ k e y + + )   { 
                     a r g s [ _ k e y   -   1 ]   =   a r g u m e n t s [ _ k e y ] ; 
                 } 
 
                 v a r   _ l o o p   =   f u n c t i o n   _ l o o p ( )   { 
                     v a r   s o u r c e   =   a r g s [ _ i ] ; 
 
                     i f   ( s o u r c e )   { 
                         O b j e c t . k e y s ( s o u r c e ) . f o r E a c h ( f u n c t i o n   ( k e y )   { 
                             r e t u r n   t a r g e t [ k e y ]   =   s o u r c e [ k e y ] ; 
                         } ) ; 
                     } 
                 } ; 
 
                 f o r   ( v a r   _ i   =   0 ;   _ i   <   a r g s . l e n g t h ;   _ i + + )   { 
                     _ l o o p ( ) ; 
                 } 
 
                 r e t u r n   t a r g e t ; 
             } ; 
         } 
 
         v a r   D E B O U N C E D _ C H A N G E _ M S   =   3 0 0 ; 
 
         f u n c t i o n   F l a t p i c k r I n s t a n c e ( e l e m e n t ,   i n s t a n c e C o n f i g )   { 
             v a r   s e l f   =   { 
                 c o n f i g :   O b j e c t . a s s i g n ( { } ,   f l a t p i c k r . d e f a u l t C o n f i g ) , 
                 l 1 0 n :   e n g l i s h 
             } ; 
             s e l f . p a r s e D a t e   =   c r e a t e D a t e P a r s e r ( { 
                 c o n f i g :   s e l f . c o n f i g , 
                 l 1 0 n :   s e l f . l 1 0 n 
             } ) ; 
             s e l f . _ h a n d l e r s   =   [ ] ; 
             s e l f . _ b i n d   =   b i n d ; 
             s e l f . _ s e t H o u r s F r o m D a t e   =   s e t H o u r s F r o m D a t e ; 
             s e l f . _ p o s i t i o n C a l e n d a r   =   p o s i t i o n C a l e n d a r ; 
             s e l f . c h a n g e M o n t h   =   c h a n g e M o n t h ; 
             s e l f . c h a n g e Y e a r   =   c h a n g e Y e a r ; 
             s e l f . c l e a r   =   c l e a r ; 
             s e l f . c l o s e   =   c l o s e ; 
             s e l f . _ c r e a t e E l e m e n t   =   c r e a t e E l e m e n t ; 
             s e l f . d e s t r o y   =   d e s t r o y ; 
             s e l f . i s E n a b l e d   =   i s E n a b l e d ; 
             s e l f . j u m p T o D a t e   =   j u m p T o D a t e ; 
             s e l f . o p e n   =   o p e n ; 
             s e l f . r e d r a w   =   r e d r a w ; 
             s e l f . s e t   =   s e t ; 
             s e l f . s e t D a t e   =   s e t D a t e ; 
             s e l f . t o g g l e   =   t o g g l e ; 
 
             f u n c t i o n   s e t u p H e l p e r F u n c t i o n s ( )   { 
                 s e l f . u t i l s   =   { 
                     g e t D a y s I n M o n t h :   f u n c t i o n   g e t D a y s I n M o n t h ( m o n t h ,   y r )   { 
                         i f   ( m o n t h   = = =   v o i d   0 )   { 
                             m o n t h   =   s e l f . c u r r e n t M o n t h ; 
                         } 
 
                         i f   ( y r   = = =   v o i d   0 )   { 
                             y r   =   s e l f . c u r r e n t Y e a r ; 
                         } 
 
                         i f   ( m o n t h   = = =   1   & &   ( y r   %   4   = = =   0   & &   y r   %   1 0 0   ! = =   0   | |   y r   %   4 0 0   = = =   0 ) )   r e t u r n   2 9 ; 
                         r e t u r n   s e l f . l 1 0 n . d a y s I n M o n t h [ m o n t h ] ; 
                     } 
                 } ; 
             } 
 
             f u n c t i o n   i n i t ( )   { 
                 s e l f . e l e m e n t   =   s e l f . i n p u t   =   e l e m e n t ; 
                 s e l f . i s O p e n   =   f a l s e ; 
                 p a r s e C o n f i g ( ) ; 
                 s e t u p L o c a l e ( ) ; 
                 s e t u p I n p u t s ( ) ; 
                 s e t u p D a t e s ( ) ; 
                 s e t u p H e l p e r F u n c t i o n s ( ) ; 
                 i f   ( ! s e l f . i s M o b i l e )   b u i l d ( ) ; 
                 b i n d E v e n t s ( ) ; 
 
                 i f   ( s e l f . s e l e c t e d D a t e s . l e n g t h   | |   s e l f . c o n f i g . n o C a l e n d a r )   { 
                     i f   ( s e l f . c o n f i g . e n a b l e T i m e )   { 
                         s e t H o u r s F r o m D a t e ( s e l f . c o n f i g . n o C a l e n d a r   ?   s e l f . l a t e s t S e l e c t e d D a t e O b j   | |   s e l f . c o n f i g . m i n D a t e   :   u n d e f i n e d ) ; 
                     } 
 
                     u p d a t e V a l u e ( f a l s e ) ; 
                 } 
 
                 s e t C a l e n d a r W i d t h ( ) ; 
                 s e l f . s h o w T i m e I n p u t   =   s e l f . s e l e c t e d D a t e s . l e n g t h   >   0   | |   s e l f . c o n f i g . n o C a l e n d a r ; 
                 v a r   i s S a f a r i   =   / ^ ( ( ? ! c h r o m e | a n d r o i d ) . ) * s a f a r i / i . t e s t ( n a v i g a t o r . u s e r A g e n t ) ; 
 
                 i f   ( ! s e l f . i s M o b i l e   & &   i s S a f a r i )   { 
                     p o s i t i o n C a l e n d a r ( ) ; 
                 } 
 
                 t r i g g e r E v e n t ( " o n R e a d y " ) ; 
             } 
 
             f u n c t i o n   b i n d T o I n s t a n c e ( f n )   { 
                 r e t u r n   f n . b i n d ( s e l f ) ; 
             } 
 
             f u n c t i o n   s e t C a l e n d a r W i d t h ( )   { 
                 v a r   c o n f i g   =   s e l f . c o n f i g ; 
                 i f   ( c o n f i g . w e e k N u m b e r s   = = =   f a l s e   & &   c o n f i g . s h o w M o n t h s   = = =   1 )   r e t u r n ; e l s e   i f   ( c o n f i g . n o C a l e n d a r   ! = =   t r u e )   { 
                     w i n d o w . r e q u e s t A n i m a t i o n F r a m e ( f u n c t i o n   ( )   { 
                         s e l f . c a l e n d a r C o n t a i n e r . s t y l e . v i s i b i l i t y   =   " h i d d e n " ; 
                         s e l f . c a l e n d a r C o n t a i n e r . s t y l e . d i s p l a y   =   " b l o c k " ; 
 
                         i f   ( s e l f . d a y s C o n t a i n e r   ! = =   u n d e f i n e d )   { 
                             v a r   d a y s W i d t h   =   ( s e l f . d a y s . o f f s e t W i d t h   +   1 )   *   c o n f i g . s h o w M o n t h s ; 
                             s e l f . d a y s C o n t a i n e r . s t y l e . w i d t h   =   d a y s W i d t h   +   " p x " ; 
                             s e l f . c a l e n d a r C o n t a i n e r . s t y l e . w i d t h   =   d a y s W i d t h   +   ( s e l f . w e e k W r a p p e r   ! = =   u n d e f i n e d   ?   s e l f . w e e k W r a p p e r . o f f s e t W i d t h   :   0 )   +   " p x " ; 
                             s e l f . c a l e n d a r C o n t a i n e r . s t y l e . r e m o v e P r o p e r t y ( " v i s i b i l i t y " ) ; 
                             s e l f . c a l e n d a r C o n t a i n e r . s t y l e . r e m o v e P r o p e r t y ( " d i s p l a y " ) ; 
                         } 
                     } ) ; 
                 } 
             } 
 
             f u n c t i o n   u p d a t e T i m e ( e )   { 
                 i f   ( s e l f . s e l e c t e d D a t e s . l e n g t h   = = =   0 )   r e t u r n ; 
 
                 i f   ( e   ! = =   u n d e f i n e d   & &   e . t y p e   ! = =   " b l u r " )   { 
                     t i m e W r a p p e r ( e ) ; 
                 } 
 
                 v a r   p r e v V a l u e   =   s e l f . _ i n p u t . v a l u e ; 
                 s e t H o u r s F r o m I n p u t s ( ) ; 
                 u p d a t e V a l u e ( ) ; 
 
                 i f   ( s e l f . _ i n p u t . v a l u e   ! = =   p r e v V a l u e )   { 
                     s e l f . _ d e b o u n c e d C h a n g e ( ) ; 
                 } 
             } 
 
             f u n c t i o n   a m p m 2 m i l i t a r y ( h o u r ,   a m P M )   { 
                 r e t u r n   h o u r   %   1 2   +   1 2   *   i n t ( a m P M   = = =   s e l f . l 1 0 n . a m P M [ 1 ] ) ; 
             } 
 
             f u n c t i o n   m i l i t a r y 2 a m p m ( h o u r )   { 
                 s w i t c h   ( h o u r   %   2 4 )   { 
                     c a s e   0 : 
                     c a s e   1 2 : 
                         r e t u r n   1 2 ; 
 
                     d e f a u l t : 
                         r e t u r n   h o u r   %   1 2 ; 
                 } 
             } 
 
             f u n c t i o n   s e t H o u r s F r o m I n p u t s ( )   { 
                 i f   ( s e l f . h o u r E l e m e n t   = = =   u n d e f i n e d   | |   s e l f . m i n u t e E l e m e n t   = = =   u n d e f i n e d )   r e t u r n ; 
                 v a r   h o u r s   =   ( p a r s e I n t ( s e l f . h o u r E l e m e n t . v a l u e . s l i c e ( - 2 ) ,   1 0 )   | |   0 )   %   2 4 , 
                         m i n u t e s   =   ( p a r s e I n t ( s e l f . m i n u t e E l e m e n t . v a l u e ,   1 0 )   | |   0 )   %   6 0 , 
                         s e c o n d s   =   s e l f . s e c o n d E l e m e n t   ! = =   u n d e f i n e d   ?   ( p a r s e I n t ( s e l f . s e c o n d E l e m e n t . v a l u e ,   1 0 )   | |   0 )   %   6 0   :   0 ; 
 
                 i f   ( s e l f . a m P M   ! = =   u n d e f i n e d )   { 
                     h o u r s   =   a m p m 2 m i l i t a r y ( h o u r s ,   s e l f . a m P M . t e x t C o n t e n t ) ; 
                 } 
 
                 v a r   l i m i t M i n H o u r s   =   s e l f . c o n f i g . m i n T i m e   ! = =   u n d e f i n e d   | |   s e l f . c o n f i g . m i n D a t e   & &   s e l f . m i n D a t e H a s T i m e   & &   s e l f . l a t e s t S e l e c t e d D a t e O b j   & &   c o m p a r e D a t e s ( s e l f . l a t e s t S e l e c t e d D a t e O b j ,   s e l f . c o n f i g . m i n D a t e ,   t r u e )   = = =   0 ; 
                 v a r   l i m i t M a x H o u r s   =   s e l f . c o n f i g . m a x T i m e   ! = =   u n d e f i n e d   | |   s e l f . c o n f i g . m a x D a t e   & &   s e l f . m a x D a t e H a s T i m e   & &   s e l f . l a t e s t S e l e c t e d D a t e O b j   & &   c o m p a r e D a t e s ( s e l f . l a t e s t S e l e c t e d D a t e O b j ,   s e l f . c o n f i g . m a x D a t e ,   t r u e )   = = =   0 ; 
 
                 i f   ( l i m i t M a x H o u r s )   { 
                     v a r   m a x T i m e   =   s e l f . c o n f i g . m a x T i m e   ! = =   u n d e f i n e d   ?   s e l f . c o n f i g . m a x T i m e   :   s e l f . c o n f i g . m a x D a t e ; 
                     h o u r s   =   M a t h . m i n ( h o u r s ,   m a x T i m e . g e t H o u r s ( ) ) ; 
                     i f   ( h o u r s   = = =   m a x T i m e . g e t H o u r s ( ) )   m i n u t e s   =   M a t h . m i n ( m i n u t e s ,   m a x T i m e . g e t M i n u t e s ( ) ) ; 
                     i f   ( m i n u t e s   = = =   m a x T i m e . g e t M i n u t e s ( ) )   s e c o n d s   =   M a t h . m i n ( s e c o n d s ,   m a x T i m e . g e t S e c o n d s ( ) ) ; 
                 } 
 
                 i f   ( l i m i t M i n H o u r s )   { 
                     v a r   m i n T i m e   =   s e l f . c o n f i g . m i n T i m e   ! = =   u n d e f i n e d   ?   s e l f . c o n f i g . m i n T i m e   :   s e l f . c o n f i g . m i n D a t e ; 
                     h o u r s   =   M a t h . m a x ( h o u r s ,   m i n T i m e . g e t H o u r s ( ) ) ; 
                     i f   ( h o u r s   = = =   m i n T i m e . g e t H o u r s ( ) )   m i n u t e s   =   M a t h . m a x ( m i n u t e s ,   m i n T i m e . g e t M i n u t e s ( ) ) ; 
                     i f   ( m i n u t e s   = = =   m i n T i m e . g e t M i n u t e s ( ) )   s e c o n d s   =   M a t h . m a x ( s e c o n d s ,   m i n T i m e . g e t S e c o n d s ( ) ) ; 
                 } 
 
                 s e t H o u r s ( h o u r s ,   m i n u t e s ,   s e c o n d s ) ; 
             } 
 
             f u n c t i o n   s e t H o u r s F r o m D a t e ( d a t e O b j )   { 
                 v a r   d a t e   =   d a t e O b j   | |   s e l f . l a t e s t S e l e c t e d D a t e O b j ; 
                 i f   ( d a t e )   s e t H o u r s ( d a t e . g e t H o u r s ( ) ,   d a t e . g e t M i n u t e s ( ) ,   d a t e . g e t S e c o n d s ( ) ) ; 
             } 
 
             f u n c t i o n   s e t D e f a u l t H o u r s ( )   { 
                 v a r   h o u r s   =   s e l f . c o n f i g . d e f a u l t H o u r ; 
                 v a r   m i n u t e s   =   s e l f . c o n f i g . d e f a u l t M i n u t e ; 
                 v a r   s e c o n d s   =   s e l f . c o n f i g . d e f a u l t S e c o n d s ; 
 
                 i f   ( s e l f . c o n f i g . m i n D a t e   ! = =   u n d e f i n e d )   { 
                     v a r   m i n _ h r   =   s e l f . c o n f i g . m i n D a t e . g e t H o u r s ( ) ; 
                     v a r   m i n _ m i n u t e s   =   s e l f . c o n f i g . m i n D a t e . g e t M i n u t e s ( ) ; 
                     h o u r s   =   M a t h . m a x ( h o u r s ,   m i n _ h r ) ; 
                     i f   ( h o u r s   = = =   m i n _ h r )   m i n u t e s   =   M a t h . m a x ( m i n _ m i n u t e s ,   m i n u t e s ) ; 
                     i f   ( h o u r s   = = =   m i n _ h r   & &   m i n u t e s   = = =   m i n _ m i n u t e s )   s e c o n d s   =   s e l f . c o n f i g . m i n D a t e . g e t S e c o n d s ( ) ; 
                 } 
 
                 i f   ( s e l f . c o n f i g . m a x D a t e   ! = =   u n d e f i n e d )   { 
                     v a r   m a x _ h r   =   s e l f . c o n f i g . m a x D a t e . g e t H o u r s ( ) ; 
                     v a r   m a x _ m i n u t e s   =   s e l f . c o n f i g . m a x D a t e . g e t M i n u t e s ( ) ; 
                     h o u r s   =   M a t h . m i n ( h o u r s ,   m a x _ h r ) ; 
                     i f   ( h o u r s   = = =   m a x _ h r )   m i n u t e s   =   M a t h . m i n ( m a x _ m i n u t e s ,   m i n u t e s ) ; 
                     i f   ( h o u r s   = = =   m a x _ h r   & &   m i n u t e s   = = =   m a x _ m i n u t e s )   s e c o n d s   =   s e l f . c o n f i g . m a x D a t e . g e t S e c o n d s ( ) ; 
                 } 
 
                 s e t H o u r s ( h o u r s ,   m i n u t e s ,   s e c o n d s ) ; 
             } 
 
             f u n c t i o n   s e t H o u r s ( h o u r s ,   m i n u t e s ,   s e c o n d s )   { 
                 i f   ( s e l f . l a t e s t S e l e c t e d D a t e O b j   ! = =   u n d e f i n e d )   { 
                     s e l f . l a t e s t S e l e c t e d D a t e O b j . s e t H o u r s ( h o u r s   %   2 4 ,   m i n u t e s ,   s e c o n d s   | |   0 ,   0 ) ; 
                 } 
 
                 i f   ( ! s e l f . h o u r E l e m e n t   | |   ! s e l f . m i n u t e E l e m e n t   | |   s e l f . i s M o b i l e )   r e t u r n ; 
                 s e l f . h o u r E l e m e n t . v a l u e   =   p a d ( ! s e l f . c o n f i g . t i m e _ 2 4 h r   ?   ( 1 2   +   h o u r s )   %   1 2   +   1 2   *   i n t ( h o u r s   %   1 2   = = =   0 )   :   h o u r s ) ; 
                 s e l f . m i n u t e E l e m e n t . v a l u e   =   p a d ( m i n u t e s ) ; 
                 i f   ( s e l f . a m P M   ! = =   u n d e f i n e d )   s e l f . a m P M . t e x t C o n t e n t   =   s e l f . l 1 0 n . a m P M [ i n t ( h o u r s   > =   1 2 ) ] ; 
                 i f   ( s e l f . s e c o n d E l e m e n t   ! = =   u n d e f i n e d )   s e l f . s e c o n d E l e m e n t . v a l u e   =   p a d ( s e c o n d s ) ; 
             } 
 
             f u n c t i o n   o n Y e a r I n p u t ( e v e n t )   { 
                 v a r   y e a r   =   p a r s e I n t ( e v e n t . t a r g e t . v a l u e )   +   ( e v e n t . d e l t a   | |   0 ) ; 
 
                 i f   ( y e a r   /   1 0 0 0   >   1   | |   e v e n t . k e y   = = =   " E n t e r "   & &   ! / [ ^ \ d ] / . t e s t ( y e a r . t o S t r i n g ( ) ) )   { 
                     c h a n g e Y e a r ( y e a r ) ; 
                 } 
             } 
 
             f u n c t i o n   b i n d ( e l e m e n t ,   e v e n t ,   h a n d l e r ,   o p t i o n s )   { 
                 i f   ( e v e n t   i n s t a n c e o f   A r r a y )   r e t u r n   e v e n t . f o r E a c h ( f u n c t i o n   ( e v )   { 
                     r e t u r n   b i n d ( e l e m e n t ,   e v ,   h a n d l e r ,   o p t i o n s ) ; 
                 } ) ; 
                 i f   ( e l e m e n t   i n s t a n c e o f   A r r a y )   r e t u r n   e l e m e n t . f o r E a c h ( f u n c t i o n   ( e l )   { 
                     r e t u r n   b i n d ( e l ,   e v e n t ,   h a n d l e r ,   o p t i o n s ) ; 
                 } ) ; 
                 e l e m e n t . a d d E v e n t L i s t e n e r ( e v e n t ,   h a n d l e r ,   o p t i o n s ) ; 
 
                 s e l f . _ h a n d l e r s . p u s h ( { 
                     e l e m e n t :   e l e m e n t , 
                     e v e n t :   e v e n t , 
                     h a n d l e r :   h a n d l e r , 
                     o p t i o n s :   o p t i o n s 
                 } ) ; 
             } 
 
             f u n c t i o n   o n C l i c k ( h a n d l e r )   { 
                 r e t u r n   f u n c t i o n   ( e v t )   { 
                     e v t . w h i c h   = = =   1   & &   h a n d l e r ( e v t ) ; 
                 } ; 
             } 
 
             f u n c t i o n   t r i g g e r C h a n g e ( )   { 
                 t r i g g e r E v e n t ( " o n C h a n g e " ) ; 
             } 
 
             f u n c t i o n   b i n d E v e n t s ( )   { 
                 i f   ( s e l f . c o n f i g . w r a p )   { 
                     [ " o p e n " ,   " c l o s e " ,   " t o g g l e " ,   " c l e a r " ] . f o r E a c h ( f u n c t i o n   ( e v t )   { 
                         A r r a y . p r o t o t y p e . f o r E a c h . c a l l ( s e l f . e l e m e n t . q u e r y S e l e c t o r A l l ( " [ d a t a - "   +   e v t   +   " ] " ) ,   f u n c t i o n   ( e l )   { 
                             r e t u r n   b i n d ( e l ,   " c l i c k " ,   s e l f [ e v t ] ) ; 
                         } ) ; 
                     } ) ; 
                 } 
 
                 i f   ( s e l f . i s M o b i l e )   { 
                     s e t u p M o b i l e ( ) ; 
                     r e t u r n ; 
                 } 
 
                 v a r   d e b o u n c e d R e s i z e   =   d e b o u n c e ( o n R e s i z e ,   5 0 ) ; 
                 s e l f . _ d e b o u n c e d C h a n g e   =   d e b o u n c e ( t r i g g e r C h a n g e ,   D E B O U N C E D _ C H A N G E _ M S ) ; 
                 i f   ( s e l f . d a y s C o n t a i n e r   & &   ! / i P h o n e | i P a d | i P o d / i . t e s t ( n a v i g a t o r . u s e r A g e n t ) )   b i n d ( s e l f . d a y s C o n t a i n e r ,   " m o u s e o v e r " ,   f u n c t i o n   ( e )   { 
                     i f   ( s e l f . c o n f i g . m o d e   = = =   " r a n g e " )   o n M o u s e O v e r ( e . t a r g e t ) ; 
                 } ) ; 
                 b i n d ( w i n d o w . d o c u m e n t . b o d y ,   " k e y d o w n " ,   o n K e y D o w n ) ; 
                 i f   ( ! s e l f . c o n f i g . s t a t i c )   b i n d ( s e l f . _ i n p u t ,   " k e y d o w n " ,   o n K e y D o w n ) ; 
                 i f   ( ! s e l f . c o n f i g . i n l i n e   & &   ! s e l f . c o n f i g . s t a t i c )   b i n d ( w i n d o w ,   " r e s i z e " ,   d e b o u n c e d R e s i z e ) ; 
                 i f   ( w i n d o w . o n t o u c h s t a r t   ! = =   u n d e f i n e d )   b i n d ( w i n d o w . d o c u m e n t ,   " c l i c k " ,   d o c u m e n t C l i c k ) ; e l s e   b i n d ( w i n d o w . d o c u m e n t ,   " m o u s e d o w n " ,   o n C l i c k ( d o c u m e n t C l i c k ) ) ; 
                 b i n d ( w i n d o w . d o c u m e n t ,   " f o c u s " ,   d o c u m e n t C l i c k ,   { 
                     c a p t u r e :   t r u e 
                 } ) ; 
 
                 i f   ( s e l f . c o n f i g . c l i c k O p e n s   = = =   t r u e )   { 
                     b i n d ( s e l f . _ i n p u t ,   " f o c u s " ,   s e l f . o p e n ) ; 
                     b i n d ( s e l f . _ i n p u t ,   " m o u s e d o w n " ,   o n C l i c k ( s e l f . o p e n ) ) ; 
                 } 
 
                 i f   ( s e l f . d a y s C o n t a i n e r   ! = =   u n d e f i n e d )   { 
                     b i n d ( s e l f . m o n t h N a v ,   " m o u s e d o w n " ,   o n C l i c k ( o n M o n t h N a v C l i c k ) ) ; 
                     b i n d ( s e l f . m o n t h N a v ,   [ " k e y u p " ,   " i n c r e m e n t " ] ,   o n Y e a r I n p u t ) ; 
                     b i n d ( s e l f . d a y s C o n t a i n e r ,   " m o u s e d o w n " ,   o n C l i c k ( s e l e c t D a t e ) ) ; 
                 } 
 
                 i f   ( s e l f . t i m e C o n t a i n e r   ! = =   u n d e f i n e d   & &   s e l f . m i n u t e E l e m e n t   ! = =   u n d e f i n e d   & &   s e l f . h o u r E l e m e n t   ! = =   u n d e f i n e d )   { 
                     v a r   s e l T e x t   =   f u n c t i o n   s e l T e x t ( e )   { 
                         r e t u r n   e . t a r g e t . s e l e c t ( ) ; 
                     } ; 
 
                     b i n d ( s e l f . t i m e C o n t a i n e r ,   [ " i n c r e m e n t " ] ,   u p d a t e T i m e ) ; 
                     b i n d ( s e l f . t i m e C o n t a i n e r ,   " b l u r " ,   u p d a t e T i m e ,   { 
                         c a p t u r e :   t r u e 
                     } ) ; 
                     b i n d ( s e l f . t i m e C o n t a i n e r ,   " m o u s e d o w n " ,   o n C l i c k ( t i m e I n c r e m e n t ) ) ; 
                     b i n d ( [ s e l f . h o u r E l e m e n t ,   s e l f . m i n u t e E l e m e n t ] ,   [ " f o c u s " ,   " c l i c k " ] ,   s e l T e x t ) ; 
                     i f   ( s e l f . s e c o n d E l e m e n t   ! = =   u n d e f i n e d )   b i n d ( s e l f . s e c o n d E l e m e n t ,   " f o c u s " ,   f u n c t i o n   ( )   { 
                         r e t u r n   s e l f . s e c o n d E l e m e n t   & &   s e l f . s e c o n d E l e m e n t . s e l e c t ( ) ; 
                     } ) ; 
 
                     i f   ( s e l f . a m P M   ! = =   u n d e f i n e d )   { 
                         b i n d ( s e l f . a m P M ,   " m o u s e d o w n " ,   o n C l i c k ( f u n c t i o n   ( e )   { 
                             u p d a t e T i m e ( e ) ; 
                             t r i g g e r C h a n g e ( ) ; 
                         } ) ) ; 
                     } 
                 } 
             } 
 
             f u n c t i o n   j u m p T o D a t e ( j u m p D a t e )   { 
                 v a r   j u m p T o   =   j u m p D a t e   ! = =   u n d e f i n e d   ?   s e l f . p a r s e D a t e ( j u m p D a t e )   :   s e l f . l a t e s t S e l e c t e d D a t e O b j   | |   ( s e l f . c o n f i g . m i n D a t e   & &   s e l f . c o n f i g . m i n D a t e   >   s e l f . n o w   ?   s e l f . c o n f i g . m i n D a t e   :   s e l f . c o n f i g . m a x D a t e   & &   s e l f . c o n f i g . m a x D a t e   <   s e l f . n o w   ?   s e l f . c o n f i g . m a x D a t e   :   s e l f . n o w ) ; 
 
                 t r y   { 
                     i f   ( j u m p T o   ! = =   u n d e f i n e d )   { 
                         s e l f . c u r r e n t Y e a r   =   j u m p T o . g e t F u l l Y e a r ( ) ; 
                         s e l f . c u r r e n t M o n t h   =   j u m p T o . g e t M o n t h ( ) ; 
                     } 
                 }   c a t c h   ( e )   { 
                     e . m e s s a g e   =   " I n v a l i d   d a t e   s u p p l i e d :   "   +   j u m p T o ; 
                     s e l f . c o n f i g . e r r o r H a n d l e r ( e ) ; 
                 } 
 
                 s e l f . r e d r a w ( ) ; 
             } 
 
             f u n c t i o n   t i m e I n c r e m e n t ( e )   { 
                 i f   ( ~ e . t a r g e t . c l a s s N a m e . i n d e x O f ( " a r r o w " ) )   i n c r e m e n t N u m I n p u t ( e ,   e . t a r g e t . c l a s s L i s t . c o n t a i n s ( " a r r o w U p " )   ?   1   :   - 1 ) ; 
             } 
 
             f u n c t i o n   i n c r e m e n t N u m I n p u t ( e ,   d e l t a ,   i n p u t E l e m )   { 
                 v a r   t a r g e t   =   e   & &   e . t a r g e t ; 
                 v a r   i n p u t   =   i n p u t E l e m   | |   t a r g e t   & &   t a r g e t . p a r e n t N o d e   & &   t a r g e t . p a r e n t N o d e . f i r s t C h i l d ; 
                 v a r   e v e n t   =   c r e a t e E v e n t ( " i n c r e m e n t " ) ; 
                 e v e n t . d e l t a   =   d e l t a ; 
                 i n p u t   & &   i n p u t . d i s p a t c h E v e n t ( e v e n t ) ; 
             } 
 
             f u n c t i o n   b u i l d ( )   { 
                 v a r   f r a g m e n t   =   w i n d o w . d o c u m e n t . c r e a t e D o c u m e n t F r a g m e n t ( ) ; 
                 s e l f . c a l e n d a r C o n t a i n e r   =   c r e a t e E l e m e n t ( " d i v " ,   " f l a t p i c k r - c a l e n d a r " ) ; 
                 s e l f . c a l e n d a r C o n t a i n e r . t a b I n d e x   =   - 1 ; 
 
                 i f   ( ! s e l f . c o n f i g . n o C a l e n d a r )   { 
                     f r a g m e n t . a p p e n d C h i l d ( b u i l d M o n t h N a v ( ) ) ; 
                     s e l f . i n n e r C o n t a i n e r   =   c r e a t e E l e m e n t ( " d i v " ,   " f l a t p i c k r - i n n e r C o n t a i n e r " ) ; 
 
                     i f   ( s e l f . c o n f i g . w e e k N u m b e r s )   { 
                         v a r   _ b u i l d W e e k s   =   b u i l d W e e k s ( ) , 
                                 w e e k W r a p p e r   =   _ b u i l d W e e k s . w e e k W r a p p e r , 
                                 w e e k N u m b e r s   =   _ b u i l d W e e k s . w e e k N u m b e r s ; 
 
                         s e l f . i n n e r C o n t a i n e r . a p p e n d C h i l d ( w e e k W r a p p e r ) ; 
                         s e l f . w e e k N u m b e r s   =   w e e k N u m b e r s ; 
                         s e l f . w e e k W r a p p e r   =   w e e k W r a p p e r ; 
                     } 
 
                     s e l f . r C o n t a i n e r   =   c r e a t e E l e m e n t ( " d i v " ,   " f l a t p i c k r - r C o n t a i n e r " ) ; 
                     s e l f . r C o n t a i n e r . a p p e n d C h i l d ( b u i l d W e e k d a y s ( ) ) ; 
 
                     i f   ( ! s e l f . d a y s C o n t a i n e r )   { 
                         s e l f . d a y s C o n t a i n e r   =   c r e a t e E l e m e n t ( " d i v " ,   " f l a t p i c k r - d a y s " ) ; 
                         s e l f . d a y s C o n t a i n e r . t a b I n d e x   =   - 1 ; 
                     } 
 
                     b u i l d D a y s ( ) ; 
                     s e l f . r C o n t a i n e r . a p p e n d C h i l d ( s e l f . d a y s C o n t a i n e r ) ; 
                     s e l f . i n n e r C o n t a i n e r . a p p e n d C h i l d ( s e l f . r C o n t a i n e r ) ; 
                     f r a g m e n t . a p p e n d C h i l d ( s e l f . i n n e r C o n t a i n e r ) ; 
                 } 
 
                 i f   ( s e l f . c o n f i g . e n a b l e T i m e )   { 
                     f r a g m e n t . a p p e n d C h i l d ( b u i l d T i m e ( ) ) ; 
                 } 
 
                 t o g g l e C l a s s ( s e l f . c a l e n d a r C o n t a i n e r ,   " r a n g e M o d e " ,   s e l f . c o n f i g . m o d e   = = =   " r a n g e " ) ; 
                 t o g g l e C l a s s ( s e l f . c a l e n d a r C o n t a i n e r ,   " a n i m a t e " ,   s e l f . c o n f i g . a n i m a t e   = = =   t r u e ) ; 
                 t o g g l e C l a s s ( s e l f . c a l e n d a r C o n t a i n e r ,   " m u l t i M o n t h " ,   s e l f . c o n f i g . s h o w M o n t h s   >   1 ) ; 
                 s e l f . c a l e n d a r C o n t a i n e r . a p p e n d C h i l d ( f r a g m e n t ) ; 
                 v a r   c u s t o m A p p e n d   =   s e l f . c o n f i g . a p p e n d T o   ! = =   u n d e f i n e d   & &   s e l f . c o n f i g . a p p e n d T o . n o d e T y p e   ! = =   u n d e f i n e d ; 
 
                 i f   ( s e l f . c o n f i g . i n l i n e   | |   s e l f . c o n f i g . s t a t i c )   { 
                     s e l f . c a l e n d a r C o n t a i n e r . c l a s s L i s t . a d d ( s e l f . c o n f i g . i n l i n e   ?   " i n l i n e "   :   " s t a t i c " ) ; 
 
                     i f   ( s e l f . c o n f i g . i n l i n e )   { 
                         i f   ( ! c u s t o m A p p e n d   & &   s e l f . e l e m e n t . p a r e n t N o d e )   s e l f . e l e m e n t . p a r e n t N o d e . i n s e r t B e f o r e ( s e l f . c a l e n d a r C o n t a i n e r ,   s e l f . _ i n p u t . n e x t S i b l i n g ) ; e l s e   i f   ( s e l f . c o n f i g . a p p e n d T o   ! = =   u n d e f i n e d )   s e l f . c o n f i g . a p p e n d T o . a p p e n d C h i l d ( s e l f . c a l e n d a r C o n t a i n e r ) ; 
                     } 
 
                     i f   ( s e l f . c o n f i g . s t a t i c )   { 
                         v a r   w r a p p e r   =   c r e a t e E l e m e n t ( " d i v " ,   " f l a t p i c k r - w r a p p e r " ) ; 
                         i f   ( s e l f . e l e m e n t . p a r e n t N o d e )   s e l f . e l e m e n t . p a r e n t N o d e . i n s e r t B e f o r e ( w r a p p e r ,   s e l f . e l e m e n t ) ; 
                         w r a p p e r . a p p e n d C h i l d ( s e l f . e l e m e n t ) ; 
                         i f   ( s e l f . a l t I n p u t )   w r a p p e r . a p p e n d C h i l d ( s e l f . a l t I n p u t ) ; 
                         w r a p p e r . a p p e n d C h i l d ( s e l f . c a l e n d a r C o n t a i n e r ) ; 
                     } 
                 } 
 
                 i f   ( ! s e l f . c o n f i g . s t a t i c   & &   ! s e l f . c o n f i g . i n l i n e )   ( s e l f . c o n f i g . a p p e n d T o   ! = =   u n d e f i n e d   ?   s e l f . c o n f i g . a p p e n d T o   :   w i n d o w . d o c u m e n t . b o d y ) . a p p e n d C h i l d ( s e l f . c a l e n d a r C o n t a i n e r ) ; 
             } 
 
             f u n c t i o n   c r e a t e D a y ( c l a s s N a m e ,   d a t e ,   d a y N u m b e r ,   i )   { 
                 v a r   d a t e I s E n a b l e d   =   i s E n a b l e d ( d a t e ,   t r u e ) , 
                         d a y E l e m e n t   =   c r e a t e E l e m e n t ( " s p a n " ,   " f l a t p i c k r - d a y   "   +   c l a s s N a m e ,   d a t e . g e t D a t e ( ) . t o S t r i n g ( ) ) ; 
                 d a y E l e m e n t . d a t e O b j   =   d a t e ; 
                 d a y E l e m e n t . $ i   =   i ; 
                 d a y E l e m e n t . s e t A t t r i b u t e ( " a r i a - l a b e l " ,   s e l f . f o r m a t D a t e ( d a t e ,   s e l f . c o n f i g . a r i a D a t e F o r m a t ) ) ; 
 
                 i f   ( c l a s s N a m e . i n d e x O f ( " h i d d e n " )   = = =   - 1   & &   c o m p a r e D a t e s ( d a t e ,   s e l f . n o w )   = = =   0 )   { 
                     s e l f . t o d a y D a t e E l e m   =   d a y E l e m e n t ; 
                     d a y E l e m e n t . c l a s s L i s t . a d d ( " t o d a y " ) ; 
                     d a y E l e m e n t . s e t A t t r i b u t e ( " a r i a - c u r r e n t " ,   " d a t e " ) ; 
                 } 
 
                 i f   ( d a t e I s E n a b l e d )   { 
                     d a y E l e m e n t . t a b I n d e x   =   - 1 ; 
 
                     i f   ( i s D a t e S e l e c t e d ( d a t e ) )   { 
                         d a y E l e m e n t . c l a s s L i s t . a d d ( " s e l e c t e d " ) ; 
                         s e l f . s e l e c t e d D a t e E l e m   =   d a y E l e m e n t ; 
 
                         i f   ( s e l f . c o n f i g . m o d e   = = =   " r a n g e " )   { 
                             t o g g l e C l a s s ( d a y E l e m e n t ,   " s t a r t R a n g e " ,   s e l f . s e l e c t e d D a t e s [ 0 ]   & &   c o m p a r e D a t e s ( d a t e ,   s e l f . s e l e c t e d D a t e s [ 0 ] ,   t r u e )   = = =   0 ) ; 
                             t o g g l e C l a s s ( d a y E l e m e n t ,   " e n d R a n g e " ,   s e l f . s e l e c t e d D a t e s [ 1 ]   & &   c o m p a r e D a t e s ( d a t e ,   s e l f . s e l e c t e d D a t e s [ 1 ] ,   t r u e )   = = =   0 ) ; 
                             i f   ( c l a s s N a m e   = = =   " n e x t M o n t h D a y " )   d a y E l e m e n t . c l a s s L i s t . a d d ( " i n R a n g e " ) ; 
                         } 
                     } 
                 }   e l s e   { 
                     d a y E l e m e n t . c l a s s L i s t . a d d ( " d i s a b l e d " ) ; 
                 } 
 
                 i f   ( s e l f . c o n f i g . m o d e   = = =   " r a n g e " )   { 
                     i f   ( i s D a t e I n R a n g e ( d a t e )   & &   ! i s D a t e S e l e c t e d ( d a t e ) )   d a y E l e m e n t . c l a s s L i s t . a d d ( " i n R a n g e " ) ; 
                 } 
 
                 i f   ( s e l f . w e e k N u m b e r s   & &   s e l f . c o n f i g . s h o w M o n t h s   = = =   1   & &   c l a s s N a m e   ! = =   " p r e v M o n t h D a y "   & &   d a y N u m b e r   %   7   = = =   1 )   { 
                     s e l f . w e e k N u m b e r s . i n s e r t A d j a c e n t H T M L ( " b e f o r e e n d " ,   " < s p a n   c l a s s = ' f l a t p i c k r - d a y ' > "   +   s e l f . c o n f i g . g e t W e e k ( d a t e )   +   " < / s p a n > " ) ; 
                 } 
 
                 t r i g g e r E v e n t ( " o n D a y C r e a t e " ,   d a y E l e m e n t ) ; 
                 r e t u r n   d a y E l e m e n t ; 
             } 
 
             f u n c t i o n   f o c u s O n D a y E l e m ( t a r g e t N o d e )   { 
                 t a r g e t N o d e . f o c u s ( ) ; 
                 i f   ( s e l f . c o n f i g . m o d e   = = =   " r a n g e " )   o n M o u s e O v e r ( t a r g e t N o d e ) ; 
             } 
 
             f u n c t i o n   g e t F i r s t A v a i l a b l e D a y ( d e l t a )   { 
                 v a r   s t a r t M o n t h   =   d e l t a   >   0   ?   0   :   s e l f . c o n f i g . s h o w M o n t h s   -   1 ; 
                 v a r   e n d M o n t h   =   d e l t a   >   0   ?   s e l f . c o n f i g . s h o w M o n t h s   :   - 1 ; 
 
                 f o r   ( v a r   m   =   s t a r t M o n t h ;   m   ! =   e n d M o n t h ;   m   + =   d e l t a )   { 
                     v a r   m o n t h   =   s e l f . d a y s C o n t a i n e r . c h i l d r e n [ m ] ; 
                     v a r   s t a r t I n d e x   =   d e l t a   >   0   ?   0   :   m o n t h . c h i l d r e n . l e n g t h   -   1 ; 
                     v a r   e n d I n d e x   =   d e l t a   >   0   ?   m o n t h . c h i l d r e n . l e n g t h   :   - 1 ; 
 
                     f o r   ( v a r   i   =   s t a r t I n d e x ;   i   ! =   e n d I n d e x ;   i   + =   d e l t a )   { 
                         v a r   c   =   m o n t h . c h i l d r e n [ i ] ; 
                         i f   ( c . c l a s s N a m e . i n d e x O f ( " h i d d e n " )   = = =   - 1   & &   i s E n a b l e d ( c . d a t e O b j ) )   r e t u r n   c ; 
                     } 
                 } 
 
                 r e t u r n   u n d e f i n e d ; 
             } 
 
             f u n c t i o n   g e t N e x t A v a i l a b l e D a y ( c u r r e n t ,   d e l t a )   { 
                 v a r   g i v e n M o n t h   =   c u r r e n t . c l a s s N a m e . i n d e x O f ( " M o n t h " )   = = =   - 1   ?   c u r r e n t . d a t e O b j . g e t M o n t h ( )   :   s e l f . c u r r e n t M o n t h ; 
                 v a r   e n d M o n t h   =   d e l t a   >   0   ?   s e l f . c o n f i g . s h o w M o n t h s   :   - 1 ; 
                 v a r   l o o p D e l t a   =   d e l t a   >   0   ?   1   :   - 1 ; 
 
                 f o r   ( v a r   m   =   g i v e n M o n t h   -   s e l f . c u r r e n t M o n t h ;   m   ! =   e n d M o n t h ;   m   + =   l o o p D e l t a )   { 
                     v a r   m o n t h   =   s e l f . d a y s C o n t a i n e r . c h i l d r e n [ m ] ; 
                     v a r   s t a r t I n d e x   =   g i v e n M o n t h   -   s e l f . c u r r e n t M o n t h   = = =   m   ?   c u r r e n t . $ i   +   d e l t a   :   d e l t a   <   0   ?   m o n t h . c h i l d r e n . l e n g t h   -   1   :   0 ; 
                     v a r   n u m M o n t h D a y s   =   m o n t h . c h i l d r e n . l e n g t h ; 
 
                     f o r   ( v a r   i   =   s t a r t I n d e x ;   i   > =   0   & &   i   <   n u m M o n t h D a y s   & &   i   ! =   ( d e l t a   >   0   ?   n u m M o n t h D a y s   :   - 1 ) ;   i   + =   l o o p D e l t a )   { 
                         v a r   c   =   m o n t h . c h i l d r e n [ i ] ; 
                         i f   ( c . c l a s s N a m e . i n d e x O f ( " h i d d e n " )   = = =   - 1   & &   i s E n a b l e d ( c . d a t e O b j )   & &   M a t h . a b s ( c u r r e n t . $ i   -   i )   > =   M a t h . a b s ( d e l t a ) )   r e t u r n   f o c u s O n D a y E l e m ( c ) ; 
                     } 
                 } 
 
                 s e l f . c h a n g e M o n t h ( l o o p D e l t a ) ; 
                 f o c u s O n D a y ( g e t F i r s t A v a i l a b l e D a y ( l o o p D e l t a ) ,   0 ) ; 
                 r e t u r n   u n d e f i n e d ; 
             } 
 
             f u n c t i o n   f o c u s O n D a y ( c u r r e n t ,   o f f s e t )   { 
                 v a r   d a y F o c u s e d   =   i s I n V i e w ( d o c u m e n t . a c t i v e E l e m e n t   | |   d o c u m e n t . b o d y ) ; 
                 v a r   s t a r t E l e m   =   c u r r e n t   ! = =   u n d e f i n e d   ?   c u r r e n t   :   d a y F o c u s e d   ?   d o c u m e n t . a c t i v e E l e m e n t   :   s e l f . s e l e c t e d D a t e E l e m   ! = =   u n d e f i n e d   & &   i s I n V i e w ( s e l f . s e l e c t e d D a t e E l e m )   ?   s e l f . s e l e c t e d D a t e E l e m   :   s e l f . t o d a y D a t e E l e m   ! = =   u n d e f i n e d   & &   i s I n V i e w ( s e l f . t o d a y D a t e E l e m )   ?   s e l f . t o d a y D a t e E l e m   :   g e t F i r s t A v a i l a b l e D a y ( o f f s e t   >   0   ?   1   :   - 1 ) ; 
                 i f   ( s t a r t E l e m   = = =   u n d e f i n e d )   r e t u r n   s e l f . _ i n p u t . f o c u s ( ) ; 
                 i f   ( ! d a y F o c u s e d )   r e t u r n   f o c u s O n D a y E l e m ( s t a r t E l e m ) ; 
                 g e t N e x t A v a i l a b l e D a y ( s t a r t E l e m ,   o f f s e t ) ; 
             } 
 
             f u n c t i o n   b u i l d M o n t h D a y s ( y e a r ,   m o n t h )   { 
                 v a r   f i r s t O f M o n t h   =   ( n e w   D a t e ( y e a r ,   m o n t h ,   1 ) . g e t D a y ( )   -   s e l f . l 1 0 n . f i r s t D a y O f W e e k   +   7 )   %   7 ; 
                 v a r   p r e v M o n t h D a y s   =   s e l f . u t i l s . g e t D a y s I n M o n t h ( ( m o n t h   -   1   +   1 2 )   %   1 2 ) ; 
                 v a r   d a y s I n M o n t h   =   s e l f . u t i l s . g e t D a y s I n M o n t h ( m o n t h ) , 
                         d a y s   =   w i n d o w . d o c u m e n t . c r e a t e D o c u m e n t F r a g m e n t ( ) , 
                         i s M u l t i M o n t h   =   s e l f . c o n f i g . s h o w M o n t h s   >   1 , 
                         p r e v M o n t h D a y C l a s s   =   i s M u l t i M o n t h   ?   " p r e v M o n t h D a y   h i d d e n "   :   " p r e v M o n t h D a y " , 
                         n e x t M o n t h D a y C l a s s   =   i s M u l t i M o n t h   ?   " n e x t M o n t h D a y   h i d d e n "   :   " n e x t M o n t h D a y " ; 
                 v a r   d a y N u m b e r   =   p r e v M o n t h D a y s   +   1   -   f i r s t O f M o n t h , 
                         d a y I n d e x   =   0 ; 
 
                 f o r   ( ;   d a y N u m b e r   < =   p r e v M o n t h D a y s ;   d a y N u m b e r + + ,   d a y I n d e x + + )   { 
                     d a y s . a p p e n d C h i l d ( c r e a t e D a y ( p r e v M o n t h D a y C l a s s ,   n e w   D a t e ( y e a r ,   m o n t h   -   1 ,   d a y N u m b e r ) ,   d a y N u m b e r ,   d a y I n d e x ) ) ; 
                 } 
 
                 f o r   ( d a y N u m b e r   =   1 ;   d a y N u m b e r   < =   d a y s I n M o n t h ;   d a y N u m b e r + + ,   d a y I n d e x + + )   { 
                     d a y s . a p p e n d C h i l d ( c r e a t e D a y ( " " ,   n e w   D a t e ( y e a r ,   m o n t h ,   d a y N u m b e r ) ,   d a y N u m b e r ,   d a y I n d e x ) ) ; 
                 } 
 
                 f o r   ( v a r   d a y N u m   =   d a y s I n M o n t h   +   1 ;   d a y N u m   < =   4 2   -   f i r s t O f M o n t h   & &   ( s e l f . c o n f i g . s h o w M o n t h s   = = =   1   | |   d a y I n d e x   %   7   ! = =   0 ) ;   d a y N u m + + ,   d a y I n d e x + + )   { 
                     d a y s . a p p e n d C h i l d ( c r e a t e D a y ( n e x t M o n t h D a y C l a s s ,   n e w   D a t e ( y e a r ,   m o n t h   +   1 ,   d a y N u m   %   d a y s I n M o n t h ) ,   d a y N u m ,   d a y I n d e x ) ) ; 
                 } 
 
                 v a r   d a y C o n t a i n e r   =   c r e a t e E l e m e n t ( " d i v " ,   " d a y C o n t a i n e r " ) ; 
                 d a y C o n t a i n e r . a p p e n d C h i l d ( d a y s ) ; 
                 r e t u r n   d a y C o n t a i n e r ; 
             } 
 
             f u n c t i o n   b u i l d D a y s ( )   { 
                 i f   ( s e l f . d a y s C o n t a i n e r   = = =   u n d e f i n e d )   { 
                     r e t u r n ; 
                 } 
 
                 c l e a r N o d e ( s e l f . d a y s C o n t a i n e r ) ; 
                 i f   ( s e l f . w e e k N u m b e r s )   c l e a r N o d e ( s e l f . w e e k N u m b e r s ) ; 
                 v a r   f r a g   =   d o c u m e n t . c r e a t e D o c u m e n t F r a g m e n t ( ) ; 
 
                 f o r   ( v a r   i   =   0 ;   i   <   s e l f . c o n f i g . s h o w M o n t h s ;   i + + )   { 
                     v a r   d   =   n e w   D a t e ( s e l f . c u r r e n t Y e a r ,   s e l f . c u r r e n t M o n t h ,   1 ) ; 
                     d . s e t M o n t h ( s e l f . c u r r e n t M o n t h   +   i ) ; 
                     f r a g . a p p e n d C h i l d ( b u i l d M o n t h D a y s ( d . g e t F u l l Y e a r ( ) ,   d . g e t M o n t h ( ) ) ) ; 
                 } 
 
                 s e l f . d a y s C o n t a i n e r . a p p e n d C h i l d ( f r a g ) ; 
                 s e l f . d a y s   =   s e l f . d a y s C o n t a i n e r . f i r s t C h i l d ; 
 
                 i f   ( s e l f . c o n f i g . m o d e   = = =   " r a n g e "   & &   s e l f . s e l e c t e d D a t e s . l e n g t h   = = =   1 )   { 
                     o n M o u s e O v e r ( ) ; 
                 } 
             } 
 
             f u n c t i o n   b u i l d M o n t h ( )   { 
                 v a r   c o n t a i n e r   =   c r e a t e E l e m e n t ( " d i v " ,   " f l a t p i c k r - m o n t h " ) ; 
                 v a r   m o n t h N a v F r a g m e n t   =   w i n d o w . d o c u m e n t . c r e a t e D o c u m e n t F r a g m e n t ( ) ; 
                 v a r   m o n t h E l e m e n t   =   c r e a t e E l e m e n t ( " s p a n " ,   " c u r - m o n t h " ) ; 
                 v a r   y e a r I n p u t   =   c r e a t e N u m b e r I n p u t ( " c u r - y e a r " ,   { 
                     t a b i n d e x :   " - 1 " 
                 } ) ; 
                 v a r   y e a r E l e m e n t   =   y e a r I n p u t . g e t E l e m e n t s B y T a g N a m e ( " i n p u t " ) [ 0 ] ; 
                 y e a r E l e m e n t . s e t A t t r i b u t e ( " a r i a - l a b e l " ,   s e l f . l 1 0 n . y e a r A r i a L a b e l ) ; 
                 i f   ( s e l f . c o n f i g . m i n D a t e )   y e a r E l e m e n t . s e t A t t r i b u t e ( " d a t a - m i n " ,   s e l f . c o n f i g . m i n D a t e . g e t F u l l Y e a r ( ) . t o S t r i n g ( ) ) ; 
 
                 i f   ( s e l f . c o n f i g . m a x D a t e )   { 
                     y e a r E l e m e n t . s e t A t t r i b u t e ( " d a t a - m a x " ,   s e l f . c o n f i g . m a x D a t e . g e t F u l l Y e a r ( ) . t o S t r i n g ( ) ) ; 
                     y e a r E l e m e n t . d i s a b l e d   =   ! ! s e l f . c o n f i g . m i n D a t e   & &   s e l f . c o n f i g . m i n D a t e . g e t F u l l Y e a r ( )   = = =   s e l f . c o n f i g . m a x D a t e . g e t F u l l Y e a r ( ) ; 
                 } 
 
                 v a r   c u r r e n t M o n t h   =   c r e a t e E l e m e n t ( " d i v " ,   " f l a t p i c k r - c u r r e n t - m o n t h " ) ; 
                 c u r r e n t M o n t h . a p p e n d C h i l d ( m o n t h E l e m e n t ) ; 
                 c u r r e n t M o n t h . a p p e n d C h i l d ( y e a r I n p u t ) ; 
                 m o n t h N a v F r a g m e n t . a p p e n d C h i l d ( c u r r e n t M o n t h ) ; 
                 c o n t a i n e r . a p p e n d C h i l d ( m o n t h N a v F r a g m e n t ) ; 
                 r e t u r n   { 
                     c o n t a i n e r :   c o n t a i n e r , 
                     y e a r E l e m e n t :   y e a r E l e m e n t , 
                     m o n t h E l e m e n t :   m o n t h E l e m e n t 
                 } ; 
             } 
 
             f u n c t i o n   b u i l d M o n t h s ( )   { 
                 c l e a r N o d e ( s e l f . m o n t h N a v ) ; 
                 s e l f . m o n t h N a v . a p p e n d C h i l d ( s e l f . p r e v M o n t h N a v ) ; 
 
                 f o r   ( v a r   m   =   s e l f . c o n f i g . s h o w M o n t h s ;   m - - ; )   { 
                     v a r   m o n t h   =   b u i l d M o n t h ( ) ; 
                     s e l f . y e a r E l e m e n t s . p u s h ( m o n t h . y e a r E l e m e n t ) ; 
                     s e l f . m o n t h E l e m e n t s . p u s h ( m o n t h . m o n t h E l e m e n t ) ; 
                     s e l f . m o n t h N a v . a p p e n d C h i l d ( m o n t h . c o n t a i n e r ) ; 
                 } 
 
                 s e l f . m o n t h N a v . a p p e n d C h i l d ( s e l f . n e x t M o n t h N a v ) ; 
             } 
 
             f u n c t i o n   b u i l d M o n t h N a v ( )   { 
                 s e l f . m o n t h N a v   =   c r e a t e E l e m e n t ( " d i v " ,   " f l a t p i c k r - m o n t h s " ) ; 
                 s e l f . y e a r E l e m e n t s   =   [ ] ; 
                 s e l f . m o n t h E l e m e n t s   =   [ ] ; 
                 s e l f . p r e v M o n t h N a v   =   c r e a t e E l e m e n t ( " s p a n " ,   " f l a t p i c k r - p r e v - m o n t h " ) ; 
                 s e l f . p r e v M o n t h N a v . i n n e r H T M L   =   s e l f . c o n f i g . p r e v A r r o w ; 
                 s e l f . n e x t M o n t h N a v   =   c r e a t e E l e m e n t ( " s p a n " ,   " f l a t p i c k r - n e x t - m o n t h " ) ; 
                 s e l f . n e x t M o n t h N a v . i n n e r H T M L   =   s e l f . c o n f i g . n e x t A r r o w ; 
                 b u i l d M o n t h s ( ) ; 
                 O b j e c t . d e f i n e P r o p e r t y ( s e l f ,   " _ h i d e P r e v M o n t h A r r o w " ,   { 
                     g e t :   f u n c t i o n   g e t ( )   { 
                         r e t u r n   s e l f . _ _ h i d e P r e v M o n t h A r r o w ; 
                     } , 
                     s e t :   f u n c t i o n   s e t ( b o o l )   { 
                         i f   ( s e l f . _ _ h i d e P r e v M o n t h A r r o w   ! = =   b o o l )   { 
                             t o g g l e C l a s s ( s e l f . p r e v M o n t h N a v ,   " d i s a b l e d " ,   b o o l ) ; 
                             s e l f . _ _ h i d e P r e v M o n t h A r r o w   =   b o o l ; 
                         } 
                     } 
                 } ) ; 
                 O b j e c t . d e f i n e P r o p e r t y ( s e l f ,   " _ h i d e N e x t M o n t h A r r o w " ,   { 
                     g e t :   f u n c t i o n   g e t ( )   { 
                         r e t u r n   s e l f . _ _ h i d e N e x t M o n t h A r r o w ; 
                     } , 
                     s e t :   f u n c t i o n   s e t ( b o o l )   { 
                         i f   ( s e l f . _ _ h i d e N e x t M o n t h A r r o w   ! = =   b o o l )   { 
                             t o g g l e C l a s s ( s e l f . n e x t M o n t h N a v ,   " d i s a b l e d " ,   b o o l ) ; 
                             s e l f . _ _ h i d e N e x t M o n t h A r r o w   =   b o o l ; 
                         } 
                     } 
                 } ) ; 
                 s e l f . c u r r e n t Y e a r E l e m e n t   =   s e l f . y e a r E l e m e n t s [ 0 ] ; 
                 u p d a t e N a v i g a t i o n C u r r e n t M o n t h ( ) ; 
                 r e t u r n   s e l f . m o n t h N a v ; 
             } 
 
             f u n c t i o n   b u i l d T i m e ( )   { 
                 s e l f . c a l e n d a r C o n t a i n e r . c l a s s L i s t . a d d ( " h a s T i m e " ) ; 
                 i f   ( s e l f . c o n f i g . n o C a l e n d a r )   s e l f . c a l e n d a r C o n t a i n e r . c l a s s L i s t . a d d ( " n o C a l e n d a r " ) ; 
                 s e l f . t i m e C o n t a i n e r   =   c r e a t e E l e m e n t ( " d i v " ,   " f l a t p i c k r - t i m e " ) ; 
                 s e l f . t i m e C o n t a i n e r . t a b I n d e x   =   - 1 ; 
                 v a r   s e p a r a t o r   =   c r e a t e E l e m e n t ( " s p a n " ,   " f l a t p i c k r - t i m e - s e p a r a t o r " ,   " : " ) ; 
                 v a r   h o u r I n p u t   =   c r e a t e N u m b e r I n p u t ( " f l a t p i c k r - h o u r " ) ; 
                 s e l f . h o u r E l e m e n t   =   h o u r I n p u t . g e t E l e m e n t s B y T a g N a m e ( " i n p u t " ) [ 0 ] ; 
                 v a r   m i n u t e I n p u t   =   c r e a t e N u m b e r I n p u t ( " f l a t p i c k r - m i n u t e " ) ; 
                 s e l f . m i n u t e E l e m e n t   =   m i n u t e I n p u t . g e t E l e m e n t s B y T a g N a m e ( " i n p u t " ) [ 0 ] ; 
                 s e l f . h o u r E l e m e n t . t a b I n d e x   =   s e l f . m i n u t e E l e m e n t . t a b I n d e x   =   - 1 ; 
                 s e l f . h o u r E l e m e n t . v a l u e   =   p a d ( s e l f . l a t e s t S e l e c t e d D a t e O b j   ?   s e l f . l a t e s t S e l e c t e d D a t e O b j . g e t H o u r s ( )   :   s e l f . c o n f i g . t i m e _ 2 4 h r   ?   s e l f . c o n f i g . d e f a u l t H o u r   :   m i l i t a r y 2 a m p m ( s e l f . c o n f i g . d e f a u l t H o u r ) ) ; 
                 s e l f . m i n u t e E l e m e n t . v a l u e   =   p a d ( s e l f . l a t e s t S e l e c t e d D a t e O b j   ?   s e l f . l a t e s t S e l e c t e d D a t e O b j . g e t M i n u t e s ( )   :   s e l f . c o n f i g . d e f a u l t M i n u t e ) ; 
                 s e l f . h o u r E l e m e n t . s e t A t t r i b u t e ( " d a t a - s t e p " ,   s e l f . c o n f i g . h o u r I n c r e m e n t . t o S t r i n g ( ) ) ; 
                 s e l f . m i n u t e E l e m e n t . s e t A t t r i b u t e ( " d a t a - s t e p " ,   s e l f . c o n f i g . m i n u t e I n c r e m e n t . t o S t r i n g ( ) ) ; 
                 s e l f . h o u r E l e m e n t . s e t A t t r i b u t e ( " d a t a - m i n " ,   s e l f . c o n f i g . t i m e _ 2 4 h r   ?   " 0 "   :   " 1 " ) ; 
                 s e l f . h o u r E l e m e n t . s e t A t t r i b u t e ( " d a t a - m a x " ,   s e l f . c o n f i g . t i m e _ 2 4 h r   ?   " 2 3 "   :   " 1 2 " ) ; 
                 s e l f . m i n u t e E l e m e n t . s e t A t t r i b u t e ( " d a t a - m i n " ,   " 0 " ) ; 
                 s e l f . m i n u t e E l e m e n t . s e t A t t r i b u t e ( " d a t a - m a x " ,   " 5 9 " ) ; 
                 s e l f . t i m e C o n t a i n e r . a p p e n d C h i l d ( h o u r I n p u t ) ; 
                 s e l f . t i m e C o n t a i n e r . a p p e n d C h i l d ( s e p a r a t o r ) ; 
                 s e l f . t i m e C o n t a i n e r . a p p e n d C h i l d ( m i n u t e I n p u t ) ; 
                 i f   ( s e l f . c o n f i g . t i m e _ 2 4 h r )   s e l f . t i m e C o n t a i n e r . c l a s s L i s t . a d d ( " t i m e 2 4 h r " ) ; 
 
                 i f   ( s e l f . c o n f i g . e n a b l e S e c o n d s )   { 
                     s e l f . t i m e C o n t a i n e r . c l a s s L i s t . a d d ( " h a s S e c o n d s " ) ; 
                     v a r   s e c o n d I n p u t   =   c r e a t e N u m b e r I n p u t ( " f l a t p i c k r - s e c o n d " ) ; 
                     s e l f . s e c o n d E l e m e n t   =   s e c o n d I n p u t . g e t E l e m e n t s B y T a g N a m e ( " i n p u t " ) [ 0 ] ; 
                     s e l f . s e c o n d E l e m e n t . v a l u e   =   p a d ( s e l f . l a t e s t S e l e c t e d D a t e O b j   ?   s e l f . l a t e s t S e l e c t e d D a t e O b j . g e t S e c o n d s ( )   :   s e l f . c o n f i g . d e f a u l t S e c o n d s ) ; 
                     s e l f . s e c o n d E l e m e n t . s e t A t t r i b u t e ( " d a t a - s t e p " ,   s e l f . m i n u t e E l e m e n t . g e t A t t r i b u t e ( " d a t a - s t e p " ) ) ; 
                     s e l f . s e c o n d E l e m e n t . s e t A t t r i b u t e ( " d a t a - m i n " ,   s e l f . m i n u t e E l e m e n t . g e t A t t r i b u t e ( " d a t a - m i n " ) ) ; 
                     s e l f . s e c o n d E l e m e n t . s e t A t t r i b u t e ( " d a t a - m a x " ,   s e l f . m i n u t e E l e m e n t . g e t A t t r i b u t e ( " d a t a - m a x " ) ) ; 
                     s e l f . t i m e C o n t a i n e r . a p p e n d C h i l d ( c r e a t e E l e m e n t ( " s p a n " ,   " f l a t p i c k r - t i m e - s e p a r a t o r " ,   " : " ) ) ; 
                     s e l f . t i m e C o n t a i n e r . a p p e n d C h i l d ( s e c o n d I n p u t ) ; 
                 } 
 
                 i f   ( ! s e l f . c o n f i g . t i m e _ 2 4 h r )   { 
                     s e l f . a m P M   =   c r e a t e E l e m e n t ( " s p a n " ,   " f l a t p i c k r - a m - p m " ,   s e l f . l 1 0 n . a m P M [ i n t ( ( s e l f . l a t e s t S e l e c t e d D a t e O b j   ?   s e l f . h o u r E l e m e n t . v a l u e   :   s e l f . c o n f i g . d e f a u l t H o u r )   >   1 1 ) ] ) ; 
                     s e l f . a m P M . t i t l e   =   s e l f . l 1 0 n . t o g g l e T i t l e ; 
                     s e l f . a m P M . t a b I n d e x   =   - 1 ; 
                     s e l f . t i m e C o n t a i n e r . a p p e n d C h i l d ( s e l f . a m P M ) ; 
                 } 
 
                 r e t u r n   s e l f . t i m e C o n t a i n e r ; 
             } 
 
             f u n c t i o n   b u i l d W e e k d a y s ( )   { 
                 i f   ( ! s e l f . w e e k d a y C o n t a i n e r )   s e l f . w e e k d a y C o n t a i n e r   =   c r e a t e E l e m e n t ( " d i v " ,   " f l a t p i c k r - w e e k d a y s " ) ; e l s e   c l e a r N o d e ( s e l f . w e e k d a y C o n t a i n e r ) ; 
 
                 f o r   ( v a r   i   =   s e l f . c o n f i g . s h o w M o n t h s ;   i - - ; )   { 
                     v a r   c o n t a i n e r   =   c r e a t e E l e m e n t ( " d i v " ,   " f l a t p i c k r - w e e k d a y c o n t a i n e r " ) ; 
                     s e l f . w e e k d a y C o n t a i n e r . a p p e n d C h i l d ( c o n t a i n e r ) ; 
                 } 
 
                 u p d a t e W e e k d a y s ( ) ; 
                 r e t u r n   s e l f . w e e k d a y C o n t a i n e r ; 
             } 
 
             f u n c t i o n   u p d a t e W e e k d a y s ( )   { 
                 v a r   f i r s t D a y O f W e e k   =   s e l f . l 1 0 n . f i r s t D a y O f W e e k ; 
                 v a r   w e e k d a y s   =   s e l f . l 1 0 n . w e e k d a y s . s h o r t h a n d . c o n c a t ( ) ; 
 
                 i f   ( f i r s t D a y O f W e e k   >   0   & &   f i r s t D a y O f W e e k   <   w e e k d a y s . l e n g t h )   { 
                     w e e k d a y s   =   w e e k d a y s . s p l i c e ( f i r s t D a y O f W e e k ,   w e e k d a y s . l e n g t h ) . c o n c a t ( w e e k d a y s . s p l i c e ( 0 ,   f i r s t D a y O f W e e k ) ) ; 
                 } 
 
                 f o r   ( v a r   i   =   s e l f . c o n f i g . s h o w M o n t h s ;   i - - ; )   { 
                     s e l f . w e e k d a y C o n t a i n e r . c h i l d r e n [ i ] . i n n e r H T M L   =   " \ n             < s p a n   c l a s s = f l a t p i c k r - w e e k d a y > \ n                 "   +   w e e k d a y s . j o i n ( " < / s p a n > < s p a n   c l a s s = f l a t p i c k r - w e e k d a y > " )   +   " \ n             < / s p a n > \ n             " ; 
                 } 
             } 
 
             f u n c t i o n   b u i l d W e e k s ( )   { 
                 s e l f . c a l e n d a r C o n t a i n e r . c l a s s L i s t . a d d ( " h a s W e e k s " ) ; 
                 v a r   w e e k W r a p p e r   =   c r e a t e E l e m e n t ( " d i v " ,   " f l a t p i c k r - w e e k w r a p p e r " ) ; 
                 w e e k W r a p p e r . a p p e n d C h i l d ( c r e a t e E l e m e n t ( " s p a n " ,   " f l a t p i c k r - w e e k d a y " ,   s e l f . l 1 0 n . w e e k A b b r e v i a t i o n ) ) ; 
                 v a r   w e e k N u m b e r s   =   c r e a t e E l e m e n t ( " d i v " ,   " f l a t p i c k r - w e e k s " ) ; 
                 w e e k W r a p p e r . a p p e n d C h i l d ( w e e k N u m b e r s ) ; 
                 r e t u r n   { 
                     w e e k W r a p p e r :   w e e k W r a p p e r , 
                     w e e k N u m b e r s :   w e e k N u m b e r s 
                 } ; 
             } 
 
             f u n c t i o n   c h a n g e M o n t h ( v a l u e ,   i s _ o f f s e t )   { 
                 i f   ( i s _ o f f s e t   = = =   v o i d   0 )   { 
                     i s _ o f f s e t   =   t r u e ; 
                 } 
 
                 v a r   d e l t a   =   i s _ o f f s e t   ?   v a l u e   :   v a l u e   -   s e l f . c u r r e n t M o n t h ; 
                 i f   ( d e l t a   <   0   & &   s e l f . _ h i d e P r e v M o n t h A r r o w   = = =   t r u e   | |   d e l t a   >   0   & &   s e l f . _ h i d e N e x t M o n t h A r r o w   = = =   t r u e )   r e t u r n ; 
                 s e l f . c u r r e n t M o n t h   + =   d e l t a ; 
 
                 i f   ( s e l f . c u r r e n t M o n t h   <   0   | |   s e l f . c u r r e n t M o n t h   >   1 1 )   { 
                     s e l f . c u r r e n t Y e a r   + =   s e l f . c u r r e n t M o n t h   >   1 1   ?   1   :   - 1 ; 
                     s e l f . c u r r e n t M o n t h   =   ( s e l f . c u r r e n t M o n t h   +   1 2 )   %   1 2 ; 
                     t r i g g e r E v e n t ( " o n Y e a r C h a n g e " ) ; 
                 } 
 
                 b u i l d D a y s ( ) ; 
                 t r i g g e r E v e n t ( " o n M o n t h C h a n g e " ) ; 
                 u p d a t e N a v i g a t i o n C u r r e n t M o n t h ( ) ; 
             } 
 
             f u n c t i o n   c l e a r ( t r i g g e r C h a n g e E v e n t )   { 
                 i f   ( t r i g g e r C h a n g e E v e n t   = = =   v o i d   0 )   { 
                     t r i g g e r C h a n g e E v e n t   =   t r u e ; 
                 } 
 
                 s e l f . i n p u t . v a l u e   =   " " ; 
                 i f   ( s e l f . a l t I n p u t   ! = =   u n d e f i n e d )   s e l f . a l t I n p u t . v a l u e   =   " " ; 
                 i f   ( s e l f . m o b i l e I n p u t   ! = =   u n d e f i n e d )   s e l f . m o b i l e I n p u t . v a l u e   =   " " ; 
                 s e l f . s e l e c t e d D a t e s   =   [ ] ; 
                 s e l f . l a t e s t S e l e c t e d D a t e O b j   =   u n d e f i n e d ; 
                 s e l f . s h o w T i m e I n p u t   =   f a l s e ; 
 
                 i f   ( s e l f . c o n f i g . e n a b l e T i m e   = = =   t r u e )   { 
                     s e t D e f a u l t H o u r s ( ) ; 
                 } 
 
                 s e l f . r e d r a w ( ) ; 
                 i f   ( t r i g g e r C h a n g e E v e n t )   t r i g g e r E v e n t ( " o n C h a n g e " ) ; 
             } 
 
             f u n c t i o n   c l o s e ( )   { 
                 s e l f . i s O p e n   =   f a l s e ; 
 
                 i f   ( ! s e l f . i s M o b i l e )   { 
                     s e l f . c a l e n d a r C o n t a i n e r . c l a s s L i s t . r e m o v e ( " o p e n " ) ; 
 
                     s e l f . _ i n p u t . c l a s s L i s t . r e m o v e ( " a c t i v e " ) ; 
                 } 
 
                 t r i g g e r E v e n t ( " o n C l o s e " ) ; 
             } 
 
             f u n c t i o n   d e s t r o y ( )   { 
                 i f   ( s e l f . c o n f i g   ! = =   u n d e f i n e d )   t r i g g e r E v e n t ( " o n D e s t r o y " ) ; 
 
                 f o r   ( v a r   i   =   s e l f . _ h a n d l e r s . l e n g t h ;   i - - ; )   { 
                     v a r   h   =   s e l f . _ h a n d l e r s [ i ] ; 
                     h . e l e m e n t . r e m o v e E v e n t L i s t e n e r ( h . e v e n t ,   h . h a n d l e r ,   h . o p t i o n s ) ; 
                 } 
 
                 s e l f . _ h a n d l e r s   =   [ ] ; 
 
                 i f   ( s e l f . m o b i l e I n p u t )   { 
                     i f   ( s e l f . m o b i l e I n p u t . p a r e n t N o d e )   s e l f . m o b i l e I n p u t . p a r e n t N o d e . r e m o v e C h i l d ( s e l f . m o b i l e I n p u t ) ; 
                     s e l f . m o b i l e I n p u t   =   u n d e f i n e d ; 
                 }   e l s e   i f   ( s e l f . c a l e n d a r C o n t a i n e r   & &   s e l f . c a l e n d a r C o n t a i n e r . p a r e n t N o d e )   { 
                     i f   ( s e l f . c o n f i g . s t a t i c   & &   s e l f . c a l e n d a r C o n t a i n e r . p a r e n t N o d e )   { 
                         v a r   w r a p p e r   =   s e l f . c a l e n d a r C o n t a i n e r . p a r e n t N o d e ; 
                         w r a p p e r . l a s t C h i l d   & &   w r a p p e r . r e m o v e C h i l d ( w r a p p e r . l a s t C h i l d ) ; 
 
                         i f   ( w r a p p e r . p a r e n t N o d e )   { 
                             w h i l e   ( w r a p p e r . f i r s t C h i l d )   { 
                                 w r a p p e r . p a r e n t N o d e . i n s e r t B e f o r e ( w r a p p e r . f i r s t C h i l d ,   w r a p p e r ) ; 
                             } 
 
                             w r a p p e r . p a r e n t N o d e . r e m o v e C h i l d ( w r a p p e r ) ; 
                         } 
                     }   e l s e   s e l f . c a l e n d a r C o n t a i n e r . p a r e n t N o d e . r e m o v e C h i l d ( s e l f . c a l e n d a r C o n t a i n e r ) ; 
                 } 
 
                 i f   ( s e l f . a l t I n p u t )   { 
                     s e l f . i n p u t . t y p e   =   " t e x t " ; 
                     i f   ( s e l f . a l t I n p u t . p a r e n t N o d e )   s e l f . a l t I n p u t . p a r e n t N o d e . r e m o v e C h i l d ( s e l f . a l t I n p u t ) ; 
                     d e l e t e   s e l f . a l t I n p u t ; 
                 } 
 
                 i f   ( s e l f . i n p u t )   { 
                     s e l f . i n p u t . t y p e   =   s e l f . i n p u t . _ t y p e ; 
                     s e l f . i n p u t . c l a s s L i s t . r e m o v e ( " f l a t p i c k r - i n p u t " ) ; 
                     s e l f . i n p u t . r e m o v e A t t r i b u t e ( " r e a d o n l y " ) ; 
                     s e l f . i n p u t . v a l u e   =   " " ; 
                 } 
 
                 [ " _ s h o w T i m e I n p u t " ,   " l a t e s t S e l e c t e d D a t e O b j " ,   " _ h i d e N e x t M o n t h A r r o w " ,   " _ h i d e P r e v M o n t h A r r o w " ,   " _ _ h i d e N e x t M o n t h A r r o w " ,   " _ _ h i d e P r e v M o n t h A r r o w " ,   " i s M o b i l e " ,   " i s O p e n " ,   " s e l e c t e d D a t e E l e m " ,   " m i n D a t e H a s T i m e " ,   " m a x D a t e H a s T i m e " ,   " d a y s " ,   " d a y s C o n t a i n e r " ,   " _ i n p u t " ,   " _ p o s i t i o n E l e m e n t " ,   " i n n e r C o n t a i n e r " ,   " r C o n t a i n e r " ,   " m o n t h N a v " ,   " t o d a y D a t e E l e m " ,   " c a l e n d a r C o n t a i n e r " ,   " w e e k d a y C o n t a i n e r " ,   " p r e v M o n t h N a v " ,   " n e x t M o n t h N a v " ,   " c u r r e n t M o n t h E l e m e n t " ,   " c u r r e n t Y e a r E l e m e n t " ,   " n a v i g a t i o n C u r r e n t M o n t h " ,   " s e l e c t e d D a t e E l e m " ,   " c o n f i g " ] . f o r E a c h ( f u n c t i o n   ( k )   { 
                     t r y   { 
                         d e l e t e   s e l f [ k ] ; 
                     }   c a t c h   ( _ )   { } 
                 } ) ; 
             } 
 
             f u n c t i o n   i s C a l e n d a r E l e m ( e l e m )   { 
                 i f   ( s e l f . c o n f i g . a p p e n d T o   & &   s e l f . c o n f i g . a p p e n d T o . c o n t a i n s ( e l e m ) )   r e t u r n   t r u e ; 
                 r e t u r n   s e l f . c a l e n d a r C o n t a i n e r . c o n t a i n s ( e l e m ) ; 
             } 
 
             f u n c t i o n   d o c u m e n t C l i c k ( e )   { 
                 i f   ( s e l f . i s O p e n   & &   ! s e l f . c o n f i g . i n l i n e )   { 
                     v a r   i s C a l e n d a r E l e m e n t   =   i s C a l e n d a r E l e m ( e . t a r g e t ) ; 
                     v a r   i s I n p u t   =   e . t a r g e t   = = =   s e l f . i n p u t   | |   e . t a r g e t   = = =   s e l f . a l t I n p u t   | |   s e l f . e l e m e n t . c o n t a i n s ( e . t a r g e t )   | |   e . p a t h   & &   e . p a t h . i n d e x O f   & &   ( ~ e . p a t h . i n d e x O f ( s e l f . i n p u t )   | |   ~ e . p a t h . i n d e x O f ( s e l f . a l t I n p u t ) ) ; 
                     v a r   l o s t F o c u s   =   e . t y p e   = = =   " b l u r "   ?   i s I n p u t   & &   e . r e l a t e d T a r g e t   & &   ! i s C a l e n d a r E l e m ( e . r e l a t e d T a r g e t )   :   ! i s I n p u t   & &   ! i s C a l e n d a r E l e m e n t ; 
                     v a r   i s I g n o r e d   =   ! s e l f . c o n f i g . i g n o r e d F o c u s E l e m e n t s . s o m e ( f u n c t i o n   ( e l e m )   { 
                         r e t u r n   e l e m . c o n t a i n s ( e . t a r g e t ) ; 
                     } ) ; 
 
                     i f   ( l o s t F o c u s   & &   i s I g n o r e d )   { 
                         s e l f . c l o s e ( ) ; 
 
                         i f   ( s e l f . c o n f i g . m o d e   = = =   " r a n g e "   & &   s e l f . s e l e c t e d D a t e s . l e n g t h   = = =   1 )   { 
                             s e l f . c l e a r ( f a l s e ) ; 
                             s e l f . r e d r a w ( ) ; 
                         } 
                     } 
                 } 
             } 
 
             f u n c t i o n   c h a n g e Y e a r ( n e w Y e a r )   { 
                 i f   ( ! n e w Y e a r   | |   s e l f . c o n f i g . m i n D a t e   & &   n e w Y e a r   <   s e l f . c o n f i g . m i n D a t e . g e t F u l l Y e a r ( )   | |   s e l f . c o n f i g . m a x D a t e   & &   n e w Y e a r   >   s e l f . c o n f i g . m a x D a t e . g e t F u l l Y e a r ( ) )   r e t u r n ; 
                 v a r   n e w Y e a r N u m   =   n e w Y e a r , 
                         i s N e w Y e a r   =   s e l f . c u r r e n t Y e a r   ! = =   n e w Y e a r N u m ; 
                 s e l f . c u r r e n t Y e a r   =   n e w Y e a r N u m   | |   s e l f . c u r r e n t Y e a r ; 
 
                 i f   ( s e l f . c o n f i g . m a x D a t e   & &   s e l f . c u r r e n t Y e a r   = = =   s e l f . c o n f i g . m a x D a t e . g e t F u l l Y e a r ( ) )   { 
                     s e l f . c u r r e n t M o n t h   =   M a t h . m i n ( s e l f . c o n f i g . m a x D a t e . g e t M o n t h ( ) ,   s e l f . c u r r e n t M o n t h ) ; 
                 }   e l s e   i f   ( s e l f . c o n f i g . m i n D a t e   & &   s e l f . c u r r e n t Y e a r   = = =   s e l f . c o n f i g . m i n D a t e . g e t F u l l Y e a r ( ) )   { 
                     s e l f . c u r r e n t M o n t h   =   M a t h . m a x ( s e l f . c o n f i g . m i n D a t e . g e t M o n t h ( ) ,   s e l f . c u r r e n t M o n t h ) ; 
                 } 
 
                 i f   ( i s N e w Y e a r )   { 
                     s e l f . r e d r a w ( ) ; 
                     t r i g g e r E v e n t ( " o n Y e a r C h a n g e " ) ; 
                 } 
             } 
 
             f u n c t i o n   i s E n a b l e d ( d a t e ,   t i m e l e s s )   { 
                 i f   ( t i m e l e s s   = = =   v o i d   0 )   { 
                     t i m e l e s s   =   t r u e ; 
                 } 
 
                 v a r   d a t e T o C h e c k   =   s e l f . p a r s e D a t e ( d a t e ,   u n d e f i n e d ,   t i m e l e s s ) ; 
                 i f   ( s e l f . c o n f i g . m i n D a t e   & &   d a t e T o C h e c k   & &   c o m p a r e D a t e s ( d a t e T o C h e c k ,   s e l f . c o n f i g . m i n D a t e ,   t i m e l e s s   ! = =   u n d e f i n e d   ?   t i m e l e s s   :   ! s e l f . m i n D a t e H a s T i m e )   <   0   | |   s e l f . c o n f i g . m a x D a t e   & &   d a t e T o C h e c k   & &   c o m p a r e D a t e s ( d a t e T o C h e c k ,   s e l f . c o n f i g . m a x D a t e ,   t i m e l e s s   ! = =   u n d e f i n e d   ?   t i m e l e s s   :   ! s e l f . m a x D a t e H a s T i m e )   >   0 )   r e t u r n   f a l s e ; 
                 i f   ( s e l f . c o n f i g . e n a b l e . l e n g t h   = = =   0   & &   s e l f . c o n f i g . d i s a b l e . l e n g t h   = = =   0 )   r e t u r n   t r u e ; 
                 i f   ( d a t e T o C h e c k   = = =   u n d e f i n e d )   r e t u r n   f a l s e ; 
                 v a r   b o o l   =   s e l f . c o n f i g . e n a b l e . l e n g t h   >   0 , 
                         a r r a y   =   b o o l   ?   s e l f . c o n f i g . e n a b l e   :   s e l f . c o n f i g . d i s a b l e ; 
 
                 f o r   ( v a r   i   =   0 ,   d ;   i   <   a r r a y . l e n g t h ;   i + + )   { 
                     d   =   a r r a y [ i ] ; 
                     i f   ( t y p e o f   d   = = =   " f u n c t i o n "   & &   d ( d a t e T o C h e c k ) )   r e t u r n   b o o l ; e l s e   i f   ( d   i n s t a n c e o f   D a t e   & &   d a t e T o C h e c k   ! = =   u n d e f i n e d   & &   d . g e t T i m e ( )   = = =   d a t e T o C h e c k . g e t T i m e ( ) )   r e t u r n   b o o l ; e l s e   i f   ( t y p e o f   d   = = =   " s t r i n g "   & &   d a t e T o C h e c k   ! = =   u n d e f i n e d )   { 
                         v a r   p a r s e d   =   s e l f . p a r s e D a t e ( d ,   u n d e f i n e d ,   t r u e ) ; 
                         r e t u r n   p a r s e d   & &   p a r s e d . g e t T i m e ( )   = = =   d a t e T o C h e c k . g e t T i m e ( )   ?   b o o l   :   ! b o o l ; 
                     }   e l s e   i f   ( t y p e o f   d   = = =   " o b j e c t "   & &   d a t e T o C h e c k   ! = =   u n d e f i n e d   & &   d . f r o m   & &   d . t o   & &   d a t e T o C h e c k . g e t T i m e ( )   > =   d . f r o m . g e t T i m e ( )   & &   d a t e T o C h e c k . g e t T i m e ( )   < =   d . t o . g e t T i m e ( ) )   r e t u r n   b o o l ; 
                 } 
 
                 r e t u r n   ! b o o l ; 
             } 
 
             f u n c t i o n   i s I n V i e w ( e l e m )   { 
                 i f   ( s e l f . d a y s C o n t a i n e r   ! = =   u n d e f i n e d )   r e t u r n   e l e m . c l a s s N a m e . i n d e x O f ( " h i d d e n " )   = = =   - 1   & &   s e l f . d a y s C o n t a i n e r . c o n t a i n s ( e l e m ) ; 
                 r e t u r n   f a l s e ; 
             } 
 
             f u n c t i o n   o n K e y D o w n ( e )   { 
                 v a r   i s I n p u t   =   e . t a r g e t   = = =   s e l f . _ i n p u t ; 
                 v a r   a l l o w I n p u t   =   s e l f . c o n f i g . a l l o w I n p u t ; 
                 v a r   a l l o w K e y d o w n   =   s e l f . i s O p e n   & &   ( ! a l l o w I n p u t   | |   ! i s I n p u t ) ; 
                 v a r   a l l o w I n l i n e K e y d o w n   =   s e l f . c o n f i g . i n l i n e   & &   i s I n p u t   & &   ! a l l o w I n p u t ; 
 
                 i f   ( e . k e y C o d e   = = =   1 3   & &   i s I n p u t )   { 
                     i f   ( a l l o w I n p u t )   { 
                         s e l f . s e t D a t e ( s e l f . _ i n p u t . v a l u e ,   t r u e ,   e . t a r g e t   = = =   s e l f . a l t I n p u t   ?   s e l f . c o n f i g . a l t F o r m a t   :   s e l f . c o n f i g . d a t e F o r m a t ) ; 
                         r e t u r n   e . t a r g e t . b l u r ( ) ; 
                     }   e l s e   s e l f . o p e n ( ) ; 
                 }   e l s e   i f   ( i s C a l e n d a r E l e m ( e . t a r g e t )   | |   a l l o w K e y d o w n   | |   a l l o w I n l i n e K e y d o w n )   { 
                     v a r   i s T i m e O b j   =   ! ! s e l f . t i m e C o n t a i n e r   & &   s e l f . t i m e C o n t a i n e r . c o n t a i n s ( e . t a r g e t ) ; 
 
                     s w i t c h   ( e . k e y C o d e )   { 
                         c a s e   1 3 : 
                             i f   ( i s T i m e O b j )   u p d a t e T i m e ( ) ; e l s e   s e l e c t D a t e ( e ) ; 
                             b r e a k ; 
 
                         c a s e   2 7 : 
                             e . p r e v e n t D e f a u l t ( ) ; 
                             f o c u s A n d C l o s e ( ) ; 
                             b r e a k ; 
 
                         c a s e   8 : 
                         c a s e   4 6 : 
                             i f   ( i s I n p u t   & &   ! s e l f . c o n f i g . a l l o w I n p u t )   { 
                                 e . p r e v e n t D e f a u l t ( ) ; 
                                 s e l f . c l e a r ( ) ; 
                             } 
 
                             b r e a k ; 
 
                         c a s e   3 7 : 
                         c a s e   3 9 : 
                             i f   ( ! i s T i m e O b j )   { 
                                 e . p r e v e n t D e f a u l t ( ) ; 
 
                                 i f   ( s e l f . d a y s C o n t a i n e r   ! = =   u n d e f i n e d   & &   ( a l l o w I n p u t   = = =   f a l s e   | |   i s I n V i e w ( d o c u m e n t . a c t i v e E l e m e n t ) ) )   { 
                                     v a r   _ d e l t a   =   e . k e y C o d e   = = =   3 9   ?   1   :   - 1 ; 
 
                                     i f   ( ! e . c t r l K e y )   f o c u s O n D a y ( u n d e f i n e d ,   _ d e l t a ) ; e l s e   { 
                                         c h a n g e M o n t h ( _ d e l t a ) ; 
                                         f o c u s O n D a y ( g e t F i r s t A v a i l a b l e D a y ( 1 ) ,   0 ) ; 
                                     } 
                                 } 
                             }   e l s e   i f   ( s e l f . h o u r E l e m e n t )   s e l f . h o u r E l e m e n t . f o c u s ( ) ; 
 
                             b r e a k ; 
 
                         c a s e   3 8 : 
                         c a s e   4 0 : 
                             e . p r e v e n t D e f a u l t ( ) ; 
                             v a r   d e l t a   =   e . k e y C o d e   = = =   4 0   ?   1   :   - 1 ; 
 
                             i f   ( s e l f . d a y s C o n t a i n e r   & &   e . t a r g e t . $ i   ! = =   u n d e f i n e d )   { 
                                 i f   ( e . c t r l K e y )   { 
                                     c h a n g e Y e a r ( s e l f . c u r r e n t Y e a r   -   d e l t a ) ; 
                                     f o c u s O n D a y ( g e t F i r s t A v a i l a b l e D a y ( 1 ) ,   0 ) ; 
                                 }   e l s e   i f   ( ! i s T i m e O b j )   f o c u s O n D a y ( u n d e f i n e d ,   d e l t a   *   7 ) ; 
                             }   e l s e   i f   ( s e l f . c o n f i g . e n a b l e T i m e )   { 
                                 i f   ( ! i s T i m e O b j   & &   s e l f . h o u r E l e m e n t )   s e l f . h o u r E l e m e n t . f o c u s ( ) ; 
                                 u p d a t e T i m e ( e ) ; 
 
                                 s e l f . _ d e b o u n c e d C h a n g e ( ) ; 
                             } 
 
                             b r e a k ; 
 
                         c a s e   9 : 
                             i f   ( ! i s T i m e O b j )   { 
                                 s e l f . e l e m e n t . f o c u s ( ) ; 
                                 b r e a k ; 
                             } 
 
                             v a r   e l e m s   =   [ s e l f . h o u r E l e m e n t ,   s e l f . m i n u t e E l e m e n t ,   s e l f . s e c o n d E l e m e n t ,   s e l f . a m P M ] . f i l t e r ( f u n c t i o n   ( x )   { 
                                 r e t u r n   x ; 
                             } ) ; 
                             v a r   i   =   e l e m s . i n d e x O f ( e . t a r g e t ) ; 
 
                             i f   ( i   ! = =   - 1 )   { 
                                 v a r   t a r g e t   =   e l e m s [ i   +   ( e . s h i f t K e y   ?   - 1   :   1 ) ] ; 
 
                                 i f   ( t a r g e t   ! = =   u n d e f i n e d )   { 
                                     e . p r e v e n t D e f a u l t ( ) ; 
                                     t a r g e t . f o c u s ( ) ; 
                                 }   e l s e   { 
                                     s e l f . e l e m e n t . f o c u s ( ) ; 
                                 } 
                             } 
 
                             b r e a k ; 
 
                         d e f a u l t : 
                             b r e a k ; 
                     } 
                 } 
 
                 i f   ( s e l f . a m P M   ! = =   u n d e f i n e d   & &   e . t a r g e t   = = =   s e l f . a m P M )   { 
                     s w i t c h   ( e . k e y )   { 
                         c a s e   s e l f . l 1 0 n . a m P M [ 0 ] . c h a r A t ( 0 ) : 
                         c a s e   s e l f . l 1 0 n . a m P M [ 0 ] . c h a r A t ( 0 ) . t o L o w e r C a s e ( ) : 
                             s e l f . a m P M . t e x t C o n t e n t   =   s e l f . l 1 0 n . a m P M [ 0 ] ; 
                             s e t H o u r s F r o m I n p u t s ( ) ; 
                             u p d a t e V a l u e ( ) ; 
                             b r e a k ; 
 
                         c a s e   s e l f . l 1 0 n . a m P M [ 1 ] . c h a r A t ( 0 ) : 
                         c a s e   s e l f . l 1 0 n . a m P M [ 1 ] . c h a r A t ( 0 ) . t o L o w e r C a s e ( ) : 
                             s e l f . a m P M . t e x t C o n t e n t   =   s e l f . l 1 0 n . a m P M [ 1 ] ; 
                             s e t H o u r s F r o m I n p u t s ( ) ; 
                             u p d a t e V a l u e ( ) ; 
                             b r e a k ; 
                     } 
                 } 
 
                 t r i g g e r E v e n t ( " o n K e y D o w n " ,   e ) ; 
             } 
 
             f u n c t i o n   o n M o u s e O v e r ( e l e m )   { 
                 i f   ( s e l f . s e l e c t e d D a t e s . l e n g t h   ! = =   1   | |   e l e m   & &   ( ! e l e m . c l a s s L i s t . c o n t a i n s ( " f l a t p i c k r - d a y " )   | |   e l e m . c l a s s L i s t . c o n t a i n s ( " d i s a b l e d " ) ) )   r e t u r n ; 
                 v a r   h o v e r D a t e   =   e l e m   ?   e l e m . d a t e O b j . g e t T i m e ( )   :   s e l f . d a y s . f i r s t E l e m e n t C h i l d . d a t e O b j . g e t T i m e ( ) , 
                         i n i t i a l D a t e   =   s e l f . p a r s e D a t e ( s e l f . s e l e c t e d D a t e s [ 0 ] ,   u n d e f i n e d ,   t r u e ) . g e t T i m e ( ) , 
                         r a n g e S t a r t D a t e   =   M a t h . m i n ( h o v e r D a t e ,   s e l f . s e l e c t e d D a t e s [ 0 ] . g e t T i m e ( ) ) , 
                         r a n g e E n d D a t e   =   M a t h . m a x ( h o v e r D a t e ,   s e l f . s e l e c t e d D a t e s [ 0 ] . g e t T i m e ( ) ) , 
                         l a s t D a t e   =   s e l f . d a y s C o n t a i n e r . l a s t C h i l d . l a s t C h i l d . d a t e O b j . g e t T i m e ( ) ; 
                 v a r   c o n t a i n s D i s a b l e d   =   f a l s e ; 
                 v a r   m i n R a n g e   =   0 , 
                         m a x R a n g e   =   0 ; 
 
                 f o r   ( v a r   t   =   r a n g e S t a r t D a t e ;   t   <   l a s t D a t e ;   t   + =   d u r a t i o n . D A Y )   { 
                     i f   ( ! i s E n a b l e d ( n e w   D a t e ( t ) ,   t r u e ) )   { 
                         c o n t a i n s D i s a b l e d   =   c o n t a i n s D i s a b l e d   | |   t   >   r a n g e S t a r t D a t e   & &   t   <   r a n g e E n d D a t e ; 
                         i f   ( t   <   i n i t i a l D a t e   & &   ( ! m i n R a n g e   | |   t   >   m i n R a n g e ) )   m i n R a n g e   =   t ; e l s e   i f   ( t   >   i n i t i a l D a t e   & &   ( ! m a x R a n g e   | |   t   <   m a x R a n g e ) )   m a x R a n g e   =   t ; 
                     } 
                 } 
 
                 f o r   ( v a r   m   =   0 ;   m   <   s e l f . c o n f i g . s h o w M o n t h s ;   m + + )   { 
                     v a r   m o n t h   =   s e l f . d a y s C o n t a i n e r . c h i l d r e n [ m ] ; 
                     v a r   p r e v M o n t h   =   s e l f . d a y s C o n t a i n e r . c h i l d r e n [ m   -   1 ] ; 
 
                     v a r   _ l o o p   =   f u n c t i o n   _ l o o p ( i ,   l )   { 
                         v a r   d a y E l e m   =   m o n t h . c h i l d r e n [ i ] , 
                                 d a t e   =   d a y E l e m . d a t e O b j ; 
                         v a r   t i m e s t a m p   =   d a t e . g e t T i m e ( ) ; 
                         v a r   o u t O f R a n g e   =   m i n R a n g e   >   0   & &   t i m e s t a m p   <   m i n R a n g e   | |   m a x R a n g e   >   0   & &   t i m e s t a m p   >   m a x R a n g e ; 
 
                         i f   ( o u t O f R a n g e )   { 
                             d a y E l e m . c l a s s L i s t . a d d ( " n o t A l l o w e d " ) ; 
                             [ " i n R a n g e " ,   " s t a r t R a n g e " ,   " e n d R a n g e " ] . f o r E a c h ( f u n c t i o n   ( c )   { 
                                 d a y E l e m . c l a s s L i s t . r e m o v e ( c ) ; 
                             } ) ; 
                             r e t u r n   " c o n t i n u e " ; 
                         }   e l s e   i f   ( c o n t a i n s D i s a b l e d   & &   ! o u t O f R a n g e )   r e t u r n   " c o n t i n u e " ; 
 
                         [ " s t a r t R a n g e " ,   " i n R a n g e " ,   " e n d R a n g e " ,   " n o t A l l o w e d " ] . f o r E a c h ( f u n c t i o n   ( c )   { 
                             d a y E l e m . c l a s s L i s t . r e m o v e ( c ) ; 
                         } ) ; 
 
                         i f   ( e l e m   ! = =   u n d e f i n e d )   { 
                             e l e m . c l a s s L i s t . a d d ( h o v e r D a t e   <   s e l f . s e l e c t e d D a t e s [ 0 ] . g e t T i m e ( )   ?   " s t a r t R a n g e "   :   " e n d R a n g e " ) ; 
 
                             i f   ( m o n t h . c o n t a i n s ( e l e m )   | |   ! ( m   >   0   & &   p r e v M o n t h   & &   p r e v M o n t h . l a s t C h i l d . d a t e O b j . g e t T i m e ( )   > =   t i m e s t a m p ) )   { 
                                 i f   ( i n i t i a l D a t e   <   h o v e r D a t e   & &   t i m e s t a m p   = = =   i n i t i a l D a t e )   d a y E l e m . c l a s s L i s t . a d d ( " s t a r t R a n g e " ) ; e l s e   i f   ( i n i t i a l D a t e   >   h o v e r D a t e   & &   t i m e s t a m p   = = =   i n i t i a l D a t e )   d a y E l e m . c l a s s L i s t . a d d ( " e n d R a n g e " ) ; 
                                 i f   ( t i m e s t a m p   > =   m i n R a n g e   & &   ( m a x R a n g e   = = =   0   | |   t i m e s t a m p   < =   m a x R a n g e )   & &   i s B e t w e e n ( t i m e s t a m p ,   i n i t i a l D a t e ,   h o v e r D a t e ) )   d a y E l e m . c l a s s L i s t . a d d ( " i n R a n g e " ) ; 
                             } 
                         } 
                     } ; 
 
                     f o r   ( v a r   i   =   0 ,   l   =   m o n t h . c h i l d r e n . l e n g t h ;   i   <   l ;   i + + )   { 
                         v a r   _ r e t   =   _ l o o p ( i ,   l ) ; 
 
                         i f   ( _ r e t   = = =   " c o n t i n u e " )   c o n t i n u e ; 
                     } 
                 } 
             } 
 
             f u n c t i o n   o n R e s i z e ( )   { 
                 i f   ( s e l f . i s O p e n   & &   ! s e l f . c o n f i g . s t a t i c   & &   ! s e l f . c o n f i g . i n l i n e )   p o s i t i o n C a l e n d a r ( ) ; 
             } 
 
             f u n c t i o n   o p e n ( e ,   p o s i t i o n E l e m e n t )   { 
                 i f   ( p o s i t i o n E l e m e n t   = = =   v o i d   0 )   { 
                     p o s i t i o n E l e m e n t   =   s e l f . _ p o s i t i o n E l e m e n t ; 
                 } 
 
                 i f   ( s e l f . i s M o b i l e   = = =   t r u e )   { 
                     i f   ( e )   { 
                         e . p r e v e n t D e f a u l t ( ) ; 
                         e . t a r g e t   & &   e . t a r g e t . b l u r ( ) ; 
                     } 
 
                     i f   ( s e l f . m o b i l e I n p u t   ! = =   u n d e f i n e d )   { 
                         s e l f . m o b i l e I n p u t . f o c u s ( ) ; 
                         s e l f . m o b i l e I n p u t . c l i c k ( ) ; 
                     } 
 
                     t r i g g e r E v e n t ( " o n O p e n " ) ; 
                     r e t u r n ; 
                 } 
 
                 i f   ( s e l f . _ i n p u t . d i s a b l e d   | |   s e l f . c o n f i g . i n l i n e )   r e t u r n ; 
                 v a r   w a s O p e n   =   s e l f . i s O p e n ; 
                 s e l f . i s O p e n   =   t r u e ; 
 
                 i f   ( ! w a s O p e n )   { 
                     s e l f . c a l e n d a r C o n t a i n e r . c l a s s L i s t . a d d ( " o p e n " ) ; 
 
                     s e l f . _ i n p u t . c l a s s L i s t . a d d ( " a c t i v e " ) ; 
 
                     t r i g g e r E v e n t ( " o n O p e n " ) ; 
                     p o s i t i o n C a l e n d a r ( p o s i t i o n E l e m e n t ) ; 
                 } 
 
                 i f   ( s e l f . c o n f i g . e n a b l e T i m e   = = =   t r u e   & &   s e l f . c o n f i g . n o C a l e n d a r   = = =   t r u e )   { 
                     i f   ( s e l f . s e l e c t e d D a t e s . l e n g t h   = = =   0 )   { 
                         s e l f . s e t D a t e ( s e l f . c o n f i g . m i n D a t e   ! = =   u n d e f i n e d   ?   n e w   D a t e ( s e l f . c o n f i g . m i n D a t e . g e t T i m e ( ) )   :   n e w   D a t e ( ) ,   f a l s e ) ; 
                         s e t D e f a u l t H o u r s ( ) ; 
                         u p d a t e V a l u e ( ) ; 
                     } 
 
                     i f   ( s e l f . c o n f i g . a l l o w I n p u t   = = =   f a l s e   & &   ( e   = = =   u n d e f i n e d   | |   ! s e l f . t i m e C o n t a i n e r . c o n t a i n s ( e . r e l a t e d T a r g e t ) ) )   { 
                         s e t T i m e o u t ( f u n c t i o n   ( )   { 
                             r e t u r n   s e l f . h o u r E l e m e n t . s e l e c t ( ) ; 
                         } ,   5 0 ) ; 
                     } 
                 } 
             } 
 
             f u n c t i o n   m i n M a x D a t e S e t t e r ( t y p e )   { 
                 r e t u r n   f u n c t i o n   ( d a t e )   { 
                     v a r   d a t e O b j   =   s e l f . c o n f i g [ " _ "   +   t y p e   +   " D a t e " ]   =   s e l f . p a r s e D a t e ( d a t e ,   s e l f . c o n f i g . d a t e F o r m a t ) ; 
                     v a r   i n v e r s e D a t e O b j   =   s e l f . c o n f i g [ " _ "   +   ( t y p e   = = =   " m i n "   ?   " m a x "   :   " m i n " )   +   " D a t e " ] ; 
 
                     i f   ( d a t e O b j   ! = =   u n d e f i n e d )   { 
                         s e l f [ t y p e   = = =   " m i n "   ?   " m i n D a t e H a s T i m e "   :   " m a x D a t e H a s T i m e " ]   =   d a t e O b j . g e t H o u r s ( )   >   0   | |   d a t e O b j . g e t M i n u t e s ( )   >   0   | |   d a t e O b j . g e t S e c o n d s ( )   >   0 ; 
                     } 
 
                     i f   ( s e l f . s e l e c t e d D a t e s )   { 
                         s e l f . s e l e c t e d D a t e s   =   s e l f . s e l e c t e d D a t e s . f i l t e r ( f u n c t i o n   ( d )   { 
                             r e t u r n   i s E n a b l e d ( d ) ; 
                         } ) ; 
                         i f   ( ! s e l f . s e l e c t e d D a t e s . l e n g t h   & &   t y p e   = = =   " m i n " )   s e t H o u r s F r o m D a t e ( d a t e O b j ) ; 
                         u p d a t e V a l u e ( ) ; 
                     } 
 
                     i f   ( s e l f . d a y s C o n t a i n e r )   { 
                         r e d r a w ( ) ; 
                         i f   ( d a t e O b j   ! = =   u n d e f i n e d )   s e l f . c u r r e n t Y e a r E l e m e n t [ t y p e ]   =   d a t e O b j . g e t F u l l Y e a r ( ) . t o S t r i n g ( ) ; e l s e   s e l f . c u r r e n t Y e a r E l e m e n t . r e m o v e A t t r i b u t e ( t y p e ) ; 
                         s e l f . c u r r e n t Y e a r E l e m e n t . d i s a b l e d   =   ! ! i n v e r s e D a t e O b j   & &   d a t e O b j   ! = =   u n d e f i n e d   & &   i n v e r s e D a t e O b j . g e t F u l l Y e a r ( )   = = =   d a t e O b j . g e t F u l l Y e a r ( ) ; 
                     } 
                 } ; 
             } 
 
             f u n c t i o n   p a r s e C o n f i g ( )   { 
                 v a r   b o o l O p t s   =   [ " w r a p " ,   " w e e k N u m b e r s " ,   " a l l o w I n p u t " ,   " c l i c k O p e n s " ,   " t i m e _ 2 4 h r " ,   " e n a b l e T i m e " ,   " n o C a l e n d a r " ,   " a l t I n p u t " ,   " s h o r t h a n d C u r r e n t M o n t h " ,   " i n l i n e " ,   " s t a t i c " ,   " e n a b l e S e c o n d s " ,   " d i s a b l e M o b i l e " ] ; 
                 v a r   u s e r C o n f i g   =   O b j e c t . a s s i g n ( { } ,   i n s t a n c e C o n f i g ,   J S O N . p a r s e ( J S O N . s t r i n g i f y ( e l e m e n t . d a t a s e t   | |   { } ) ) ) ; 
                 v a r   f o r m a t s $ $ 1   =   { } ; 
                 s e l f . c o n f i g . p a r s e D a t e   =   u s e r C o n f i g . p a r s e D a t e ; 
                 s e l f . c o n f i g . f o r m a t D a t e   =   u s e r C o n f i g . f o r m a t D a t e ; 
                 O b j e c t . d e f i n e P r o p e r t y ( s e l f . c o n f i g ,   " e n a b l e " ,   { 
                     g e t :   f u n c t i o n   g e t ( )   { 
                         r e t u r n   s e l f . c o n f i g . _ e n a b l e ; 
                     } , 
                     s e t :   f u n c t i o n   s e t ( d a t e s )   { 
                         s e l f . c o n f i g . _ e n a b l e   =   p a r s e D a t e R u l e s ( d a t e s ) ; 
                     } 
                 } ) ; 
                 O b j e c t . d e f i n e P r o p e r t y ( s e l f . c o n f i g ,   " d i s a b l e " ,   { 
                     g e t :   f u n c t i o n   g e t ( )   { 
                         r e t u r n   s e l f . c o n f i g . _ d i s a b l e ; 
                     } , 
                     s e t :   f u n c t i o n   s e t ( d a t e s )   { 
                         s e l f . c o n f i g . _ d i s a b l e   =   p a r s e D a t e R u l e s ( d a t e s ) ; 
                     } 
                 } ) ; 
                 v a r   t i m e M o d e   =   u s e r C o n f i g . m o d e   = = =   " t i m e " ; 
 
                 i f   ( ! u s e r C o n f i g . d a t e F o r m a t   & &   ( u s e r C o n f i g . e n a b l e T i m e   | |   t i m e M o d e ) )   { 
                     f o r m a t s $ $ 1 . d a t e F o r m a t   =   u s e r C o n f i g . n o C a l e n d a r   | |   t i m e M o d e   ?   " H : i "   +   ( u s e r C o n f i g . e n a b l e S e c o n d s   ?   " : S "   :   " " )   :   f l a t p i c k r . d e f a u l t C o n f i g . d a t e F o r m a t   +   "   H : i "   +   ( u s e r C o n f i g . e n a b l e S e c o n d s   ?   " : S "   :   " " ) ; 
                 } 
 
                 i f   ( u s e r C o n f i g . a l t I n p u t   & &   ( u s e r C o n f i g . e n a b l e T i m e   | |   t i m e M o d e )   & &   ! u s e r C o n f i g . a l t F o r m a t )   { 
                     f o r m a t s $ $ 1 . a l t F o r m a t   =   u s e r C o n f i g . n o C a l e n d a r   | |   t i m e M o d e   ?   " h : i "   +   ( u s e r C o n f i g . e n a b l e S e c o n d s   ?   " : S   K "   :   "   K " )   :   f l a t p i c k r . d e f a u l t C o n f i g . a l t F o r m a t   +   ( "   h : i "   +   ( u s e r C o n f i g . e n a b l e S e c o n d s   ?   " : S "   :   " " )   +   "   K " ) ; 
                 } 
 
                 O b j e c t . d e f i n e P r o p e r t y ( s e l f . c o n f i g ,   " m i n D a t e " ,   { 
                     g e t :   f u n c t i o n   g e t ( )   { 
                         r e t u r n   s e l f . c o n f i g . _ m i n D a t e ; 
                     } , 
                     s e t :   m i n M a x D a t e S e t t e r ( " m i n " ) 
                 } ) ; 
                 O b j e c t . d e f i n e P r o p e r t y ( s e l f . c o n f i g ,   " m a x D a t e " ,   { 
                     g e t :   f u n c t i o n   g e t ( )   { 
                         r e t u r n   s e l f . c o n f i g . _ m a x D a t e ; 
                     } , 
                     s e t :   m i n M a x D a t e S e t t e r ( " m a x " ) 
                 } ) ; 
 
                 v a r   m i n M a x T i m e S e t t e r   =   f u n c t i o n   m i n M a x T i m e S e t t e r ( t y p e )   { 
                     r e t u r n   f u n c t i o n   ( v a l )   { 
                         s e l f . c o n f i g [ t y p e   = = =   " m i n "   ?   " _ m i n T i m e "   :   " _ m a x T i m e " ]   =   s e l f . p a r s e D a t e ( v a l ,   " H : i " ) ; 
                     } ; 
                 } ; 
 
                 O b j e c t . d e f i n e P r o p e r t y ( s e l f . c o n f i g ,   " m i n T i m e " ,   { 
                     g e t :   f u n c t i o n   g e t ( )   { 
                         r e t u r n   s e l f . c o n f i g . _ m i n T i m e ; 
                     } , 
                     s e t :   m i n M a x T i m e S e t t e r ( " m i n " ) 
                 } ) ; 
                 O b j e c t . d e f i n e P r o p e r t y ( s e l f . c o n f i g ,   " m a x T i m e " ,   { 
                     g e t :   f u n c t i o n   g e t ( )   { 
                         r e t u r n   s e l f . c o n f i g . _ m a x T i m e ; 
                     } , 
                     s e t :   m i n M a x T i m e S e t t e r ( " m a x " ) 
                 } ) ; 
 
                 i f   ( u s e r C o n f i g . m o d e   = = =   " t i m e " )   { 
                     s e l f . c o n f i g . n o C a l e n d a r   =   t r u e ; 
                     s e l f . c o n f i g . e n a b l e T i m e   =   t r u e ; 
                 } 
 
                 O b j e c t . a s s i g n ( s e l f . c o n f i g ,   f o r m a t s $ $ 1 ,   u s e r C o n f i g ) ; 
 
                 f o r   ( v a r   i   =   0 ;   i   <   b o o l O p t s . l e n g t h ;   i + + )   { 
                     s e l f . c o n f i g [ b o o l O p t s [ i ] ]   =   s e l f . c o n f i g [ b o o l O p t s [ i ] ]   = = =   t r u e   | |   s e l f . c o n f i g [ b o o l O p t s [ i ] ]   = = =   " t r u e " ; 
                 } 
 
                 H O O K S . f i l t e r ( f u n c t i o n   ( h o o k )   { 
                     r e t u r n   s e l f . c o n f i g [ h o o k ]   ! = =   u n d e f i n e d ; 
                 } ) . f o r E a c h ( f u n c t i o n   ( h o o k )   { 
                     s e l f . c o n f i g [ h o o k ]   =   a r r a y i f y ( s e l f . c o n f i g [ h o o k ]   | |   [ ] ) . m a p ( b i n d T o I n s t a n c e ) ; 
                 } ) ; 
                 s e l f . i s M o b i l e   =   ! s e l f . c o n f i g . d i s a b l e M o b i l e   & &   ! s e l f . c o n f i g . i n l i n e   & &   s e l f . c o n f i g . m o d e   = = =   " s i n g l e "   & &   ! s e l f . c o n f i g . d i s a b l e . l e n g t h   & &   ! s e l f . c o n f i g . e n a b l e . l e n g t h   & &   ! s e l f . c o n f i g . w e e k N u m b e r s   & &   / A n d r o i d | w e b O S | i P h o n e | i P a d | i P o d | B l a c k B e r r y | I E M o b i l e | O p e r a   M i n i / i . t e s t ( n a v i g a t o r . u s e r A g e n t ) ; 
 
                 f o r   ( v a r   _ i   =   0 ;   _ i   <   s e l f . c o n f i g . p l u g i n s . l e n g t h ;   _ i + + )   { 
                     v a r   p l u g i n C o n f   =   s e l f . c o n f i g . p l u g i n s [ _ i ] ( s e l f )   | |   { } ; 
 
                     f o r   ( v a r   k e y   i n   p l u g i n C o n f )   { 
                         i f   ( H O O K S . i n d e x O f ( k e y )   >   - 1 )   { 
                             s e l f . c o n f i g [ k e y ]   =   a r r a y i f y ( p l u g i n C o n f [ k e y ] ) . m a p ( b i n d T o I n s t a n c e ) . c o n c a t ( s e l f . c o n f i g [ k e y ] ) ; 
                         }   e l s e   i f   ( t y p e o f   u s e r C o n f i g [ k e y ]   = = =   " u n d e f i n e d " )   s e l f . c o n f i g [ k e y ]   =   p l u g i n C o n f [ k e y ] ; 
                     } 
                 } 
 
                 t r i g g e r E v e n t ( " o n P a r s e C o n f i g " ) ; 
             } 
 
             f u n c t i o n   s e t u p L o c a l e ( )   { 
                 i f   ( t y p e o f   s e l f . c o n f i g . l o c a l e   ! = =   " o b j e c t "   & &   t y p e o f   f l a t p i c k r . l 1 0 n s [ s e l f . c o n f i g . l o c a l e ]   = = =   " u n d e f i n e d " )   s e l f . c o n f i g . e r r o r H a n d l e r ( n e w   E r r o r ( " f l a t p i c k r :   i n v a l i d   l o c a l e   "   +   s e l f . c o n f i g . l o c a l e ) ) ; 
                 s e l f . l 1 0 n   =   O b j e c t . a s s i g n ( { } ,   f l a t p i c k r . l 1 0 n s . d e f a u l t ,   t y p e o f   s e l f . c o n f i g . l o c a l e   = = =   " o b j e c t "   ?   s e l f . c o n f i g . l o c a l e   :   s e l f . c o n f i g . l o c a l e   ! = =   " d e f a u l t "   ?   f l a t p i c k r . l 1 0 n s [ s e l f . c o n f i g . l o c a l e ]   :   u n d e f i n e d ) ; 
                 t o k e n R e g e x . K   =   " ( "   +   s e l f . l 1 0 n . a m P M [ 0 ]   +   " | "   +   s e l f . l 1 0 n . a m P M [ 1 ]   +   " | "   +   s e l f . l 1 0 n . a m P M [ 0 ] . t o L o w e r C a s e ( )   +   " | "   +   s e l f . l 1 0 n . a m P M [ 1 ] . t o L o w e r C a s e ( )   +   " ) " ; 
                 s e l f . f o r m a t D a t e   =   c r e a t e D a t e F o r m a t t e r ( s e l f ) ; 
                 s e l f . p a r s e D a t e   =   c r e a t e D a t e P a r s e r ( { 
                     c o n f i g :   s e l f . c o n f i g , 
                     l 1 0 n :   s e l f . l 1 0 n 
                 } ) ; 
             } 
 
             f u n c t i o n   p o s i t i o n C a l e n d a r ( c u s t o m P o s i t i o n E l e m e n t )   { 
                 i f   ( s e l f . c a l e n d a r C o n t a i n e r   = = =   u n d e f i n e d )   r e t u r n ; 
                 t r i g g e r E v e n t ( " o n P r e C a l e n d a r P o s i t i o n " ) ; 
                 v a r   p o s i t i o n E l e m e n t   =   c u s t o m P o s i t i o n E l e m e n t   | |   s e l f . _ p o s i t i o n E l e m e n t ; 
                 v a r   c a l e n d a r H e i g h t   =   A r r a y . p r o t o t y p e . r e d u c e . c a l l ( s e l f . c a l e n d a r C o n t a i n e r . c h i l d r e n ,   f u n c t i o n   ( a c c ,   c h i l d )   { 
                     r e t u r n   a c c   +   c h i l d . o f f s e t H e i g h t ; 
                 } ,   0 ) , 
                         c a l e n d a r W i d t h   =   s e l f . c a l e n d a r C o n t a i n e r . o f f s e t W i d t h , 
                         c o n f i g P o s   =   s e l f . c o n f i g . p o s i t i o n . s p l i t ( "   " ) , 
                         c o n f i g P o s V e r t i c a l   =   c o n f i g P o s [ 0 ] , 
                         c o n f i g P o s H o r i z o n t a l   =   c o n f i g P o s . l e n g t h   >   1   ?   c o n f i g P o s [ 1 ]   :   n u l l , 
                         i n p u t B o u n d s   =   p o s i t i o n E l e m e n t . g e t B o u n d i n g C l i e n t R e c t ( ) , 
                         d i s t a n c e F r o m B o t t o m   =   w i n d o w . i n n e r H e i g h t   -   i n p u t B o u n d s . b o t t o m , 
                         s h o w O n T o p   =   c o n f i g P o s V e r t i c a l   = = =   " a b o v e "   | |   c o n f i g P o s V e r t i c a l   ! = =   " b e l o w "   & &   d i s t a n c e F r o m B o t t o m   <   c a l e n d a r H e i g h t   & &   i n p u t B o u n d s . t o p   >   c a l e n d a r H e i g h t ; 
                 v a r   t o p   =   w i n d o w . p a g e Y O f f s e t   +   i n p u t B o u n d s . t o p   +   ( ! s h o w O n T o p   ?   p o s i t i o n E l e m e n t . o f f s e t H e i g h t   +   2   :   - c a l e n d a r H e i g h t   -   2 ) ; 
                 t o g g l e C l a s s ( s e l f . c a l e n d a r C o n t a i n e r ,   " a r r o w T o p " ,   ! s h o w O n T o p ) ; 
                 t o g g l e C l a s s ( s e l f . c a l e n d a r C o n t a i n e r ,   " a r r o w B o t t o m " ,   s h o w O n T o p ) ; 
                 i f   ( s e l f . c o n f i g . i n l i n e )   r e t u r n ; 
                 v a r   l e f t   =   w i n d o w . p a g e X O f f s e t   +   i n p u t B o u n d s . l e f t   -   ( c o n f i g P o s H o r i z o n t a l   ! =   n u l l   & &   c o n f i g P o s H o r i z o n t a l   = = =   " c e n t e r "   ?   ( c a l e n d a r W i d t h   -   i n p u t B o u n d s . w i d t h )   /   2   :   0 ) ; 
                 v a r   r i g h t   =   w i n d o w . d o c u m e n t . b o d y . o f f s e t W i d t h   -   i n p u t B o u n d s . r i g h t ; 
                 v a r   r i g h t M o s t   =   l e f t   +   c a l e n d a r W i d t h   >   w i n d o w . d o c u m e n t . b o d y . o f f s e t W i d t h ; 
                 t o g g l e C l a s s ( s e l f . c a l e n d a r C o n t a i n e r ,   " r i g h t M o s t " ,   r i g h t M o s t ) ; 
                 i f   ( s e l f . c o n f i g . s t a t i c )   r e t u r n ; 
                 s e l f . c a l e n d a r C o n t a i n e r . s t y l e . t o p   =   t o p   +   " p x " ; 
 
                 i f   ( ! r i g h t M o s t )   { 
                     s e l f . c a l e n d a r C o n t a i n e r . s t y l e . l e f t   =   l e f t   +   " p x " ; 
                     s e l f . c a l e n d a r C o n t a i n e r . s t y l e . r i g h t   =   " a u t o " ; 
                 }   e l s e   { 
                     s e l f . c a l e n d a r C o n t a i n e r . s t y l e . l e f t   =   " a u t o " ; 
                     s e l f . c a l e n d a r C o n t a i n e r . s t y l e . r i g h t   =   r i g h t   +   " p x " ; 
                 } 
             } 
 
             f u n c t i o n   r e d r a w ( )   { 
                 i f   ( s e l f . c o n f i g . n o C a l e n d a r   | |   s e l f . i s M o b i l e )   r e t u r n ; 
                 u p d a t e N a v i g a t i o n C u r r e n t M o n t h ( ) ; 
                 b u i l d D a y s ( ) ; 
             } 
 
             f u n c t i o n   f o c u s A n d C l o s e ( )   { 
                 s e l f . _ i n p u t . f o c u s ( ) ; 
 
                 i f   ( w i n d o w . n a v i g a t o r . u s e r A g e n t . i n d e x O f ( " M S I E " )   ! = =   - 1   | |   n a v i g a t o r . m s M a x T o u c h P o i n t s   ! = =   u n d e f i n e d )   { 
                     s e t T i m e o u t ( s e l f . c l o s e ,   0 ) ; 
                 }   e l s e   { 
                     s e l f . c l o s e ( ) ; 
                 } 
             } 
 
             f u n c t i o n   s e l e c t D a t e ( e )   { 
                 e . p r e v e n t D e f a u l t ( ) ; 
                 e . s t o p P r o p a g a t i o n ( ) ; 
 
                 v a r   i s S e l e c t a b l e   =   f u n c t i o n   i s S e l e c t a b l e ( d a y )   { 
                     r e t u r n   d a y . c l a s s L i s t   & &   d a y . c l a s s L i s t . c o n t a i n s ( " f l a t p i c k r - d a y " )   & &   ! d a y . c l a s s L i s t . c o n t a i n s ( " d i s a b l e d " )   & &   ! d a y . c l a s s L i s t . c o n t a i n s ( " n o t A l l o w e d " ) ; 
                 } ; 
 
                 v a r   t   =   f i n d P a r e n t ( e . t a r g e t ,   i s S e l e c t a b l e ) ; 
                 i f   ( t   = = =   u n d e f i n e d )   r e t u r n ; 
                 v a r   t a r g e t   =   t ; 
                 v a r   s e l e c t e d D a t e   =   s e l f . l a t e s t S e l e c t e d D a t e O b j   =   n e w   D a t e ( t a r g e t . d a t e O b j . g e t T i m e ( ) ) ; 
                 v a r   s h o u l d C h a n g e M o n t h   =   ( s e l e c t e d D a t e . g e t M o n t h ( )   <   s e l f . c u r r e n t M o n t h   | |   s e l e c t e d D a t e . g e t M o n t h ( )   >   s e l f . c u r r e n t M o n t h   +   s e l f . c o n f i g . s h o w M o n t h s   -   1 )   & &   s e l f . c o n f i g . m o d e   ! = =   " r a n g e " ; 
                 s e l f . s e l e c t e d D a t e E l e m   =   t a r g e t ; 
                 i f   ( s e l f . c o n f i g . m o d e   = = =   " s i n g l e " )   s e l f . s e l e c t e d D a t e s   =   [ s e l e c t e d D a t e ] ; e l s e   i f   ( s e l f . c o n f i g . m o d e   = = =   " m u l t i p l e " )   { 
                     v a r   s e l e c t e d I n d e x   =   i s D a t e S e l e c t e d ( s e l e c t e d D a t e ) ; 
                     i f   ( s e l e c t e d I n d e x )   s e l f . s e l e c t e d D a t e s . s p l i c e ( p a r s e I n t ( s e l e c t e d I n d e x ) ,   1 ) ; e l s e   s e l f . s e l e c t e d D a t e s . p u s h ( s e l e c t e d D a t e ) ; 
                 }   e l s e   i f   ( s e l f . c o n f i g . m o d e   = = =   " r a n g e " )   { 
                     i f   ( s e l f . s e l e c t e d D a t e s . l e n g t h   = = =   2 )   s e l f . c l e a r ( f a l s e ) ; 
                     s e l f . s e l e c t e d D a t e s . p u s h ( s e l e c t e d D a t e ) ; 
                     i f   ( c o m p a r e D a t e s ( s e l e c t e d D a t e ,   s e l f . s e l e c t e d D a t e s [ 0 ] ,   t r u e )   ! = =   0 )   s e l f . s e l e c t e d D a t e s . s o r t ( f u n c t i o n   ( a ,   b )   { 
                         r e t u r n   a . g e t T i m e ( )   -   b . g e t T i m e ( ) ; 
                     } ) ; 
                 } 
                 s e t H o u r s F r o m I n p u t s ( ) ; 
 
                 i f   ( s h o u l d C h a n g e M o n t h )   { 
                     v a r   i s N e w Y e a r   =   s e l f . c u r r e n t Y e a r   ! = =   s e l e c t e d D a t e . g e t F u l l Y e a r ( ) ; 
                     s e l f . c u r r e n t Y e a r   =   s e l e c t e d D a t e . g e t F u l l Y e a r ( ) ; 
                     s e l f . c u r r e n t M o n t h   =   s e l e c t e d D a t e . g e t M o n t h ( ) ; 
                     i f   ( i s N e w Y e a r )   t r i g g e r E v e n t ( " o n Y e a r C h a n g e " ) ; 
                     t r i g g e r E v e n t ( " o n M o n t h C h a n g e " ) ; 
                 } 
 
                 u p d a t e N a v i g a t i o n C u r r e n t M o n t h ( ) ; 
                 b u i l d D a y s ( ) ; 
                 u p d a t e V a l u e ( ) ; 
                 i f   ( s e l f . c o n f i g . e n a b l e T i m e )   s e t T i m e o u t ( f u n c t i o n   ( )   { 
                     r e t u r n   s e l f . s h o w T i m e I n p u t   =   t r u e ; 
                 } ,   5 0 ) ; 
                 i f   ( ! s h o u l d C h a n g e M o n t h   & &   s e l f . c o n f i g . m o d e   ! = =   " r a n g e "   & &   s e l f . c o n f i g . s h o w M o n t h s   = = =   1 )   f o c u s O n D a y E l e m ( t a r g e t ) ; e l s e   s e l f . s e l e c t e d D a t e E l e m   & &   s e l f . s e l e c t e d D a t e E l e m . f o c u s ( ) ; 
                 i f   ( s e l f . h o u r E l e m e n t   ! = =   u n d e f i n e d )   s e t T i m e o u t ( f u n c t i o n   ( )   { 
                     r e t u r n   s e l f . h o u r E l e m e n t   ! = =   u n d e f i n e d   & &   s e l f . h o u r E l e m e n t . s e l e c t ( ) ; 
                 } ,   4 5 1 ) ; 
 
                 i f   ( s e l f . c o n f i g . c l o s e O n S e l e c t )   { 
                     v a r   s i n g l e   =   s e l f . c o n f i g . m o d e   = = =   " s i n g l e "   & &   ! s e l f . c o n f i g . e n a b l e T i m e ; 
                     v a r   r a n g e   =   s e l f . c o n f i g . m o d e   = = =   " r a n g e "   & &   s e l f . s e l e c t e d D a t e s . l e n g t h   = = =   2   & &   ! s e l f . c o n f i g . e n a b l e T i m e ; 
 
                     i f   ( s i n g l e   | |   r a n g e )   { 
                         f o c u s A n d C l o s e ( ) ; 
                     } 
                 } 
 
                 t r i g g e r C h a n g e ( ) ; 
             } 
 
             v a r   C A L L B A C K S   =   { 
                 l o c a l e :   [ s e t u p L o c a l e ,   u p d a t e W e e k d a y s ] , 
                 s h o w M o n t h s :   [ b u i l d M o n t h s ,   s e t C a l e n d a r W i d t h ,   b u i l d W e e k d a y s ] 
             } ; 
 
             f u n c t i o n   s e t ( o p t i o n ,   v a l u e )   { 
                 i f   ( o p t i o n   ! = =   n u l l   & &   t y p e o f   o p t i o n   = = =   " o b j e c t " )   O b j e c t . a s s i g n ( s e l f . c o n f i g ,   o p t i o n ) ; e l s e   { 
                     s e l f . c o n f i g [ o p t i o n ]   =   v a l u e ; 
                     i f   ( C A L L B A C K S [ o p t i o n ]   ! = =   u n d e f i n e d )   C A L L B A C K S [ o p t i o n ] . f o r E a c h ( f u n c t i o n   ( x )   { 
                         r e t u r n   x ( ) ; 
                     } ) ; e l s e   i f   ( H O O K S . i n d e x O f ( o p t i o n )   >   - 1 )   s e l f . c o n f i g [ o p t i o n ]   =   a r r a y i f y ( v a l u e ) ; 
                 } 
                 s e l f . r e d r a w ( ) ; 
                 j u m p T o D a t e ( ) ; 
                 u p d a t e V a l u e ( f a l s e ) ; 
             } 
 
             f u n c t i o n   s e t S e l e c t e d D a t e ( i n p u t D a t e ,   f o r m a t )   { 
                 v a r   d a t e s   =   [ ] ; 
                 i f   ( i n p u t D a t e   i n s t a n c e o f   A r r a y )   d a t e s   =   i n p u t D a t e . m a p ( f u n c t i o n   ( d )   { 
                     r e t u r n   s e l f . p a r s e D a t e ( d ,   f o r m a t ) ; 
                 } ) ; e l s e   i f   ( i n p u t D a t e   i n s t a n c e o f   D a t e   | |   t y p e o f   i n p u t D a t e   = = =   " n u m b e r " )   d a t e s   =   [ s e l f . p a r s e D a t e ( i n p u t D a t e ,   f o r m a t ) ] ; e l s e   i f   ( t y p e o f   i n p u t D a t e   = = =   " s t r i n g " )   { 
                     s w i t c h   ( s e l f . c o n f i g . m o d e )   { 
                         c a s e   " s i n g l e " : 
                         c a s e   " t i m e " : 
                             d a t e s   =   [ s e l f . p a r s e D a t e ( i n p u t D a t e ,   f o r m a t ) ] ; 
                             b r e a k ; 
 
                         c a s e   " m u l t i p l e " : 
                             d a t e s   =   i n p u t D a t e . s p l i t ( s e l f . c o n f i g . c o n j u n c t i o n ) . m a p ( f u n c t i o n   ( d a t e )   { 
                                 r e t u r n   s e l f . p a r s e D a t e ( d a t e ,   f o r m a t ) ; 
                             } ) ; 
                             b r e a k ; 
 
                         c a s e   " r a n g e " : 
                             d a t e s   =   i n p u t D a t e . s p l i t ( s e l f . l 1 0 n . r a n g e S e p a r a t o r ) . m a p ( f u n c t i o n   ( d a t e )   { 
                                 r e t u r n   s e l f . p a r s e D a t e ( d a t e ,   f o r m a t ) ; 
                             } ) ; 
                             b r e a k ; 
 
                         d e f a u l t : 
                             b r e a k ; 
                     } 
                 }   e l s e   s e l f . c o n f i g . e r r o r H a n d l e r ( n e w   E r r o r ( " I n v a l i d   d a t e   s u p p l i e d :   "   +   J S O N . s t r i n g i f y ( i n p u t D a t e ) ) ) ; 
                 s e l f . s e l e c t e d D a t e s   =   d a t e s . f i l t e r ( f u n c t i o n   ( d )   { 
                     r e t u r n   d   i n s t a n c e o f   D a t e   & &   i s E n a b l e d ( d ,   f a l s e ) ; 
                 } ) ; 
                 i f   ( s e l f . c o n f i g . m o d e   = = =   " r a n g e " )   s e l f . s e l e c t e d D a t e s . s o r t ( f u n c t i o n   ( a ,   b )   { 
                     r e t u r n   a . g e t T i m e ( )   -   b . g e t T i m e ( ) ; 
                 } ) ; 
             } 
 
             f u n c t i o n   s e t D a t e ( d a t e ,   t r i g g e r C h a n g e ,   f o r m a t )   { 
                 i f   ( t r i g g e r C h a n g e   = = =   v o i d   0 )   { 
                     t r i g g e r C h a n g e   =   f a l s e ; 
                 } 
 
                 i f   ( f o r m a t   = = =   v o i d   0 )   { 
                     f o r m a t   =   s e l f . c o n f i g . d a t e F o r m a t ; 
                 } 
 
                 i f   ( d a t e   ! = =   0   & &   ! d a t e   | |   d a t e   i n s t a n c e o f   A r r a y   & &   d a t e . l e n g t h   = = =   0 )   r e t u r n   s e l f . c l e a r ( t r i g g e r C h a n g e ) ; 
                 s e t S e l e c t e d D a t e ( d a t e ,   f o r m a t ) ; 
                 s e l f . s h o w T i m e I n p u t   =   s e l f . s e l e c t e d D a t e s . l e n g t h   >   0 ; 
                 s e l f . l a t e s t S e l e c t e d D a t e O b j   =   s e l f . s e l e c t e d D a t e s [ 0 ] ; 
                 s e l f . r e d r a w ( ) ; 
                 j u m p T o D a t e ( ) ; 
                 s e t H o u r s F r o m D a t e ( ) ; 
                 u p d a t e V a l u e ( t r i g g e r C h a n g e ) ; 
                 i f   ( t r i g g e r C h a n g e )   t r i g g e r E v e n t ( " o n C h a n g e " ) ; 
             } 
 
             f u n c t i o n   p a r s e D a t e R u l e s ( a r r )   { 
                 r e t u r n   a r r . s l i c e ( ) . m a p ( f u n c t i o n   ( r u l e )   { 
                     i f   ( t y p e o f   r u l e   = = =   " s t r i n g "   | |   t y p e o f   r u l e   = = =   " n u m b e r "   | |   r u l e   i n s t a n c e o f   D a t e )   { 
                         r e t u r n   s e l f . p a r s e D a t e ( r u l e ,   u n d e f i n e d ,   t r u e ) ; 
                     }   e l s e   i f   ( r u l e   & &   t y p e o f   r u l e   = = =   " o b j e c t "   & &   r u l e . f r o m   & &   r u l e . t o )   r e t u r n   { 
                         f r o m :   s e l f . p a r s e D a t e ( r u l e . f r o m ,   u n d e f i n e d ) , 
                         t o :   s e l f . p a r s e D a t e ( r u l e . t o ,   u n d e f i n e d ) 
                     } ; 
 
                     r e t u r n   r u l e ; 
                 } ) . f i l t e r ( f u n c t i o n   ( x )   { 
                     r e t u r n   x ; 
                 } ) ; 
             } 
 
             f u n c t i o n   s e t u p D a t e s ( )   { 
                 s e l f . s e l e c t e d D a t e s   =   [ ] ; 
                 s e l f . n o w   =   s e l f . p a r s e D a t e ( s e l f . c o n f i g . n o w )   | |   n e w   D a t e ( ) ; 
                 v a r   p r e l o a d e d D a t e   =   s e l f . c o n f i g . d e f a u l t D a t e   | |   ( ( s e l f . i n p u t . n o d e N a m e   = = =   " I N P U T "   | |   s e l f . i n p u t . n o d e N a m e   = = =   " T E X T A R E A " )   & &   s e l f . i n p u t . p l a c e h o l d e r   & &   s e l f . i n p u t . v a l u e   = = =   s e l f . i n p u t . p l a c e h o l d e r   ?   n u l l   :   s e l f . i n p u t . v a l u e ) ; 
                 i f   ( p r e l o a d e d D a t e )   s e t S e l e c t e d D a t e ( p r e l o a d e d D a t e ,   s e l f . c o n f i g . d a t e F o r m a t ) ; 
                 v a r   i n i t i a l D a t e   =   s e l f . s e l e c t e d D a t e s . l e n g t h   >   0   ?   s e l f . s e l e c t e d D a t e s [ 0 ]   :   s e l f . c o n f i g . m i n D a t e   & &   s e l f . c o n f i g . m i n D a t e . g e t T i m e ( )   >   s e l f . n o w . g e t T i m e ( )   ?   s e l f . c o n f i g . m i n D a t e   :   s e l f . c o n f i g . m a x D a t e   & &   s e l f . c o n f i g . m a x D a t e . g e t T i m e ( )   <   s e l f . n o w . g e t T i m e ( )   ?   s e l f . c o n f i g . m a x D a t e   :   s e l f . n o w ; 
                 s e l f . c u r r e n t Y e a r   =   i n i t i a l D a t e . g e t F u l l Y e a r ( ) ; 
                 s e l f . c u r r e n t M o n t h   =   i n i t i a l D a t e . g e t M o n t h ( ) ; 
                 i f   ( s e l f . s e l e c t e d D a t e s . l e n g t h   >   0 )   s e l f . l a t e s t S e l e c t e d D a t e O b j   =   s e l f . s e l e c t e d D a t e s [ 0 ] ; 
                 i f   ( s e l f . c o n f i g . m i n T i m e   ! = =   u n d e f i n e d )   s e l f . c o n f i g . m i n T i m e   =   s e l f . p a r s e D a t e ( s e l f . c o n f i g . m i n T i m e ,   " H : i " ) ; 
                 i f   ( s e l f . c o n f i g . m a x T i m e   ! = =   u n d e f i n e d )   s e l f . c o n f i g . m a x T i m e   =   s e l f . p a r s e D a t e ( s e l f . c o n f i g . m a x T i m e ,   " H : i " ) ; 
                 s e l f . m i n D a t e H a s T i m e   =   ! ! s e l f . c o n f i g . m i n D a t e   & &   ( s e l f . c o n f i g . m i n D a t e . g e t H o u r s ( )   >   0   | |   s e l f . c o n f i g . m i n D a t e . g e t M i n u t e s ( )   >   0   | |   s e l f . c o n f i g . m i n D a t e . g e t S e c o n d s ( )   >   0 ) ; 
                 s e l f . m a x D a t e H a s T i m e   =   ! ! s e l f . c o n f i g . m a x D a t e   & &   ( s e l f . c o n f i g . m a x D a t e . g e t H o u r s ( )   >   0   | |   s e l f . c o n f i g . m a x D a t e . g e t M i n u t e s ( )   >   0   | |   s e l f . c o n f i g . m a x D a t e . g e t S e c o n d s ( )   >   0 ) ; 
                 O b j e c t . d e f i n e P r o p e r t y ( s e l f ,   " s h o w T i m e I n p u t " ,   { 
                     g e t :   f u n c t i o n   g e t ( )   { 
                         r e t u r n   s e l f . _ s h o w T i m e I n p u t ; 
                     } , 
                     s e t :   f u n c t i o n   s e t ( b o o l )   { 
                         s e l f . _ s h o w T i m e I n p u t   =   b o o l ; 
                         i f   ( s e l f . c a l e n d a r C o n t a i n e r )   t o g g l e C l a s s ( s e l f . c a l e n d a r C o n t a i n e r ,   " s h o w T i m e I n p u t " ,   b o o l ) ; 
                         s e l f . i s O p e n   & &   p o s i t i o n C a l e n d a r ( ) ; 
                     } 
                 } ) ; 
             } 
 
             f u n c t i o n   s e t u p I n p u t s ( )   { 
                 s e l f . i n p u t   =   s e l f . c o n f i g . w r a p   ?   e l e m e n t . q u e r y S e l e c t o r ( " [ d a t a - i n p u t ] " )   :   e l e m e n t ; 
 
                 i f   ( ! s e l f . i n p u t )   { 
                     s e l f . c o n f i g . e r r o r H a n d l e r ( n e w   E r r o r ( " I n v a l i d   i n p u t   e l e m e n t   s p e c i f i e d " ) ) ; 
                     r e t u r n ; 
                 } 
 
                 s e l f . i n p u t . _ t y p e   =   s e l f . i n p u t . t y p e ; 
                 s e l f . i n p u t . t y p e   =   " t e x t " ; 
                 s e l f . i n p u t . c l a s s L i s t . a d d ( " f l a t p i c k r - i n p u t " ) ; 
                 s e l f . _ i n p u t   =   s e l f . i n p u t ; 
 
                 i f   ( s e l f . c o n f i g . a l t I n p u t )   { 
                     s e l f . a l t I n p u t   =   c r e a t e E l e m e n t ( s e l f . i n p u t . n o d e N a m e ,   s e l f . i n p u t . c l a s s N a m e   +   "   "   +   s e l f . c o n f i g . a l t I n p u t C l a s s ) ; 
                     s e l f . _ i n p u t   =   s e l f . a l t I n p u t ; 
                     s e l f . a l t I n p u t . p l a c e h o l d e r   =   s e l f . i n p u t . p l a c e h o l d e r ; 
                     s e l f . a l t I n p u t . d i s a b l e d   =   s e l f . i n p u t . d i s a b l e d ; 
                     s e l f . a l t I n p u t . r e q u i r e d   =   s e l f . i n p u t . r e q u i r e d ; 
                     s e l f . a l t I n p u t . t a b I n d e x   =   s e l f . i n p u t . t a b I n d e x ; 
                     s e l f . a l t I n p u t . t y p e   =   " t e x t " ; 
                     s e l f . i n p u t . s e t A t t r i b u t e ( " t y p e " ,   " h i d d e n " ) ; 
                     i f   ( ! s e l f . c o n f i g . s t a t i c   & &   s e l f . i n p u t . p a r e n t N o d e )   s e l f . i n p u t . p a r e n t N o d e . i n s e r t B e f o r e ( s e l f . a l t I n p u t ,   s e l f . i n p u t . n e x t S i b l i n g ) ; 
                 } 
 
                 i f   ( ! s e l f . c o n f i g . a l l o w I n p u t )   s e l f . _ i n p u t . s e t A t t r i b u t e ( " r e a d o n l y " ,   " r e a d o n l y " ) ; 
                 s e l f . _ p o s i t i o n E l e m e n t   =   s e l f . c o n f i g . p o s i t i o n E l e m e n t   | |   s e l f . _ i n p u t ; 
             } 
 
             f u n c t i o n   s e t u p M o b i l e ( )   { 
                 v a r   i n p u t T y p e   =   s e l f . c o n f i g . e n a b l e T i m e   ?   s e l f . c o n f i g . n o C a l e n d a r   ?   " t i m e "   :   " d a t e t i m e - l o c a l "   :   " d a t e " ; 
                 s e l f . m o b i l e I n p u t   =   c r e a t e E l e m e n t ( " i n p u t " ,   s e l f . i n p u t . c l a s s N a m e   +   "   f l a t p i c k r - m o b i l e " ) ; 
                 s e l f . m o b i l e I n p u t . s t e p   =   s e l f . i n p u t . g e t A t t r i b u t e ( " s t e p " )   | |   " a n y " ; 
                 s e l f . m o b i l e I n p u t . t a b I n d e x   =   1 ; 
                 s e l f . m o b i l e I n p u t . t y p e   =   i n p u t T y p e ; 
                 s e l f . m o b i l e I n p u t . d i s a b l e d   =   s e l f . i n p u t . d i s a b l e d ; 
                 s e l f . m o b i l e I n p u t . r e q u i r e d   =   s e l f . i n p u t . r e q u i r e d ; 
                 s e l f . m o b i l e I n p u t . p l a c e h o l d e r   =   s e l f . i n p u t . p l a c e h o l d e r ; 
                 s e l f . m o b i l e F o r m a t S t r   =   i n p u t T y p e   = = =   " d a t e t i m e - l o c a l "   ?   " Y - m - d \ \ T H : i : S "   :   i n p u t T y p e   = = =   " d a t e "   ?   " Y - m - d "   :   " H : i : S " ; 
 
                 i f   ( s e l f . s e l e c t e d D a t e s . l e n g t h   >   0 )   { 
                     s e l f . m o b i l e I n p u t . d e f a u l t V a l u e   =   s e l f . m o b i l e I n p u t . v a l u e   =   s e l f . f o r m a t D a t e ( s e l f . s e l e c t e d D a t e s [ 0 ] ,   s e l f . m o b i l e F o r m a t S t r ) ; 
                 } 
 
                 i f   ( s e l f . c o n f i g . m i n D a t e )   s e l f . m o b i l e I n p u t . m i n   =   s e l f . f o r m a t D a t e ( s e l f . c o n f i g . m i n D a t e ,   " Y - m - d " ) ; 
                 i f   ( s e l f . c o n f i g . m a x D a t e )   s e l f . m o b i l e I n p u t . m a x   =   s e l f . f o r m a t D a t e ( s e l f . c o n f i g . m a x D a t e ,   " Y - m - d " ) ; 
                 s e l f . i n p u t . t y p e   =   " h i d d e n " ; 
                 i f   ( s e l f . a l t I n p u t   ! = =   u n d e f i n e d )   s e l f . a l t I n p u t . t y p e   =   " h i d d e n " ; 
 
                 t r y   { 
                     i f   ( s e l f . i n p u t . p a r e n t N o d e )   s e l f . i n p u t . p a r e n t N o d e . i n s e r t B e f o r e ( s e l f . m o b i l e I n p u t ,   s e l f . i n p u t . n e x t S i b l i n g ) ; 
                 }   c a t c h   ( _ a )   { } 
 
                 b i n d ( s e l f . m o b i l e I n p u t ,   " c h a n g e " ,   f u n c t i o n   ( e )   { 
                     s e l f . s e t D a t e ( e . t a r g e t . v a l u e ,   f a l s e ,   s e l f . m o b i l e F o r m a t S t r ) ; 
                     t r i g g e r E v e n t ( " o n C h a n g e " ) ; 
                     t r i g g e r E v e n t ( " o n C l o s e " ) ; 
                 } ) ; 
             } 
 
             f u n c t i o n   t o g g l e ( e )   { 
                 i f   ( s e l f . i s O p e n   = = =   t r u e )   r e t u r n   s e l f . c l o s e ( ) ; 
                 s e l f . o p e n ( e ) ; 
             } 
 
             f u n c t i o n   t r i g g e r E v e n t ( e v e n t ,   d a t a )   { 
                 i f   ( s e l f . c o n f i g   = = =   u n d e f i n e d )   r e t u r n ; 
                 v a r   h o o k s   =   s e l f . c o n f i g [ e v e n t ] ; 
 
                 i f   ( h o o k s   ! = =   u n d e f i n e d   & &   h o o k s . l e n g t h   >   0 )   { 
                     f o r   ( v a r   i   =   0 ;   h o o k s [ i ]   & &   i   <   h o o k s . l e n g t h ;   i + + )   { 
                         h o o k s [ i ] ( s e l f . s e l e c t e d D a t e s ,   s e l f . i n p u t . v a l u e ,   s e l f ,   d a t a ) ; 
                     } 
                 } 
 
                 i f   ( e v e n t   = = =   " o n C h a n g e " )   { 
                     s e l f . i n p u t . d i s p a t c h E v e n t ( c r e a t e E v e n t ( " c h a n g e " ) ) ; 
                     s e l f . i n p u t . d i s p a t c h E v e n t ( c r e a t e E v e n t ( " i n p u t " ) ) ; 
                 } 
             } 
 
             f u n c t i o n   c r e a t e E v e n t ( n a m e )   { 
                 v a r   e   =   d o c u m e n t . c r e a t e E v e n t ( " E v e n t " ) ; 
                 e . i n i t E v e n t ( n a m e ,   t r u e ,   t r u e ) ; 
                 r e t u r n   e ; 
             } 
 
             f u n c t i o n   i s D a t e S e l e c t e d ( d a t e )   { 
                 f o r   ( v a r   i   =   0 ;   i   <   s e l f . s e l e c t e d D a t e s . l e n g t h ;   i + + )   { 
                     i f   ( c o m p a r e D a t e s ( s e l f . s e l e c t e d D a t e s [ i ] ,   d a t e )   = = =   0 )   r e t u r n   " "   +   i ; 
                 } 
 
                 r e t u r n   f a l s e ; 
             } 
 
             f u n c t i o n   i s D a t e I n R a n g e ( d a t e )   { 
                 i f   ( s e l f . c o n f i g . m o d e   ! = =   " r a n g e "   | |   s e l f . s e l e c t e d D a t e s . l e n g t h   <   2 )   r e t u r n   f a l s e ; 
                 r e t u r n   c o m p a r e D a t e s ( d a t e ,   s e l f . s e l e c t e d D a t e s [ 0 ] )   > =   0   & &   c o m p a r e D a t e s ( d a t e ,   s e l f . s e l e c t e d D a t e s [ 1 ] )   < =   0 ; 
             } 
 
             f u n c t i o n   u p d a t e N a v i g a t i o n C u r r e n t M o n t h ( )   { 
                 i f   ( s e l f . c o n f i g . n o C a l e n d a r   | |   s e l f . i s M o b i l e   | |   ! s e l f . m o n t h N a v )   r e t u r n ; 
                 s e l f . y e a r E l e m e n t s . f o r E a c h ( f u n c t i o n   ( y e a r E l e m e n t ,   i )   { 
                     v a r   d   =   n e w   D a t e ( s e l f . c u r r e n t Y e a r ,   s e l f . c u r r e n t M o n t h ,   1 ) ; 
                     d . s e t M o n t h ( s e l f . c u r r e n t M o n t h   +   i ) ; 
                     s e l f . m o n t h E l e m e n t s [ i ] . t e x t C o n t e n t   =   m o n t h T o S t r ( d . g e t M o n t h ( ) ,   s e l f . c o n f i g . s h o r t h a n d C u r r e n t M o n t h ,   s e l f . l 1 0 n )   +   "   " ; 
                     y e a r E l e m e n t . v a l u e   =   d . g e t F u l l Y e a r ( ) . t o S t r i n g ( ) ; 
                 } ) ; 
                 s e l f . _ h i d e P r e v M o n t h A r r o w   =   s e l f . c o n f i g . m i n D a t e   ! = =   u n d e f i n e d   & &   ( s e l f . c u r r e n t Y e a r   = = =   s e l f . c o n f i g . m i n D a t e . g e t F u l l Y e a r ( )   ?   s e l f . c u r r e n t M o n t h   < =   s e l f . c o n f i g . m i n D a t e . g e t M o n t h ( )   :   s e l f . c u r r e n t Y e a r   <   s e l f . c o n f i g . m i n D a t e . g e t F u l l Y e a r ( ) ) ; 
                 s e l f . _ h i d e N e x t M o n t h A r r o w   =   s e l f . c o n f i g . m a x D a t e   ! = =   u n d e f i n e d   & &   ( s e l f . c u r r e n t Y e a r   = = =   s e l f . c o n f i g . m a x D a t e . g e t F u l l Y e a r ( )   ?   s e l f . c u r r e n t M o n t h   +   1   >   s e l f . c o n f i g . m a x D a t e . g e t M o n t h ( )   :   s e l f . c u r r e n t Y e a r   >   s e l f . c o n f i g . m a x D a t e . g e t F u l l Y e a r ( ) ) ; 
             } 
 
             f u n c t i o n   g e t D a t e S t r ( f o r m a t )   { 
                 r e t u r n   s e l f . s e l e c t e d D a t e s . m a p ( f u n c t i o n   ( d O b j )   { 
                     r e t u r n   s e l f . f o r m a t D a t e ( d O b j ,   f o r m a t ) ; 
                 } ) . f i l t e r ( f u n c t i o n   ( d ,   i ,   a r r )   { 
                     r e t u r n   s e l f . c o n f i g . m o d e   ! = =   " r a n g e "   | |   s e l f . c o n f i g . e n a b l e T i m e   | |   a r r . i n d e x O f ( d )   = = =   i ; 
                 } ) . j o i n ( s e l f . c o n f i g . m o d e   ! = =   " r a n g e "   ?   s e l f . c o n f i g . c o n j u n c t i o n   :   s e l f . l 1 0 n . r a n g e S e p a r a t o r ) ; 
             } 
 
             f u n c t i o n   u p d a t e V a l u e ( t r i g g e r C h a n g e )   { 
                 i f   ( t r i g g e r C h a n g e   = = =   v o i d   0 )   { 
                     t r i g g e r C h a n g e   =   t r u e ; 
                 } 
 
                 i f   ( s e l f . s e l e c t e d D a t e s . l e n g t h   = = =   0 )   r e t u r n   s e l f . c l e a r ( t r i g g e r C h a n g e ) ; 
 
                 i f   ( s e l f . m o b i l e I n p u t   ! = =   u n d e f i n e d   & &   s e l f . m o b i l e F o r m a t S t r )   { 
                     s e l f . m o b i l e I n p u t . v a l u e   =   s e l f . l a t e s t S e l e c t e d D a t e O b j   ! = =   u n d e f i n e d   ?   s e l f . f o r m a t D a t e ( s e l f . l a t e s t S e l e c t e d D a t e O b j ,   s e l f . m o b i l e F o r m a t S t r )   :   " " ; 
                 } 
 
                 s e l f . i n p u t . v a l u e   =   g e t D a t e S t r ( s e l f . c o n f i g . d a t e F o r m a t ) ; 
 
                 i f   ( s e l f . a l t I n p u t   ! = =   u n d e f i n e d )   { 
                     s e l f . a l t I n p u t . v a l u e   =   g e t D a t e S t r ( s e l f . c o n f i g . a l t F o r m a t ) ; 
                 } 
 
                 i f   ( t r i g g e r C h a n g e   ! = =   f a l s e )   t r i g g e r E v e n t ( " o n V a l u e U p d a t e " ) ; 
             } 
 
             f u n c t i o n   o n M o n t h N a v C l i c k ( e )   { 
                 e . p r e v e n t D e f a u l t ( ) ; 
                 v a r   i s P r e v M o n t h   =   s e l f . p r e v M o n t h N a v . c o n t a i n s ( e . t a r g e t ) ; 
                 v a r   i s N e x t M o n t h   =   s e l f . n e x t M o n t h N a v . c o n t a i n s ( e . t a r g e t ) ; 
 
                 i f   ( i s P r e v M o n t h   | |   i s N e x t M o n t h )   { 
                     c h a n g e M o n t h ( i s P r e v M o n t h   ?   - 1   :   1 ) ; 
                 }   e l s e   i f   ( s e l f . y e a r E l e m e n t s . i n d e x O f ( e . t a r g e t )   > =   0 )   { 
                     e . t a r g e t . s e l e c t ( ) ; 
                 }   e l s e   i f   ( e . t a r g e t . c l a s s L i s t . c o n t a i n s ( " a r r o w U p " ) )   { 
                     s e l f . c h a n g e Y e a r ( s e l f . c u r r e n t Y e a r   +   1 ) ; 
                 }   e l s e   i f   ( e . t a r g e t . c l a s s L i s t . c o n t a i n s ( " a r r o w D o w n " ) )   { 
                     s e l f . c h a n g e Y e a r ( s e l f . c u r r e n t Y e a r   -   1 ) ; 
                 } 
             } 
 
             f u n c t i o n   t i m e W r a p p e r ( e )   { 
                 e . p r e v e n t D e f a u l t ( ) ; 
                 v a r   i s K e y D o w n   =   e . t y p e   = = =   " k e y d o w n " , 
                         i n p u t   =   e . t a r g e t ; 
 
                 i f   ( s e l f . a m P M   ! = =   u n d e f i n e d   & &   e . t a r g e t   = = =   s e l f . a m P M )   { 
                     s e l f . a m P M . t e x t C o n t e n t   =   s e l f . l 1 0 n . a m P M [ i n t ( s e l f . a m P M . t e x t C o n t e n t   = = =   s e l f . l 1 0 n . a m P M [ 0 ] ) ] ; 
                 } 
 
                 v a r   m i n   =   p a r s e F l o a t ( i n p u t . g e t A t t r i b u t e ( " d a t a - m i n " ) ) , 
                         m a x   =   p a r s e F l o a t ( i n p u t . g e t A t t r i b u t e ( " d a t a - m a x " ) ) , 
                         s t e p   =   p a r s e F l o a t ( i n p u t . g e t A t t r i b u t e ( " d a t a - s t e p " ) ) , 
                         c u r V a l u e   =   p a r s e I n t ( i n p u t . v a l u e ,   1 0 ) , 
                         d e l t a   =   e . d e l t a   | |   ( i s K e y D o w n   ?   e . w h i c h   = = =   3 8   ?   1   :   - 1   :   0 ) ; 
                 v a r   n e w V a l u e   =   c u r V a l u e   +   s t e p   *   d e l t a ; 
 
                 i f   ( t y p e o f   i n p u t . v a l u e   ! = =   " u n d e f i n e d "   & &   i n p u t . v a l u e . l e n g t h   = = =   2 )   { 
                     v a r   i s H o u r E l e m   =   i n p u t   = = =   s e l f . h o u r E l e m e n t , 
                             i s M i n u t e E l e m   =   i n p u t   = = =   s e l f . m i n u t e E l e m e n t ; 
 
                     i f   ( n e w V a l u e   <   m i n )   { 
                         n e w V a l u e   =   m a x   +   n e w V a l u e   +   i n t ( ! i s H o u r E l e m )   +   ( i n t ( i s H o u r E l e m )   & &   i n t ( ! s e l f . a m P M ) ) ; 
                         i f   ( i s M i n u t e E l e m )   i n c r e m e n t N u m I n p u t ( u n d e f i n e d ,   - 1 ,   s e l f . h o u r E l e m e n t ) ; 
                     }   e l s e   i f   ( n e w V a l u e   >   m a x )   { 
                         n e w V a l u e   =   i n p u t   = = =   s e l f . h o u r E l e m e n t   ?   n e w V a l u e   -   m a x   -   i n t ( ! s e l f . a m P M )   :   m i n ; 
                         i f   ( i s M i n u t e E l e m )   i n c r e m e n t N u m I n p u t ( u n d e f i n e d ,   1 ,   s e l f . h o u r E l e m e n t ) ; 
                     } 
 
                     i f   ( s e l f . a m P M   & &   i s H o u r E l e m   & &   ( s t e p   = = =   1   ?   n e w V a l u e   +   c u r V a l u e   = = =   2 3   :   M a t h . a b s ( n e w V a l u e   -   c u r V a l u e )   >   s t e p ) )   { 
                         s e l f . a m P M . t e x t C o n t e n t   =   s e l f . l 1 0 n . a m P M [ i n t ( s e l f . a m P M . t e x t C o n t e n t   = = =   s e l f . l 1 0 n . a m P M [ 0 ] ) ] ; 
                     } 
 
                     i n p u t . v a l u e   =   p a d ( n e w V a l u e ) ; 
                 } 
             } 
 
             i n i t ( ) ; 
             r e t u r n   s e l f ; 
         } 
 
         f u n c t i o n   _ f l a t p i c k r ( n o d e L i s t ,   c o n f i g )   { 
             v a r   n o d e s   =   A r r a y . p r o t o t y p e . s l i c e . c a l l ( n o d e L i s t ) ; 
             v a r   i n s t a n c e s   =   [ ] ; 
 
             f o r   ( v a r   i   =   0 ;   i   <   n o d e s . l e n g t h ;   i + + )   { 
                 v a r   n o d e   =   n o d e s [ i ] ; 
 
                 t r y   { 
                     i f   ( n o d e . g e t A t t r i b u t e ( " d a t a - f p - o m i t " )   ! = =   n u l l )   c o n t i n u e ; 
 
                     i f   ( n o d e . _ f l a t p i c k r   ! = =   u n d e f i n e d )   { 
                         n o d e . _ f l a t p i c k r . d e s t r o y ( ) ; 
 
                         n o d e . _ f l a t p i c k r   =   u n d e f i n e d ; 
                     } 
 
                     n o d e . _ f l a t p i c k r   =   F l a t p i c k r I n s t a n c e ( n o d e ,   c o n f i g   | |   { } ) ; 
                     i n s t a n c e s . p u s h ( n o d e . _ f l a t p i c k r ) ; 
                 }   c a t c h   ( e )   { 
                     c o n s o l e . e r r o r ( e ) ; 
                 } 
             } 
 
             r e t u r n   i n s t a n c e s . l e n g t h   = = =   1   ?   i n s t a n c e s [ 0 ]   :   i n s t a n c e s ; 
         } 
 
         i f   ( t y p e o f   H T M L E l e m e n t   ! = =   " u n d e f i n e d " )   { 
             H T M L C o l l e c t i o n . p r o t o t y p e . f l a t p i c k r   =   N o d e L i s t . p r o t o t y p e . f l a t p i c k r   =   f u n c t i o n   ( c o n f i g )   { 
                 r e t u r n   _ f l a t p i c k r ( t h i s ,   c o n f i g ) ; 
             } ; 
 
             H T M L E l e m e n t . p r o t o t y p e . f l a t p i c k r   =   f u n c t i o n   ( c o n f i g )   { 
                 r e t u r n   _ f l a t p i c k r ( [ t h i s ] ,   c o n f i g ) ; 
             } ; 
         } 
 
         v a r   f l a t p i c k r   =   f u n c t i o n   f l a t p i c k r ( s e l e c t o r ,   c o n f i g )   { 
             i f   ( s e l e c t o r   i n s t a n c e o f   N o d e L i s t )   r e t u r n   _ f l a t p i c k r ( s e l e c t o r ,   c o n f i g ) ; e l s e   i f   ( t y p e o f   s e l e c t o r   = = =   " s t r i n g " )   r e t u r n   _ f l a t p i c k r ( w i n d o w . d o c u m e n t . q u e r y S e l e c t o r A l l ( s e l e c t o r ) ,   c o n f i g ) ; 
             r e t u r n   _ f l a t p i c k r ( [ s e l e c t o r ] ,   c o n f i g ) ; 
         } ; 
 
         f l a t p i c k r . d e f a u l t C o n f i g   =   d e f a u l t s ; 
         f l a t p i c k r . l 1 0 n s   =   { 
             e n :   O b j e c t . a s s i g n ( { } ,   e n g l i s h ) , 
             d e f a u l t :   O b j e c t . a s s i g n ( { } ,   e n g l i s h ) 
         } ; 
 
         f l a t p i c k r . l o c a l i z e   =   f u n c t i o n   ( l 1 0 n )   { 
             f l a t p i c k r . l 1 0 n s . d e f a u l t   =   O b j e c t . a s s i g n ( { } ,   f l a t p i c k r . l 1 0 n s . d e f a u l t ,   l 1 0 n ) ; 
         } ; 
 
         f l a t p i c k r . s e t D e f a u l t s   =   f u n c t i o n   ( c o n f i g )   { 
             f l a t p i c k r . d e f a u l t C o n f i g   =   O b j e c t . a s s i g n ( { } ,   f l a t p i c k r . d e f a u l t C o n f i g ,   c o n f i g ) ; 
         } ; 
 
         f l a t p i c k r . p a r s e D a t e   =   c r e a t e D a t e P a r s e r ( { } ) ; 
         f l a t p i c k r . f o r m a t D a t e   =   c r e a t e D a t e F o r m a t t e r ( { } ) ; 
         f l a t p i c k r . c o m p a r e D a t e s   =   c o m p a r e D a t e s ; 
 
         i f   ( t y p e o f   j Q u e r y   ! = =   " u n d e f i n e d " )   { 
             j Q u e r y . f n . f l a t p i c k r   =   f u n c t i o n   ( c o n f i g )   { 
                 r e t u r n   _ f l a t p i c k r ( t h i s ,   c o n f i g ) ; 
             } ; 
         } 
 
         D a t e . p r o t o t y p e . f p _ i n c r   =   f u n c t i o n   ( d a y s )   { 
             r e t u r n   n e w   D a t e ( t h i s . g e t F u l l Y e a r ( ) ,   t h i s . g e t M o n t h ( ) ,   t h i s . g e t D a t e ( )   +   ( t y p e o f   d a y s   = = =   " s t r i n g "   ?   p a r s e I n t ( d a y s ,   1 0 )   :   d a y s ) ) ; 
         } ; 
 
         i f   ( t y p e o f   w i n d o w   ! = =   " u n d e f i n e d " )   { 
             w i n d o w . f l a t p i c k r   =   f l a t p i c k r ; 
         } 
 
         r e t u r n   f l a t p i c k r ; 
 
 } ) ) ) ; 
    <       https://www.campusinteraction.com/js/Bootstrap/flatpickr.js     |T     |T                           Q  !!            +H!!       C                                     
            /     &                       G    '=   HE   Q   '=   I      T :  6    O      '=   HE   Q   5            T     T  T :  6   Q1-    exports   object   module   undefined   define   function   amd   flatpickr!!      global   factory        +H;5!!       C            L      X                  1               wT   wT                         Q      Q      Q      Q      Q      Q    	  Q      Q      Q	      Q
      Q      Q   W  Q      Q[!   V  ]       ]      ]      ]      ]      ]      ]      ]      ]      ]	      ]
      ]      ]      ]      ]      ]   V  ]      ]      ]      ]   V  ]       ]      Q["   =   ]    =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]	   =   ]
   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]      Q[9   #   ]   $   ]    %   ]   &   ]   '   ]   (   ]   )   ]   *   ]   +   ]   ,   ]   -   ]	   .   ]
   /   ]   0   ]   1   ]   2   ]   3   ]   4   ]   5   ]   6   ]   7   ]   8   ]      Q[B   [<   f:   ]   f;   ]   ]   [?   f=   ]   f>   ]   ]    f@   ]!   >]"   A   ]#   =$   ]%   =&   ]'   =(   ])   =*   ]+   Z   =,   `    =-   `   ].   =/   ]0      QC      QD      QE   W   QF    
  Q[G    \&]1      QfH      Q[J   Z    ]2   Z    ]3   B]4   =5   ]6   B]7   =8   ]9   :   '=;   HE(   Q:   5<   5=   >   
=?   : H]@   =5   ]A   C]B   C]C   =D   ]E   =F   ]G   ]H   >]I   >]J   Z    ]K   B]L   Z    ]M   B]N   B]O   I   ]P   V   ]Q   ?]R   Z    ]S   B]T   =U   ]V   ]W   =X   ]Y   =Z   ][   B]\   ]   A,  R  ]^   Z    ]_   Z    ]`   Z    ]a   Z    ]b   Z    ]c   Z    ]d   Z    ]e   Z    ]f   Z    ]g   Z    ]h   Z    ]i   Z    ]j   Z    ]k   =l   ]m   n   ]o   =p   ]q   B]r   ?]s   B]t   B]u   B]v   B]w      Qx   5y   =z   I   x   K   0y   QX,   Q{   '=n   I?   |   5}   ~   5}   L   0   0   Q{   5}   M   0   QN      Q      0   Q   [Q   x   y   
[O      : ]   x   y   
[P      : ]U   0   Q   R   0   Q   S   0   Q      [T   : 0   Q      [U   : 0   Q      0   Q   '=n   I      5   V   0   Q]   5}   W   0   Q:   '=n   I   :      0   Q   #'*/258;>ADHKNQTWZ^adi       B I	   M W \	 t    D   F   G   H   J   K   M   S   U   W   Y   Z   d   h   i   j   l   m   n   s   w   y   (\w+)   (\d\d|\d)   (\d\d|\d)\w+   	   (.+)   (\d{4})   (\d{2})   shorthand   longhand   weekdays   months   daysInMonth   firstDayOfWeek   ordinal	    to    rangeSeparator   Wk!   weekAbbreviation'   Scroll to increment   scrollTitle   Click to toggle   toggleTitle   AM   PM	   amPM	   Year   yearAriaLabel   DAY   _disable   _enable   allowInput   F j, Y   altFormat   altInput%   form-control input   altInputClass   window   object   navigator   userAgent   indexOf	   MSIE   animate   ariaDateFormat   clickOpens   closeOnSelect   ,    conjunction   Y-m-d   dateFormat   defaultHour   defaultMinute   defaultSeconds   disable   disableMobile   enable   enableSeconds   enableTime   errorHandler   getWeek   hourIncrement)   ignoredFocusElements   inline   default   locale   minuteIncrement   single	   mode  <svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>   nextArrow   noCalendar	   Date   now   onChange   onClose   onDayCreate   onDestroy   onKeyDown   onMonthChange   onOpen   onParseConfig   onReady   onValueUpdate   onYearChange+   onPreCalendarPosition   plugins	   auto   position   undefined   positionElement  <svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>   prevArrow+   shorthandCurrentMonth   showMonths   static   time_24hr   weekNumbers	   wrap   Object   assign   function   HTMLElement   HTMLCollection   prototype   NodeList   flatpickr   defaultConfig   en   l10ns   localize   setDefaults   parseDate   formatDate   compareDates   jQuery   fn   fp_incr!!      arrayify   createElement#   FlatpickrInstance   findParent'   DEBOUNCED_CHANGE_MS   duration   english#   createNumberInput   isBetween   monthToStr'   createDateFormatter   toggleClass!   createDateParser   debounce   clearNode   defaults   HOOKS   getWeek   formats   compareDates   int   revFormat   tokenRegex   pad   flatpickr   _flatpickr   do_nothing        +H!!           debounce               `       	   func 	   wait    immediate    timeout   B  o    f          3         context 	   args   B    k    k     -          5 55!!          compareDates o(  )  Z(  )  7     0       5 !!          toggleClass 74  4  #4  4              5!!          createElement 4  5  4  5              5!!          clearNode 5  N6  5  N6               5 !!          findParent f6  7  S6  7              5 !!       #   createNumberInput &7  m9  7  m9               5 !!       #   FlatpickrInstance <  |K r<  |K      @  G       updateTime    buildMonthDays    isDateSelected    buildWeekdays    changeYear    focusOnDayElem %   setHoursFromInputs    parseDateRules    setupDates    isEnabled    setDefaultHours )   setupHelperFunctions    onResize )   getFirstAvailableDay    setupMobile    onMonthNavClick    instanceConfig    bindToInstance    buildMonthNav    ampm2military    timeWrapper    selectDate    isInView    parseConfig    setHours    isCalendarElem    element    onClick    buildMonth    buildTime    bindEvents    setSelectedDate    onYearInput    jumpToDate    CALLBACKS 	   self    timeIncrement    createDay    changeMonth #   incrementNumInput    build !   setHoursFromDate    setupLocale    buildWeeks    onMouseOver    focusAndClose    buildDays !   setCalendarWidth    isDateInRange    documentClick    buildMonths '   getNextAvailableDay    setupInputs    updateWeekdays    updateValue    getDateStr    redraw    onKeyDown    triggerChange !   positionCalendar    military2ampm    createEvent    triggerEvent    focusOnDay 9   updateNavigationCurrentMonth 	   bind !   minMaxDateSetter    )   setupHelperFunctions  ?  A  ?  A    #                getDaysInMonthB @  pA   @  pA    1   @       55   	   init  A  D  A  D       @       5      bindToInstance E  AE  D  AE              5    !   setCalendarWidth  bE  H  IE  H       0          config    B  ,F  H  #F  H    0           55      updateTime H  -J  H  -J  .     0       5       ampm2military KJ  J  5J  J  >            5      military2ampm J  eK  J  eK  B             5    %   setHoursFromInputs  K  UR  mK  UR  M  !   @       5   !   setHoursFromDate vR  S  ]R  S  k            5       setDefaultHours  6S  W  S  W  p     0       5      setHours 1W  Y   W  Y               5      onYearInput Y  Z  Y  Z               5    	   bind Z  \  Z  \       P          element    event    handler    options    B 	[  O[   [  O[    B          5    B [  [  [  [    F          5 5      onClick \  8]  \  8]                  handler   B \  /]  \  /]              5 5      triggerChange  V]  ]  @]  ]              5      bindEvents  ]  g  ]  g       p          B ^  ^  ]  ^    @              evt    B s^  ^  j^  ^    g          5 5   B .`  `  %`  `              5       selTextB d  d  d  d    (           5    B  f  f  f  f    [          5    B Eg  g  <g  g    :          5 5      jumpToDate g  5j  g  5j       P       5       timeIncrement Sj  j  =j  j              5   #   incrementNumInput j  l  j  l  	             5      build  *l  v  l  v              5       createDay w  ~  w  ~  O            5       focusOnDayElem <~  ~  %~  ~  y            5    )   getFirstAvailableDay ~  Y  ~  Y  ~  #   0       5    '   getNextAvailableDay }    a      "   0       5      focusOnDay                     5       buildMonthDays              @       5      buildDays               @       5       buildMonth                       5      buildMonths    J    J               5       buildMonthNav  h    R    
                 getB  o    c                 5       setB              0       5      getB    5    5               5       setB R    F    "     0       55      buildTime    k    k  .     0       5      buildWeekdays    *  s  *  \             5       updateWeekdays  I    2    h     0       5       buildWeeks    u    u  u            5       changeMonth   (  }  (       0       5      clear >    0         0       5      close    z    z               5       destroy                        B             @       55      isCalendarElem                     5       documentClick                P          e    B           J          5 5      changeYear ;  u  (  u       @       5      isEnabled   :  }  :       @       5       isInView S    B    '            5       onKeyDown         ,               B \    S    w  p          5 5      onMouseOver   0    0              	   elem    hoverDate    initialDate !   containsDisabled    minRange    maxRange    m    month    prevMonth      _loopB   y    y    $   `          dayElem   B     }      E          5    B           Q          5 55      onResize  I    8                5    	   open   9    9                 B          
             5 5   !   minMaxDateSetter Z    A                 	   type   B {    r         @         B     w      D          5 55      parseConfig          *                  getB    7    7  1             5       setB T    H    4             5       getB    ;    ;  9             5       setB X    L    <             5       getB          K             5       getB  g    [    Q             5    !   minMaxTimeSetterB         W  8   0       	   type    B 1    (    X            5 5      getB    >    >  ^             5       getB          d             5    B   	    	  u            5    B         w            5 5      setupLocale                    5   !   positionCalendar  
  
      0          B  3  3   c          5 5      redraw  
 < 
 <             5       focusAndClose  Z I D I      0       5      selectDate d  Q       `            isSelectableB       0           5   B }  t    n          5    B        8          5    B   O  O   @          5 5      set b # V #                 B R { I {   R          5 5      setSelectedDate C  +       @          format    B       G          5    B       L          5    B q  h  "  M          5    B     +  3          5    B C  :  .  K          5 5      setDate  '!  '! 3     0       5      parseDateRules F! G# /! G# G               B v! # m! # H  (           5   B # =# # =# Q            5 5      setupDates  b# * O# * V                  getB  y) ) m) ) d             5       setB ) * ) * g             5 5      setupInputs  * / * / o     0       5      setupMobile  / 5 / 5      P         B 5 5 
5 5   2          5 5      toggle 5 )6 5 )6             5       triggerEvent F6 -8 16 -8      @       5      createEvent I8 8 58 8             5      isDateSelected 8 9 8 9              5      isDateInRange 9 : 9 :             5   9   updateNavigationCurrentMonth  : o> : o>   +             B A; < 8; <   +          5 5      getDateStr > ? w> ?                 format   B > ? > ?   /          5    B ? ? ? ?             5 5      updateValue @ B ? B      @       5       onMonthNavClick B E B E      P       5      timeWrapper /E TK E TK      `       5 5!!          _flatpickr K "N K "N 3     `       5!!          padB J    >                  5 !!          intB                       5 !!          arrayifyB   #    #     $           5!!          do_nothingB  N  p  ;  p  #   (           5!!          monthToStrB         '   (           5!!          FB R    H    ,              5 !!          GB         /              5 !!          HB ,  q  "  q  2              5 !!          JB     |    5              5 !!          KB   h    h  8              5 !!          MB }    s    ;              5 !!          SB    M    M  >              5 !!          UB b    X    A              5 !!          WB   k	    k	  D              5 !!          YB 	  	  v	  	  H              5 !!          ZB 	  
  	  
  K              5 !!          dB *
  l
   
  l
  N              5 !!          hB 
  
  w
  
  Q              5 !!          iB 
  (  
  (  T              5 !!          jB =    3    W              5 !!          mB         [              5 !!          nB 	  T    T  ^              5 !!          sB i    _    a              5 !!          yB   /    /  e              5 !!       !!   D!!!!   F!!!!   G!!!!   H!!!!   J!!!!   K!!!!   M!!!!   S!!!!   U!!!!   W!!!!   Y!!!!   Z!!!!   d!!!!   h!!!!   i!!!!   j!!!!   l!!!!   m!!!!   n!!!!   s!!!!   w!!!!   y!!    !!       !!   D!!!!   F!!!!   G!!!!   H!!!!   J!!!!   K!!!!   M!!!!   S!!!!   U!!!!   W!!!!   Y!!!!   Z!!!!   d!!!!   h!!!!   i!!!!   j!!!!   l!!!!   m!!!!   n!!!!   s!!!!   w!!!!   y!!    !!          ZB i    _                  5 !!          DB                       5 !!          FB 3    )                  5 !!          GB                       5 !!          HB %  Z    Z                5 !!          JB o    e                  5 !!          KB   [    [                5 !!          MB p    f                  5 !!          SB                       5 !!          UB #  Y    Y                5 !!          WB n    d                  5 !!          YB                       5 !!          dB   A    A                5 !!          hB V    L                  5 !!          iB                       5 !!          jB   7    7                5 !!          lB L    B                  5 !!          mB                       5 !!          nB   3    3                5 !!          sB H  z  >  z                5 !!          wB                       5 !!          yB                       5 !!       !!   Z!!!!   D!!!!   F!!!!   G!!!!   H!!!!   J!!!!   K!!!!   M!!!!   S!!!!   U!!!!   W!!!!   Y!!!!   d!!!!   h!!!!   i!!!!   j!!!!   l!!!!   m!!!!   n!!!!   s!!!!   w!!!!   y!!    !!      !!   Sun!!   Mon!!   Tue!!   Wed!!   Thu!!   Fri!!   Sat   !!      !!   Sunday!!   Monday!!   Tuesday!!   Wednesday!!   Thursday!!   Friday!!   Saturday   !!       !!   shorthand!!!!   longhand!!    !!      !!   Jan!!   Feb!!   Mar!!   Apr!!   May!!   Jun!!   Jul!!   Aug!!   Sep!!   Oct!!   Nov!!   Dec   !!      !!   January!!   February!!   March!!   April!!   May!!	   June!!	   July!!   August!!   September!!   October!!   November!!   December   !!       !!   shorthand!!!!   longhand!!    !!      !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!   !!      !!           ordinalB     u          0       5!!       !!   weekdays!!!!   months!!!!   daysInMonth!!!!   firstDayOfWeek!!!!   ordinal!!!!   rangeSeparator!!!!!   weekAbbreviation!!!!   scrollTitle!!!!   toggleTitle!!!!	   amPM!!!!   yearAriaLabel!!    !!        '   createDateFormatterC  g          !                                       +    +                  T  5    W   QV   >(H     
   V      QT  5   W  QV  >(H     
   V     Q    



      config	   l10n!!   '   createDateFormatter          !!       	   _ref   _ref$config   config   _ref$l10n	   l10n      +H!!      +   createDateFormatter/<b   $    $        @          dateObj    locale   B            +          5 5;5!!       !   createDateParserC  g          !                                     a  T(  H  T(                  T  5    W   QV   >(H     
   V      QT  5   W  QV  >(H     
   V     Q    



 6    config	   l10n!!   !   createDateParser          !!          _ref2   _ref2$config   config   _ref2$l10n	   l10n      +H!!       %   createDateParser/<b P  M(  G  M(                 locale    parsedDate   B &  &  	&  &  #  #          5 5;5!!          getWeekB )  +  )  +  B  "           5 !!          isBetweenB 3+  +  !+  +  I  &           5 !!       !!   DAY!!    !!      !!   onChange!!   onClose!!   onDayCreate!!   onDestroy!!   onKeyDown!!   onMonthChange!!   onOpen!!   onParseConfig!!   onReady!!   onValueUpdate!!   onYearChange!!+   onPreCalendarPosition   !!          errorHandlerB  /  S/  .  S/  f  )           5!!    5   !!   _disable!!!!   _enable!!!!   allowInput!!!!   altFormat!!!!   altInput!!!!   altInputClass!!!!   animate!!!!   ariaDateFormat!!!!   clickOpens!!!!   closeOnSelect!!!!   conjunction!!!!   dateFormat!!!!   defaultHour!!!!   defaultMinute!!!!   defaultSeconds!!!!   disable!!!!   disableMobile!!!!   enable!!!!   enableSeconds!!!!   enableTime!!!!   errorHandler!!!!   getWeek!!!!   hourIncrement!!!!)   ignoredFocusElements!!!!   inline!!!!   locale!!!!   minuteIncrement!!!!	   mode!!!!   nextArrow!!!!   noCalendar!!!!   now!!!!   onChange!!!!   onClose!!!!   onDayCreate!!!!   onDestroy!!!!   onKeyDown!!!!   onMonthChange!!!!   onOpen!!!!   onParseConfig!!!!   onReady!!!!   onValueUpdate!!!!   onYearChange!!!!+   onPreCalendarPosition!!!!   plugins!!!!   position!!!!   positionElement!!!!   prevArrow!!!!+   shorthandCurrentMonth!!!!   showMonths!!!!   static!!!!   time_24hr!!!!   weekNumbers!!!!	   wrap!!    !!           Object.assignb 9  A<  9  A<       q          target 	   args    _i      _loopB  ;  ;  :  ;    "   @          source    B r;  ;  i;  ;    1          5 55!!       9   NodeList.prototype.flatpickrb N N N N N  S          5 !!       ?   HTMLElement.prototype.flatpickrb O QO O QO R  1          5!!          flatpickrB O P nO P W  &           5 !!            !!            !!       !!   en!!!!   default!!    !!        %   flatpickr.localizeb >Q Q 5Q Q b  "          5 !!       +   flatpickr.setDefaultsb Q *R Q *R f  %          5!!            !!            !!       '   jQuery.fn.flatpickrb S FS S FS o  %          5!!       -   Date.prototype.fp_incrb uS T lS T t  &          5 ;5;W|7      \lE\lE@\s|   <    :https://www.campusinteraction.com/js/Bootstrap/flatpickr.js strongly-framed 1 security-info FnhllAKWRHGAlo+ESXykKAAAAAAAAAAAwAAAAAAAAEaphjojH6pBabDSgSnsfLHeAAgAAgAAAAAAAAAAAAAAAAAAAAEAMQFmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAZaMIIGVjCCBT6gAwIBAgIIQPVmRmD4imAwDQYJKoZIhvcNAQELBQAwgbQxCzAJBgNVBAYTAlVTMRAwDgYDVQQIEwdBcml6b25hMRMwEQYDVQQHEwpTY290dHNkYWxlMRowGAYDVQQKExFHb0RhZGR5LmNvbSwgSW5jLjEtMCsGA1UECxMkaHR0cDovL2NlcnRzLmdvZGFkZHkuY29tL3JlcG9zaXRvcnkvMTMwMQYDVQQDEypHbyBEYWRkeSBTZWN1cmUgQ2VydGlmaWNhdGUgQXV0aG9yaXR5IC0gRzIwHhcNMTgxMTIzMTMxOTUzWhcNMTkwNDExMTAyOTAyWjBHMSEwHwYDVQQLExhEb21haW4gQ29udHJvbCBWYWxpZGF0ZWQxIjAgBgNVBAMTGXd3dy5jYW1wdXNpbnRlcmFjdGlvbi5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCuiXcFKCXU2i/3wDSccP39FMyqKycd8qY3taI33on3U/miHHHFTmM/Wup0q9A4JvFLBLwIuGVR7SzcgUIZ/SSzfIN7quVSOR+1wvxAB+MPqlUDX1r7SfFsssWaAv4GaWD9e/NXTXN9OcvsVqsz6muf0ZJUTHrGl5RaY+qWb3i6Lrn/0z/Pyn0ZTeyOCQNtfOYXJqHDzJlJhS/FIGXTfMHNjFktnbvhvIVl5RDuI67HbCOgbTNq2MSBM6QAc3+E3DhsaDE+9/s3Me3v/DntzO13O+RsrMHal5OpAr49z88GIdTHoub02lVNpfrCTY3HML84gYpPhRnGNLKpiUXlKaGNAgMBAAGjggLWMIIC0jAMBgNVHRMBAf8EAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAOBgNVHQ8BAf8EBAMCBaAwNwYDVR0fBDAwLjAsoCqgKIYmaHR0cDovL2NybC5nb2RhZGR5LmNvbS9nZGlnMnMxLTg5MS5jcmwwXQYDVR0gBFYwVDBIBgtghkgBhv1tAQcXATA5MDcGCCsGAQUFBwIBFitodHRwOi8vY2VydGlmaWNhdGVzLmdvZGFkZHkuY29tL3JlcG9zaXRvcnkvMAgGBmeBDAECATB2BggrBgEFBQcBAQRqMGgwJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmdvZGFkZHkuY29tLzBABggrBgEFBQcwAoY0aHR0cDovL2NlcnRpZmljYXRlcy5nb2RhZGR5LmNvbS9yZXBvc2l0b3J5L2dkaWcyLmNydDAfBgNVHSMEGDAWgBRAwr0njsw0gzCiM9f7bLPwtCyAzjA7BgNVHREENDAyghl3d3cuY2FtcHVzaW50ZXJhY3Rpb24uY29tghVjYW1wdXNpbnRlcmFjdGlvbi5jb20wHQYDVR0OBBYEFLOCgH8rU6WOSESEMNu/HPFRQDgWMIIBBAYKKwYBBAHWeQIEAgSB9QSB8gDwAHUApLkJkLQYWBSHuxOizGdwCjw1mAT5G9+443fNDsgN3BAAAAFnQLoLFQAABAMARjBEAiAfOrdNU3/7q/ADoEWRjuekPa5PkVOg8yn+mpEDkrm3yAIgQWgPQ13YLzWdF/K7I6Mfuu0S4Gs0b66+srZ7N1Zq6AEAdwB0ftqDMa0zEJEhnM4lT0Jwwr/9XkIgCMY3NXnmEHvMVgAAAWdAug+rAAAEAwBIMEYCIQCwlgNPmVMjeBMrb8cOgIHK0Nbx8d47ndzFla/n2V++uwIhAI1EwJ+bEo9FNXM6g5Za5+26oKnjyZMV/BWFIvrbC8tXMA0GCSqGSIb3DQEBCwUAA4IBAQBk8Y3jq3jQkxftRQ438cHgcrUFPDWHQvDTcPqZxFt/XjQ8ZJPaQumlB1PWNGQYJnVA14lAvu9OBau6JD6eUDfD8yBC/kSv+35IRSY58t5gM6Rz/byhWfk7lXnD+pSjPnvblq5DVAaESb+bsgOsk7MbxBEZ4Y1R6XpGjhipbToIrCFnlfo0B0YJmB3lQzxEe501Pk9wceD+HFEUVrxpVd/oEo5+5ccW9ikIzt7qy1faCgbe4HPKnfU7v6M65kVaI6Tfpfahh/bQWi2XSE+IDgebqrcRTdoCtDY61dG7AAwM2k3K7+qdHyocFeWzSQqylLbohu4X20bk7XfDzU9u/wcAwC8AAwAAAAABAQAAAAAAAARub25lAAAAEFJTQS1QS0NTMS1TSEEyNTYBlZ+xZWUXSH+rm9iRO+Uxl650zaXNL0c/lvXwt//2LGgAAAADZgoyJpFcT/u7IImFpjLfBb3Dl5pUIkzVhYlpa26W6oMAAAAAAAAGWjCCBlYwggU+oAMCAQICCED1ZkZg+IpgMA0GCSqGSIb3DQEBCwUAMIG0MQswCQYDVQQGEwJVUzEQMA4GA1UECBMHQXJpem9uYTETMBEGA1UEBxMKU2NvdHRzZGFsZTEaMBgGA1UEChMRR29EYWRkeS5jb20sIEluYy4xLTArBgNVBAsTJGh0dHA6Ly9jZXJ0cy5nb2RhZGR5LmNvbS9yZXBvc2l0b3J5LzEzMDEGA1UEAxMqR28gRGFkZHkgU2VjdXJlIENlcnRpZmljYXRlIEF1dGhvcml0eSAtIEcyMB4XDTE4MTEyMzEzMTk1M1oXDTE5MDQxMTEwMjkwMlowRzEhMB8GA1UECxMYRG9tYWluIENvbnRyb2wgVmFsaWRhdGVkMSIwIAYDVQQDExl3d3cuY2FtcHVzaW50ZXJhY3Rpb24uY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArol3BSgl1Nov98A0nHD9/RTMqisnHfKmN7WiN96J91P5ohxxxU5jP1rqdKvQOCbxSwS8CLhlUe0s3IFCGf0ks3yDe6rlUjkftcL8QAfjD6pVA19a+0nxbLLFmgL+Bmlg/XvzV01zfTnL7FarM+prn9GSVEx6xpeUWmPqlm94ui65/9M/z8p9GU3sjgkDbXzmFyahw8yZSYUvxSBl03zBzYxZLZ274byFZeUQ7iOux2wjoG0zatjEgTOkAHN/hNw4bGgxPvf7NzHt7/w57cztdzvkbKzB2peTqQK+Pc/PBiHUx6Lm9NpVTaX6wk2NxzC/OIGKT4UZxjSyqYlF5SmhjQIDAQABo4IC1jCCAtIwDAYDVR0TAQH/BAIwADAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDgYDVR0PAQH/BAQDAgWgMDcGA1UdHwQwMC4wLKAqoCiGJmh0dHA6Ly9jcmwuZ29kYWRkeS5jb20vZ2RpZzJzMS04OTEuY3JsMF0GA1UdIARWMFQwSAYLYIZIAYb9bQEHFwEwOTA3BggrBgEFBQcCARYraHR0cDovL2NlcnRpZmljYXRlcy5nb2RhZGR5LmNvbS9yZXBvc2l0b3J5LzAIBgZngQwBAgEwdgYIKwYBBQUHAQEEajBoMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC5nb2RhZGR5LmNvbS8wQAYIKwYBBQUHMAKGNGh0dHA6Ly9jZXJ0aWZpY2F0ZXMuZ29kYWRkeS5jb20vcmVwb3NpdG9yeS9nZGlnMi5jcnQwHwYDVR0jBBgwFoAUQMK9J47MNIMwojPX+2yz8LQsgM4wOwYDVR0RBDQwMoIZd3d3LmNhbXB1c2ludGVyYWN0aW9uLmNvbYIVY2FtcHVzaW50ZXJhY3Rpb24uY29tMB0GA1UdDgQWBBSzgoB/K1OljkhEhDDbvxzxUUA4FjCCAQQGCisGAQQB1nkCBAIEgfUEgfIA8AB1AKS5CZC0GFgUh7sTosxncAo8NZgE+RvfuON3zQ7IDdwQAAABZ0C6CxUAAAQDAEYwRAIgHzq3TVN/+6vwA6BFkY7npD2uT5FToPMp/pqRA5K5t8gCIEFoD0Nd2C81nRfyuyOjH7rtEuBrNG+uvrK2ezdWaugBAHcAdH7agzGtMxCRIZzOJU9CcMK//V5CIAjGNzV55hB7zFYAAAFnQLoPqwAABAMASDBGAiEAsJYDT5lTI3gTK2/HDoCBytDW8fHeO53cxZWv59lfvrsCIQCNRMCfmxKPRTVzOoOWWuftuqCp48mTFfwVhSL62wvLVzANBgkqhkiG9w0BAQsFAAOCAQEAZPGN46t40JMX7UUON/HB4HK1BTw1h0Lw03D6mcRbf140PGST2kLppQdT1jRkGCZ1QNeJQL7vTgWruiQ+nlA3w/MgQv5Er/t+SEUmOfLeYDOkc/28oVn5O5V5w/qUoz5725auQ1QGhEm/m7IDrJOzG8QRGeGNUel6Ro4YqW06CKwhZ5X6NAdGCZgd5UM8RHudNT5PcHHg/hxRFFa8aVXf6BKOfuXHFvYpCM7e6stX2goG3uBzyp31O7+jOuZFWiOk36X2oYf20Fotl0hPiA4Hm6q3EU3aArQ2OtXRuwAMDNpNyu/qnR8qHBXls0kKspS26IbuF9tG5O13w81Pbv8HAGYKMiaRXE/7uyCJhaYy3wW9w5eaVCJM1YWJaWtuluqDAAAAAAAABNQwggTQMIIDuKADAgECAgEHMA0GCSqGSIb3DQEBCwUAMIGDMQswCQYDVQQGEwJVUzEQMA4GA1UECBMHQXJpem9uYTETMBEGA1UEBxMKU2NvdHRzZGFsZTEaMBgGA1UEChMRR29EYWRkeS5jb20sIEluYy4xMTAvBgNVBAMTKEdvIERhZGR5IFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5IC0gRzIwHhcNMTEwNTAzMDcwMDAwWhcNMzEwNTAzMDcwMDAwWjCBtDELMAkGA1UEBhMCVVMxEDAOBgNVBAgTB0FyaXpvbmExEzARBgNVBAcTClNjb3R0c2RhbGUxGjAYBgNVBAoTEUdvRGFkZHkuY29tLCBJbmMuMS0wKwYDVQQLEyRodHRwOi8vY2VydHMuZ29kYWRkeS5jb20vcmVwb3NpdG9yeS8xMzAxBgNVBAMTKkdvIERhZGR5IFNlY3VyZSBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkgLSBHMjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALngyxDUr3a91JNi6zBkuIEIbMME2WIXji//PmXPj85i5jxSHNoWRUtVq3hrY4NikM4PaWyZyBoUi0zMRTPqiNyeo68r/oBhnXlXxM8u9D8wPF1H/JoWvMM3lkFRjhFLVPgovtCMvvAwOB7zsCb4Zkdjbd5xJkePOEdT0UYdtOPcAOpFrL28cdmqbwDb280wOnlPX0xH+B3vW8LEnWA7sbJDkdikM07qs9YnT60liqXG9NXQpq50BWRXiLVEVdQtKjo++Li96TIKApRkxBY6UPFKrud5M68MIAd/6N8EOcJpAmxjUvp3wRvIdIfIuZMYUFQ1S2lOvDvTSS4f3MHSUvsCAwEAAaOCARowggEWMA8GA1UdEwEB/wQFMAMBAf8wDgYDVR0PAQH/BAQDAgEGMB0GA1UdDgQWBBRAwr0njsw0gzCiM9f7bLPwtCyAzjAfBgNVHSMEGDAWgBQ6moUHEGcotu/2vQVBbiDBlNoP3jA0BggrBgEFBQcBAQQoMCYwJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmdvZGFkZHkuY29tLzA1BgNVHR8ELjAsMCqgKKAmhiRodHRwOi8vY3JsLmdvZGFkZHkuY29tL2dkcm9vdC1nMi5jcmwwRgYDVR0gBD8wPTA7BgRVHSAAMDMwMQYIKwYBBQUHAgEWJWh0dHBzOi8vY2VydHMuZ29kYWRkeS5jb20vcmVwb3NpdG9yeS8wDQYJKoZIhvcNAQELBQADggEBAAh+bJMQyDi4lqmQS/+hX08E72w+nIgGyVCPpnP3VzEbvrzkL9v4utNb4LTn5nliDgyi12pjczG19ahIpDsILaJdkNe0fCVPEVYwxLZEnXssneVe5u8MYaq/5Cob7oSeuIN9wUPORKcTcA2RH/TIE62DYNnYcqhzJB61rCIOyheJYlhEG6uJJQEAD83EG2LbUbTTD1Eqm/S8c/x2zjakzdnYLOqum/UqspDRTXUYij+KQZAjfVtL/qQDWJtGssNgYIP4fVBBzsKhkMO77wIv0hVU7kQV2Qqup4oz7bEtdjYm3ATrn/dhHxXch2/uRpYoraEmfQoJpy4Eo428+LwEMAFmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAPJMIIDxTCCAq2gAwIBAgIBADANBgkqhkiG9w0BAQsFADCBgzELMAkGA1UEBhMCVVMxEDAOBgNVBAgTB0FyaXpvbmExEzARBgNVBAcTClNjb3R0c2RhbGUxGjAYBgNVBAoTEUdvRGFkZHkuY29tLCBJbmMuMTEwLwYDVQQDEyhHbyBEYWRkeSBSb290IENlcnRpZmljYXRlIEF1dGhvcml0eSAtIEcyMB4XDTA5MDkwMTAwMDAwMFoXDTM3MTIzMTIzNTk1OVowgYMxCzAJBgNVBAYTAlVTMRAwDgYDVQQIEwdBcml6b25hMRMwEQYDVQQHEwpTY290dHNkYWxlMRowGAYDVQQKExFHb0RhZGR5LmNvbSwgSW5jLjExMC8GA1UEAxMoR28gRGFkZHkgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkgLSBHMjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAL9xYgjx+lk09xvJGKP3gElY6SKDE6bFIEMBO4Tx5oVJnyfq9oQbTqC023CYxzIBsQU+B07u9PpPL1kwIuerGVZr4oAH/PMWdYA5UXvl+TW2dE6pjYIT5LY/qQOD+qK+ihVqf94Lw7YZFAXK6sOoBJQ7RnwyDfMAZiLIjWltNowRGLfTshxgtDj6AozO091GB94KPutdfMh8+7ArU6SSYmlRJQVhGkSBjCypQ5Yj36w6gZoOKcUcqeldHraenjAKOc7xiID7S13MMuyFYkMlNAJWJwGRtDtwKj9useiciAF9n9T521NtYJ2/LOdYq7hfRvzOxBsDPAnrSTFcaUaz4EcCAwEAAaNCMEAwDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAQYwHQYDVR0OBBYEFDqahQcQZyi27/a9BUFuIMGU2g/eMA0GCSqGSIb3DQEBCwUAA4IBAQCZ21151fmXWWcDYfF+OwYxdS2hII5PZYe096acvNjpL9DbWu7PdIxztDhC2gV7+AJ1uP2lsdeu9tfeE8tTEH6KRtGX+rcuKxGrkLAngPnon1rpN5+r5N9ss4UXnT3ZJE95kTXWXwTrgIOrmgIttRD02JDHBHNA7XIloKmf7J6raBKZV8aPEjoJpL1E/QYVN8Gb5DKj7Tjo2GTzLH4U/ALqn83/B2gX2yKQOC16jdFU8WnjXzPKej17CuPKf1855eJ1usV2GDPOLPAvTK33sefOT6jEm0pUBsV/fdUID+Ic/n4XuKxe9tQWskMJDE32p2u0mYRlynqI4uJEvlz36hz1AA== request-method GET response-head HTTP/1.1 200 OK
Accept-Ranges: bytes
ETag: W/"87164-1542092460000"
Last-Modified: Tue, 13 Nov 2018 07:01:00 GMT
Content-Type: application/javascript;charset=ISO-8859-1
Content-Language: en-US
Content-Length: 87164
Date: Mon, 18 Feb 2019 05:26:40 GMT
Server: Apache-Coyote/1.1
 original-response-headers Date: Thu, 24 Jan 2019 09:25:51 GMT
Server: Apache-Coyote/1.1
Accept-Ranges: bytes
ETag: W/"87164-1542092460000"
Last-Modified: Tue, 13 Nov 2018 07:01:00 GMT
Content-Type: application/javascript;charset=ISO-8859-1
Content-Language: en-US
Content-Length: 87164
Connection: close
 uncompressed-len 0 net-response-time-onstart 442 net-response-time-onstop 1039 alt-data 1;87164,javascript/moz-bytecode-20190128165852 alt-data-from-child 1 necko:classified 1  [r